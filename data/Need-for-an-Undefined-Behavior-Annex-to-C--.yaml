- en: <!--yml
  id: totrans-split-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: æœªåˆ†ç±»'
  id: totrans-split-1
  prefs: []
  type: TYPE_NORMAL
  zh: åˆ†ç±»ï¼šæœªåˆ†ç±»
- en: 'date: 2024-05-27 14:29:40'
  id: totrans-split-2
  prefs: []
  type: TYPE_NORMAL
  zh: æ—¥æœŸï¼š2024-05-27 14:29:40
- en: -->
  id: totrans-split-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: Need for an Undefined Behavior Annex to C++
  id: totrans-split-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: éœ€è¦ä¸€ä¸ª C++ æœªå®šä¹‰è¡Œä¸ºé™„å½•
- en: æ¥æºï¼š[https://community.intel.com/t5/Blogs/Tech-Innovation/Tools/Why-do-we-need-a-Undefined-Behavior-Annex-for-the-C-standard/post/1574397](https://community.intel.com/t5/Blogs/Tech-Innovation/Tools/Why-do-we-need-a-Undefined-Behavior-Annex-for-the-C-standard/post/1574397)
  id: totrans-split-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ¥æºï¼š[https://community.intel.com/t5/Blogs/Tech-Innovation/Tools/Why-do-we-need-a-Undefined-Behavior-Annex-for-the-C-standard/post/1574397](https://community.intel.com/t5/Blogs/Tech-Innovation/Tools/Why-do-we-need-a-Undefined-Behavior-Annex-for-the-C-standard/post/1574397)
- en: Intel's developer software engineers are not only working on the latest optimizations
    and improvements in the IntelÂ® oneAPI DPC++/C++ Compiler. We actively contribute
    to the advancements of Khronos Group's [SYCL*](https://www.khronos.org/sycl/),
    the [LLVM*](https://llvm.org/) Project,Â and the latest C and [C++ language standard](https://isocpp.org/std/the-standard)sÂ .
  id: totrans-split-6
  prefs: []
  type: TYPE_NORMAL
  zh: Intel çš„å¼€å‘è½¯ä»¶å·¥ç¨‹å¸ˆä¸ä»…åœ¨ IntelÂ® oneAPI DPC++/C++ Compiler çš„æœ€æ–°ä¼˜åŒ–å’Œæ”¹è¿›ä¸Šå·¥ä½œã€‚æˆ‘ä»¬è¿˜ç§¯æè´¡çŒ®äº Khronos
    Group çš„ [SYCL*](https://www.khronos.org/sycl/)ã€[LLVM*](https://llvm.org/) é¡¹ç›®ä»¥åŠæœ€æ–°çš„
    C å’Œ [C++ è¯­è¨€æ ‡å‡†](https://isocpp.org/std/the-standard)ã€‚
- en: We would like to share a more detailed picture of what is happening in the C
    and C++ world with the software engineering community and how Intel actively contributes
    to the latest standards revisions.
  id: totrans-split-7
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¸Œæœ›ä¸è½¯ä»¶å·¥ç¨‹ç¤¾åŒºåˆ†äº« C å’Œ C++ é¢†åŸŸæ­£åœ¨å‘ç”Ÿçš„è¯¦ç»†æƒ…å†µï¼Œä»¥åŠ Intel å¦‚ä½•ç§¯æè´¡çŒ®äºæœ€æ–°çš„æ ‡å‡†ä¿®è®¢ã€‚
- en: A Blog Series on Our C/C++ Standards Contributions
  id: totrans-split-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å…³äºæˆ‘ä»¬çš„ C/C++ æ ‡å‡†è´¡çŒ®çš„åšå®¢ç³»åˆ—
- en: To that end, we are starting a new series of blog posts highlighting Intel's
    work on the C and C++ standards.
  id: totrans-split-9
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ­£åœ¨å¼€å§‹ä¸€ç³»åˆ—æ–°çš„åšå®¢æ–‡ç« ï¼Œé‡ç‚¹ä»‹ç» Intel åœ¨ C å’Œ C++ æ ‡å‡†ä¸Šçš„å·¥ä½œã€‚
- en: In particular, safety and security are one of the most active focus areas of
    our work on the next language standard revisions. This article will discuss the
    effort to create a much-needed Undefined Behavior Annex for the C++ Standard.
    This will strengthen coding standards for functional determinism and security,
    even for uncommon or unanticipated application code paths.
  id: totrans-split-10
  prefs: []
  type: TYPE_NORMAL
  zh: ç‰¹åˆ«æ˜¯ï¼Œå®‰å…¨æ€§å’Œå®‰å…¨æ€§æ˜¯æˆ‘ä»¬åœ¨ä¸‹ä¸€ä¸ªè¯­è¨€æ ‡å‡†ä¿®è®¢ä¸­å·¥ä½œçš„æœ€æ´»è·ƒçš„ç„¦ç‚¹ä¹‹ä¸€ã€‚æœ¬æ–‡å°†è®¨è®ºä¸º C++ æ ‡å‡†åˆ›å»ºéå¸¸å¿…è¦çš„æœªå®šä¹‰è¡Œä¸ºé™„å½•çš„åŠªåŠ›ã€‚è¿™å°†åŠ å¼ºåŠŸèƒ½ç¡®å®šæ€§å’Œå®‰å…¨æ€§çš„ç¼–ç æ ‡å‡†ï¼Œå³ä½¿æ˜¯å¯¹äºä¸å¸¸è§æˆ–æœªé¢„æ–™åˆ°çš„åº”ç”¨ç¨‹åºä»£ç è·¯å¾„ã€‚
- en: There are areas we know are important to the [IntelÂ® oneAPI DPC++/C++ Compiler](https://www.intel.com/content/www/us/en/developer/tools/oneapi/dpc-compiler.html)
    user community and the oneAPI and C/C++ community at large. We know that because
    C and C++ are continuously evolving languages. Keeping track of the fast pace
    of change within the community is hard if you are not actively involved. Intel's
    C and C++ Compiler team is involved in this evolution at many points, participating
    in standardization through
  id: totrans-split-11
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬çŸ¥é“ï¼Œ[IntelÂ® oneAPI DPC++/C++ Compiler](https://www.intel.com/content/www/us/en/developer/tools/oneapi/dpc-compiler.html)
    ç”¨æˆ·ç¤¾åŒºå’Œæ•´ä¸ª oneAPI å’Œ C/C++ ç¤¾åŒºçš„é‡ç‚¹é¢†åŸŸæœ‰å‡ ä¸ªã€‚è¿™æ˜¯å› ä¸º C å’Œ C++ æ˜¯ä¸æ–­å‘å±•çš„è¯­è¨€ã€‚å¦‚æœä½ ä¸ç§¯æå‚ä¸ï¼Œå¾ˆéš¾è·Ÿä¸Šç¤¾åŒºå¿«é€Ÿå˜åŒ–çš„æ­¥ä¼ã€‚Intel
    çš„ C å’Œ C++ ç¼–è¯‘å™¨å›¢é˜Ÿåœ¨è¿™ä¸€è¿›ç¨‹ä¸­å‚ä¸äº†å¤šä¸ªç‚¹ï¼Œé€šè¿‡å‚ä¸æ ‡å‡†åŒ–å·¥ä½œã€‚
- en: writing proposals
  id: totrans-split-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†™ææ¡ˆ
- en: attending meetings
  id: totrans-split-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å‚åŠ ä¼šè®®
- en: chairing committees
  id: totrans-split-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ‹…ä»»å§”å‘˜ä¼šä¸»å¸­
- en: Submitting open-source contributions to LLVM and the Clang compiler.
  id: totrans-split-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æäº¤å¼€æºè´¡çŒ®ç»™ LLVM å’Œ Clang ç¼–è¯‘å™¨ã€‚
- en: Being active in the community at large.
  id: totrans-split-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨æ•´ä¸ªç¤¾åŒºä¸­ç§¯æå‚ä¸ã€‚
- en: We would like to take this engagement with the community to the next level by
    using this format to encourage a dialog about the latest developments and focal
    points in C and C++ programming.
  id: totrans-split-17
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬å¸Œæœ›é€šè¿‡è¿™ç§æ ¼å¼å°†æˆ‘ä»¬ä¸ç¤¾åŒºçš„äº’åŠ¨æ¨å‘ä¸€ä¸ªæ–°çš„æ°´å¹³ï¼Œä»¥é¼“åŠ±å…³äº C å’Œ C++ ç¼–ç¨‹çš„æœ€æ–°å‘å±•å’Œç„¦ç‚¹çš„å¯¹è¯ã€‚
- en: Undefined Behavior Scenario Annex
  id: totrans-split-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æœªå®šä¹‰è¡Œä¸ºæƒ…æ™¯é™„å½•
- en: 'I am Shafik Yaghmour, a Compiler Engineer at Intel supporting C++. I am active
    in the C++ community in many forms:'
  id: totrans-split-19
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘æ˜¯ Intel çš„ç¼–è¯‘å·¥ç¨‹å¸ˆ Shafik Yaghmourï¼Œæ”¯æŒ C++ã€‚æˆ‘åœ¨ C++ ç¤¾åŒºä»¥å¤šç§å½¢å¼ç§¯æå‚ä¸ï¼š
- en: This blog highlights some of my work on the C++ standard committee.
  id: totrans-split-20
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™ç¯‡åšå®¢çªå‡ºäº†æˆ‘åœ¨ C++ æ ‡å‡†å§”å‘˜ä¼šçš„ä¸€äº›å·¥ä½œã€‚
- en: 'My proposal,Â [P1705R1: Enumerating Core Undefined Behavior](http://wg21.link/P1705R1)Â [2],
    discusses adding an *undefined behavior* annex to the C++ standard.'
  id: totrans-split-21
  prefs: []
  type: TYPE_NORMAL
  zh: 'æˆ‘çš„ææ¡ˆï¼Œ[P1705R1: Enumerating Core Undefined Behavior](http://wg21.link/P1705R1)
    [2]ï¼Œè®¨è®ºäº†å‘ C++ æ ‡å‡†æ·»åŠ æœªå®šä¹‰è¡Œä¸ºé™„å½•ã€‚'
- en: Invoking *undefined behavior* has all sorts of unintuitive consequences, such
    as [the removal of safety checks](https://blog.regehr.org/archives/970),Â [turning
    finite loops infinite](https://stackoverflow.com/questions/32506643/c-compilation-bug),Â [booleans
    that can both be false and true](https://markshroyer.com/2012/06/c-both-true-and-false/),
    and apparentlyÂ [undefined behavior can even time travel](https://devblogs.microsoft.com/oldnewthing/20140627-00/?p=633)Â [3]Â 
    ğŸ¤¯. These consequences are not desirable and can lead to safety and security issues.
  id: totrans-split-22
  prefs: []
  type: TYPE_NORMAL
  zh: è°ƒç”¨*æœªå®šä¹‰è¡Œä¸º*ä¼šå¯¼è‡´å„ç§ä¸ç›´è§‚çš„åæœï¼Œä¾‹å¦‚[åˆ é™¤å®‰å…¨æ£€æŸ¥](https://blog.regehr.org/archives/970)ã€[ä½¿æœ‰é™å¾ªç¯æ— é™](https://stackoverflow.com/questions/32506643/c-compilation-bug)ã€[å¸ƒå°”å€¼æ—¢å¯ä»¥æ˜¯falseä¹Ÿå¯ä»¥æ˜¯true](https://markshroyer.com/2012/06/c-both-true-and-false/)ï¼Œè€Œä¸”æ˜¾ç„¶[æœªå®šä¹‰è¡Œä¸ºç”šè‡³å¯ä»¥æ—¶é—´æ—…è¡Œ](https://devblogs.microsoft.com/oldnewthing/20140627-00/?p=633)
    [3] ğŸ¤¯ã€‚è¿™äº›åæœæ˜¯ä¸å¯å–çš„ï¼Œå¯èƒ½å¯¼è‡´å®‰å…¨å’Œå®‰å…¨é—®é¢˜ã€‚
- en: Safety Implications of Undefined Behavior
  id: totrans-split-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æœªå®šä¹‰è¡Œä¸ºçš„å®‰å…¨å½±å“
- en: 'To avoid the consequences of undefined behavior in code, many industries employ
    two strategies:'
  id: totrans-split-24
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†é¿å…ä»£ç ä¸­æœªå®šä¹‰è¡Œä¸ºçš„åæœï¼Œè®¸å¤šè¡Œä¸šé‡‡ç”¨äº†ä¸¤ç§ç­–ç•¥ï¼š
- en: Rigorous and well-documented dynamic functional safety and security attack vector
    verification testing. Regulatory bodies often mandate this for safety-sensitive
    industries such as the medical devices, aviation, manufacturing and automotive
    sectors.
  id: totrans-split-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸¥æ ¼ä¸”æœ‰æ–‡æ¡£æ”¯æŒçš„åŠ¨æ€åŠŸèƒ½å®‰å…¨æ€§å’Œå®‰å…¨æ”»å‡»å‘é‡éªŒè¯æµ‹è¯•ã€‚ç›‘ç®¡æœºæ„é€šå¸¸è¦æ±‚åœ¨åŒ»ç–—è®¾å¤‡ã€èˆªç©ºã€åˆ¶é€ ä¸šå’Œæ±½è½¦ç­‰å®‰å…¨æ•æ„Ÿè¡Œä¸šä¸­è¿›è¡Œæ­¤ç±»æµ‹è¯•ã€‚
- en: Strict adherence to coding standards (such as MISRA and AUTOSAR) that may limit
    the developer's ability to take advantage of the latest C++ language features.
  id: totrans-split-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ä¸¥æ ¼éµå®ˆç¼–ç æ ‡å‡†ï¼ˆå¦‚MISRAå’ŒAUTOSARï¼‰ï¼Œè¿™å¯èƒ½é™åˆ¶å¼€å‘äººå‘˜åˆ©ç”¨æœ€æ–°çš„C++è¯­è¨€ç‰¹æ€§çš„èƒ½åŠ›ã€‚
- en: Developers do this, because the consequence of undefined behavior causing non-deterministic
    functional outcomes may well mean the loss of not just property but could also
    endanger people's safety!
  id: totrans-split-27
  prefs: []
  type: TYPE_NORMAL
  zh: å¼€å‘äººå‘˜è¿™æ ·åšï¼Œå› ä¸ºæœªå®šä¹‰è¡Œä¸ºå¯¼è‡´çš„éç¡®å®šæ€§åŠŸèƒ½ç»“æœå¯èƒ½æ„å‘³ç€ä¸ä»…è´¢äº§çš„æŸå¤±ï¼Œè¿˜å¯èƒ½å±åŠäººä»¬çš„å®‰å…¨ï¼
- en: 'So I ask myself:'
  id: totrans-split-28
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤æˆ‘é—®è‡ªå·±ï¼š
- en: What if we took advantage of the rich and long history of C and C++ Â and documented
    cases of undefined behavior to define a clear, complete, authoritative list of
    potential undefined behavior scenarios to avoid and recommended fixes?
  id: totrans-split-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬åˆ©ç”¨Cå’ŒC++çš„ä¸°å¯Œä¸”æ‚ ä¹…çš„å†å²ï¼Œå¹¶è®°å½•äº†æœªå®šä¹‰è¡Œä¸ºçš„æ¡ˆä¾‹ï¼Œä»¥å®šä¹‰ä¸€ä¸ªæ˜ç¡®ã€å®Œæ•´ã€æƒå¨çš„æ½œåœ¨æœªå®šä¹‰è¡Œä¸ºåœºæ™¯æ¸…å•ï¼Œä»¥é¿å…å¹¶æ¨èä¿®å¤æ–¹æ³•ï¼Œé‚£ä¼šæ€æ ·ï¼Ÿ
- en: What if this list was part of the C++ standard itself?
  id: totrans-split-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¦‚æœè¿™ä¸ªæ¸…å•æˆä¸ºC++æ ‡å‡†çš„ä¸€éƒ¨åˆ†å‘¢ï¼Ÿ
- en: This could introduce a new level of functional safety and protections against
    many security exploits to a wider range of use cases without the restrictive overhead
    of DOE-178 or ISO 26262 type regulations.
  id: totrans-split-31
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™å¯èƒ½ä¸ºæ›´å¹¿æ³›çš„ç”¨ä¾‹å¼•å…¥æ–°çš„åŠŸèƒ½å®‰å…¨å’Œå¯¹æŠ—è®¸å¤šå®‰å…¨æ¼æ´çš„ä¿æŠ¤ï¼Œè€Œæ— éœ€DOE-178æˆ–ISO 26262ç±»å‹çš„é™åˆ¶æ€§å¼€é”€ã€‚
- en: A Comprehensive Reference for Undefined Behavior
  id: totrans-split-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: æœªå®šä¹‰è¡Œä¸ºçš„ç»¼åˆå‚è€ƒèµ„æ–™
- en: 'Currently, this proposed comprehensive reference for *undefined behavior*Â does
    not exist. If you are a developer attempting to understand what *undefined behaviors*
    you need to avoid, you must refer to the 2000+ page C++ standard document and
    the 20+ years of defect reports. To add to this challenge,Â *undefined behavior*
    can be referred to in the document using several different phrases:'
  id: totrans-split-33
  prefs: []
  type: TYPE_NORMAL
  zh: ç›®å‰ï¼Œè¿™ä¸ªæè®®çš„å…³äº*æœªå®šä¹‰è¡Œä¸º*çš„ç»¼åˆå‚è€ƒèµ„æ–™è¿˜ä¸å­˜åœ¨ã€‚å¦‚æœä½ æ˜¯å¼€å‘äººå‘˜ï¼Œè¯•å›¾ç†è§£éœ€è¦é¿å…çš„*æœªå®šä¹‰è¡Œä¸º*ï¼Œä½ å¿…é¡»å‚è€ƒ2000å¤šé¡µçš„C++æ ‡å‡†æ–‡æ¡£å’Œ20å¤šå¹´çš„ç¼ºé™·æŠ¥å‘Šã€‚å¢åŠ éš¾åº¦çš„æ˜¯ï¼Œæ–‡æ¡£ä¸­å¯èƒ½ç”¨å‡ ç§ä¸åŒçš„çŸ­è¯­æ¥æè¿°*æœªå®šä¹‰è¡Œä¸º*ï¼š
- en: the behavior of the program is undefined
  id: totrans-split-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç¨‹åºçš„è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„
- en: has undefined behavior
  id: totrans-split-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¡Œä¸ºæœªå®šä¹‰
- en: results in undefined behavior
  id: totrans-split-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¼è‡´æœªå®šä¹‰è¡Œä¸º
- en: the behavior is undefined
  id: totrans-split-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: è¡Œä¸ºæ˜¯æœªå®šä¹‰çš„
- en: have undefined behavior
  id: totrans-split-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å…·æœ‰æœªå®šä¹‰è¡Œä¸º
- en: is undefined
  id: totrans-split-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ˜¯æœªå®šä¹‰çš„
- en: result has undefined behavior
  id: totrans-split-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»“æœå…·æœ‰æœªå®šä¹‰è¡Œä¸º
- en: Then, after finding each *undefined behavior* entry, there may not be an example.
    Therefore, it may be unclear how the *undefined behavior* works. This is a daunting
    task even for a very knowledgeable C++ developer. This also hinders tool developers
    from building tools to make software more secure, as well as researchers in software
    safety and security.
  id: totrans-split-41
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶åï¼Œåœ¨æ‰¾åˆ°æ¯ä¸ª*æœªå®šä¹‰è¡Œä¸º*æ¡ç›®åï¼Œå¯èƒ½æ²¡æœ‰ç¤ºä¾‹ã€‚å› æ­¤ï¼Œå¯èƒ½ä¸æ¸…æ¥š*æœªå®šä¹‰è¡Œä¸º*çš„å·¥ä½œåŸç†ã€‚å³ä½¿å¯¹äºéå¸¸äº†è§£C++çš„å¼€å‘äººå‘˜æ¥è¯´ï¼Œè¿™ä¹Ÿæ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚è¿™ä¹Ÿå¦¨ç¢äº†å·¥å…·å¼€å‘äººå‘˜æ„å»ºä½¿è½¯ä»¶æ›´å®‰å…¨çš„å·¥å…·ï¼Œä»¥åŠè½¯ä»¶å®‰å…¨å’Œå®‰å…¨æ€§ç ”ç©¶äººå‘˜ã€‚
- en: We are also ignoring ***implicit undefined behavior***, which is behavior that
    violates the rules in the standard but is not explicitly called out as *undefined
    behavior*. It is just as bad as the explicit kind but much harder to find.
  id: totrans-split-42
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ä¹Ÿå¿½ç•¥ ***éšå¼æœªå®šä¹‰è¡Œä¸º***ï¼Œè¿™æ˜¯è¿åæ ‡å‡†è§„åˆ™ä½†æ²¡æœ‰æ˜ç¡®æŒ‡å‡ºä¸º *æœªå®šä¹‰è¡Œä¸º* çš„è¡Œä¸ºã€‚å®ƒå’Œæ˜¾å¼çš„é‚£ç§ä¸€æ ·ç³Ÿç³•ï¼Œä½†æ›´éš¾å‘ç°ã€‚
- en: So, one of the main goals of *P1705R1* is to create an ***undefined behavior
    annex*** or listing of ***explicit* *undefined behaviorÂ ***in the C++ standard.
    Each entry would include a description in accessible language and an example(s)
    of the *undefined behavior* in code. This should allow developers to learn about
    undefined behavior. While we don't expect everyday developers to refer to the
    C++ standard themselves, having the material will allow blog authors, conference
    presenters, and trainers to develop more comprehensive material covering *undefined
    behavior*.
  id: totrans-split-43
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œ*P1705R1* çš„ä¸»è¦ç›®æ ‡ä¹‹ä¸€æ˜¯åˆ›å»ºä¸€ä¸ª ***æœªå®šä¹‰è¡Œä¸ºé™„ä»¶*** æˆ–è€…åˆ—å‡º ***æ˜¾å¼* *æœªå®šä¹‰è¡Œä¸º*** åœ¨ C++ æ ‡å‡†ä¸­ã€‚æ¯ä¸€æ¡ç›®éƒ½ä¼šåŒ…æ‹¬ä»¥æ˜“äºç†è§£çš„è¯­è¨€æè¿°å’Œä»£ç ä¸­çš„
    *æœªå®šä¹‰è¡Œä¸º* ç¤ºä¾‹ã€‚è¿™åº”è¯¥è®©å¼€å‘äººå‘˜èƒ½å¤Ÿå­¦ä¹ æœ‰å…³æœªå®šä¹‰è¡Œä¸ºçš„çŸ¥è¯†ã€‚å°½ç®¡æˆ‘ä»¬ä¸æŒ‡æœ›æ—¥å¸¸å¼€å‘äººå‘˜è‡ªè¡ŒæŸ¥é˜… C++ æ ‡å‡†ï¼Œä½†è¿™äº›ææ–™å°†å…è®¸åšå®¢ä½œè€…ã€ä¼šè®®æ¼”è®²è€…å’ŒåŸ¹è®­å¸ˆå¼€å‘æ›´å…¨é¢çš„æ¶µç›–
    *æœªå®šä¹‰è¡Œä¸º* çš„èµ„æ–™ã€‚
- en: This will also allow the C++ committee to track the growth or shrinkage of *undefined
    behavior*. We also will require future proposal authors to keep the annex updated
    if they add or remove *undefined behavior*. They are makingÂ *undefined behavior*
    an explicit topic to be discussed when reviewing a proposal. It also gives explicit
    targets for future proposal writers to attempt to shrink *undefined behavior*
    in the standard.
  id: totrans-split-44
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™è¿˜å°†å…è®¸ C++ å§”å‘˜ä¼šè·Ÿè¸ª *æœªå®šä¹‰è¡Œä¸º* çš„å¢é•¿æˆ–å‡å°‘ã€‚æˆ‘ä»¬è¿˜å°†è¦æ±‚æœªæ¥çš„ææ¡ˆä½œè€…ä¿æŒé™„ä»¶çš„æ›´æ–°ï¼Œå¦‚æœä»–ä»¬æ·»åŠ æˆ–åˆ é™¤ *æœªå®šä¹‰è¡Œä¸º*ã€‚ä»–ä»¬æ­£åœ¨ä½¿
    *æœªå®šä¹‰è¡Œä¸º* æˆä¸ºå®¡æŸ¥ææ¡ˆæ—¶è®¨è®ºçš„æ˜ç¡®ä¸»é¢˜ã€‚è¿™ä¹Ÿä¸ºæœªæ¥çš„ææ¡ˆä½œè€…æä¾›äº†æ˜ç¡®çš„ç›®æ ‡ï¼Œè¯•å›¾åœ¨æ ‡å‡†ä¸­å‡å°‘ *æœªå®šä¹‰è¡Œä¸º*ã€‚
- en: Another goal that came up during a recent review of the proposal is that we
    want to turn implicit *undefined behavior* into ***explicit undefined behavior***.
    This requires identifying *i**mplicit undefined behavior*** and then having theÂ [Core
    Language Wording Group](https://isocpp.org/std/the-committee)Â  update the wording
    to make the behavior explicitly *undefined*. The benefit here is that we document
    more *undefined behavior*. It is also an opportunity to determine if the intent
    was for this to be *undefined* and, if not, document that.
  id: totrans-split-45
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ€è¿‘ä¸€æ¬¡ææ¡ˆå®¡æŸ¥ä¸­æå‡ºçš„å¦ä¸€ä¸ªç›®æ ‡æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›å°†éšå¼ *æœªå®šä¹‰è¡Œä¸º* è½¬å˜ä¸º ***æ˜¾å¼æœªå®šä¹‰è¡Œä¸º***ã€‚è¿™éœ€è¦è¯†åˆ« *éšå¼æœªå®šä¹‰è¡Œä¸º*ï¼Œç„¶åè®©Â [æ ¸å¿ƒè¯­è¨€æªè¾ç»„](https://isocpp.org/std/the-committee)Â æ›´æ–°æªè¾ï¼Œä½¿è¡Œä¸ºæ˜ç¡®ä¸º
    *æœªå®šä¹‰*ã€‚è¿™é‡Œçš„å¥½å¤„æ˜¯æˆ‘ä»¬è®°å½•æ›´å¤š *æœªå®šä¹‰è¡Œä¸º*ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæœºä¼šæ¥ç¡®å®šè¿™æ˜¯å¦æ˜¯æ„å›¾ä¸ºæ­¤ä¸º *æœªå®šä¹‰*ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™è®°å½•ä¸‹æ¥ã€‚
- en: 'In [P3075R0: Adding an Undefined Behavior and IFNDR Annex](https://wg21.link/P3075R0)Â [4],
    I also extend this idea to include adding an ill-formed no diagnostic required
    (IFNDR) annex. *IFNDR* differs from *undefined behavior* in that while your program
    is still *undefined,* it is aÂ [static property of your program and not a run-time
    property](https://shafik.github.io/c++/2023/07/09/lets-enumerate-ub-part-1.html).
    While this does not have the unrestricted runtime consequences of *undefined behavior,*
    it can still lead to safety and security issues since programs containing *IFNDR*
    may not be diagnosed and may have unintuitive results.'
  id: totrans-split-46
  prefs: []
  type: TYPE_NORMAL
  zh: 'åœ¨ [P3075R0: æ·»åŠ æœªå®šä¹‰è¡Œä¸ºå’Œ IFNDR é™„ä»¶](https://wg21.link/P3075R0)Â [4] ä¸­ï¼Œæˆ‘è¿˜æ‰©å±•äº†è¿™ä¸ªæƒ³æ³•ï¼ŒåŒ…æ‹¬æ·»åŠ ä¸€ä¸ªä¸éœ€è¦è¯Šæ–­çš„ä¸è§„èŒƒé™„ä»¶ï¼ˆIFNDRï¼‰ã€‚*IFNDR*
    ä¸ *æœªå®šä¹‰è¡Œä¸º* çš„åŒºåˆ«åœ¨äºï¼Œå°½ç®¡ç¨‹åºä»ç„¶æ˜¯ *æœªå®šä¹‰* çš„ï¼Œä½†è¿™æ˜¯ç¨‹åºçš„ *é™æ€å±æ€§è€Œéè¿è¡Œæ—¶å±æ€§*ã€‚è™½ç„¶è¿™ä¸åƒ *æœªå®šä¹‰è¡Œä¸º* é‚£æ ·æœ‰æ— é™åˆ¶çš„è¿è¡Œæ—¶åæœï¼Œä½†å®ƒä»å¯èƒ½å¯¼è‡´å®‰å…¨å’Œå®‰å…¨é—®é¢˜ï¼Œå› ä¸ºåŒ…å«
    *IFNDR* çš„ç¨‹åºå¯èƒ½ä¸ä¼šè¢«è¯Šæ–­ï¼Œå¹¶å¯èƒ½äº§ç”Ÿå‡ºä¹æ„æ–™çš„ç»“æœã€‚'
- en: Share Your Thoughts
  id: totrans-split-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ†äº«æ‚¨çš„æƒ³æ³•
- en: 'We are looking forward to your feedback on proposalÂ [P3075R0: Adding an Undefined
    Behavior and IFNDR Annex](https://wg21.link/P3075R0).'
  id: totrans-split-48
  prefs: []
  type: TYPE_NORMAL
  zh: 'æˆ‘ä»¬æœŸå¾…æ‚¨å¯¹ææ¡ˆ [P3075R0: æ·»åŠ æœªå®šä¹‰è¡Œä¸ºå’Œ IFNDR é™„ä»¶](https://wg21.link/P3075R0) çš„åé¦ˆã€‚'
- en: What do you think should be considered. Let us work together to advance the
    C++ standard set it on the path to fully embrace safety and security paradigms.
  id: totrans-split-49
  prefs: []
  type: TYPE_NORMAL
  zh: æ‚¨è®¤ä¸ºåº”è¯¥è€ƒè™‘ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬å…±åŒåŠªåŠ›æ¨åŠ¨ C++ æ ‡å‡†çš„å‘å±•ï¼Œä½¿å…¶å®Œå…¨æ‹¥æŠ±å®‰å…¨å’Œå®‰å…¨èŒƒå¼ã€‚
- en: Please feel free to leave comments below.
  id: totrans-split-50
  prefs: []
  type: TYPE_NORMAL
  zh: è¯·éšæ—¶åœ¨ä¸‹æ–¹ç•™ä¸‹è¯„è®ºã€‚
- en: References
  id: totrans-split-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å‚è€ƒèµ„æ–™
- en: '**[1]** S. Yaghmour, [What is the Strict Aliasing Rule and Why do we care?,](https://gist.github.com/shafik/848ae25ee209f698763cffee272a58f8)
    Gist.GitHub, 2020'
  id: totrans-split-52
  prefs: []
  type: TYPE_NORMAL
  zh: '**[1]** S. Yaghmourï¼Œã€Šä»€ä¹ˆæ˜¯ä¸¥æ ¼åˆ«åè§„åˆ™ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å…³å¿ƒï¼Ÿã€‹ï¼ŒGist.GitHubï¼Œ2020å¹´'
- en: '**[2]** S. Yaghmour, P1075R1: [Enumerating Core Undefined Behavior](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1705r1.html),
    2019'
  id: totrans-split-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**[2]** S. Yaghmourï¼ŒP1075R1ï¼š[åˆ—ä¸¾æ ¸å¿ƒæœªå®šä¹‰è¡Œä¸º](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1705r1.html)ï¼Œ2019'
- en: '**[3]** R. Chen,Â [Undefined behavior can result in time travel](https://devblogs.microsoft.com/oldnewthing/20140627-00/?p=633),
    Microsoft* DevBlogs, 2014'
  id: totrans-split-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**[3]** R. Chenï¼Œ[æœªå®šä¹‰è¡Œä¸ºå¯èƒ½å¯¼è‡´æ—¶é—´æ—…è¡Œ](https://devblogs.microsoft.com/oldnewthing/20140627-00/?p=633)ï¼ŒMicrosoft*
    DevBlogsï¼Œ2014'
- en: '**[4]** S. Yaghmour, P3075R0:Â [Adding an Undefined Behavior and IFNDR Annex,](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p3075r0.pdf)Â 
    2023'
  id: totrans-split-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**[4]** S. Yaghmourï¼ŒP3075R0ï¼š[æ·»åŠ æœªå®šä¹‰è¡Œä¸ºå’ŒIFNDRé™„ä»¶](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p3075r0.pdf)ï¼Œ2023'
- en: Further Reading
  id: totrans-split-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: è¿›ä¸€æ­¥é˜…è¯»

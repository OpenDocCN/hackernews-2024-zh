- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 14:54:10'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: Anonymous Block Forwarding in Ruby
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://www.writesoftwarewell.com/anonymous-block-forwarding-in-ruby/](https://www.writesoftwarewell.com/anonymous-block-forwarding-in-ruby/)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: You probably have used (or at least heard about) the argument forwarding feature
    in Ruby, which was added in Ruby 2.7, that lets you forward all the arguments
    passed to a method, as they are, to another method, using the three dots `...`
    syntax.
  prefs: []
  type: TYPE_NORMAL
- en: '**This includes all positional, named, and even block arguments.**'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '**Did you know that there''s a similar shorthand to forward a block anonymously?**
    I learned this very recently (yesterday!), and I love it.'
  prefs: []
  type: TYPE_NORMAL
- en: 'Notice the `perform` method in the following example:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Earlier, you''d have done something like:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: 'But starting in Ruby 3.1, you can do this:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: Pretty cool, right? Also looks pretty nice, in my opinion. What do you think?
  prefs: []
  type: TYPE_NORMAL
- en: 'If you like this syntax, and would like to enforce it via Rubocop ([Rails 8
    ships with a default Rubocop linter out of box](https://github.com/rails/rubocop-rails-omakase?ref=writesoftwarewell.com)),
    you can use the following Rule:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: 'On the other hand, if you prefer the older explicit version, enforce it with
    this rule:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: P.S. For an in-depth explanation, I suggest reading [this post](https://zverok.space/blog/2023-11-24-syntax-sugar4-argument-forwarding.html?ref=writesoftwarewell.com)
    from zverok. It goes into much more depth.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: That's a wrap. I hope you found this article helpful and you learned something
    new.
  prefs: []
  type: TYPE_NORMAL
- en: As always, if you have any questions or feedback, didn't understand something,
    or found a mistake, please leave a comment below or [send me an email](mailto:akshay.khot@hey.com?ref=akshays-blog).
    I reply to all emails I get from developers, and I look forward to hearing from
    you.
  prefs: []
  type: TYPE_NORMAL
- en: If you'd like to receive future articles directly in your email, please [subscribe
    to my blog](#/portal/signup). If you're already a subscriber, thank you.
  prefs: []
  type: TYPE_NORMAL
- en: Subscribe to get the new posts via email. Your email address is never sold or
    shared.
  prefs: []
  type: TYPE_NORMAL

<!--yml

类别：未分类

日期：2024-05-27 15:01:33

-->

# 什么是长上下文窗口？谷歌 DeepMind 工程师解释

> 来源：[https://blog.google/technology/ai/long-context-window-ai-models/](https://blog.google/technology/ai/long-context-window-ai-models/)

昨天，我们宣布了我们的[下一代 Gemini 模型](https://blog.google/technology/ai/google-gemini-next-generation-model-february-2024)：Gemini 1.5\. 除了速度和效率大幅提升外，Gemini 1.5 的一个创新之处在于其长上下文窗口，这是指模型可以一次处理的标记数量 —— 这些标记是最小的构建单元，例如词的一部分、图像或视频的一部分。为了帮助理解这一里程碑的重要性，我们请谷歌 DeepMind 项目团队解释长上下文窗口是什么，以及这一突破性实验性功能如何在许多方面帮助开发者。

上下文窗口对于帮助 AI 模型在会话中回忆信息非常重要。你有没有在别人说完名字几分钟后就忘记他们的名字，或者跑到房间另一头拿笔记本记下刚给你的电话号码？在对话中记住事物对 AI 模型也可能很棘手 —— 也许你曾经遇到过聊天机器人在几轮对话后“忘记”信息的情况。这就是长上下文窗口能帮助的地方。

以前，Gemini 一次最多可以处理 32,000 个标记，但我们正在早期测试发布的首个 1.5 Pro 模型的上下文窗口可以达到 1 *百万* 个标记 —— 这是迄今为止任何大规模基础模型的最长上下文窗口。事实上，我们甚至已经成功测试了达到 10 百万个标记的情况。而上下文窗口越长，模型可以接收和处理的文本、图像、音频、代码或视频就越多。

"我们最初的计划是在上下文中实现 128,000 个标记，我认为设定一个雄心勃勃的目标是件好事，所以我建议 1 百万个标记，" 谷歌 DeepMind 研究科学家 Nikolay Savinov 之一在长上下文项目的研究负责人说道。"而现在，在我们的研究中，我们甚至已经超过了这个目标 10 倍。"

要实现这种飞跃，团队必须进行一系列深度学习创新。Pranav Shyam 的早期探索提供了宝贵的见解，帮助我们将后续的研究引向正确方向。"一次突破导致另一次突破，每一个都开辟了新的可能性，" 谷歌 DeepMind 工程师Denis Teplyashin 解释道。"然后，当它们全部叠加在一起时，我们非常惊讶地发现它们能做到什么，从 128,000 个标记跳跃到 512,000 个标记，最近甚至在我们的内部研究中达到了 10 百万个标记。"

1.5 Pro 能处理的原始数据打开了与模型交互的全新方式。例如，它不再只是总结几十页长的文档，而是可以总结*数千*页长的文档。旧模型可以帮助分析数千行代码，而得益于突破性的长上下文窗口，1.5 Pro 可以一次分析数万行代码。

“在一个测试中，我们放入了一个完整的代码库，它为其编写了文档，这真的很酷，” Google DeepMind 的研究科学家 Machel Reid 说。“还有另一个测试，我们给模型整个 45 分钟的电影 *《神探福尔摩斯》* 来‘观看’后，它能准确回答有关1924年电影《神探福尔摩斯少爷》的问题。”

1.5 Pro 还能推理出在提示中提供的数据。“在过去几天里，我最喜欢的一个例子是这种罕见的语言 —— 卡拉曼语 —— 全球仅有不到 200 人说得流利，关于它只有一本语法手册，” Machel 说。“如果你只是让模型翻译成这种语言，它不能独立说出来，但通过扩展的长上下文窗口，你可以将整个语法手册以及一些例句放入上下文中，模型能够学会从英语翻译成卡拉曼语，达到与从相同内容学习的人类类似的水平。”

Gemini 1.5 Pro 标配128K令牌上下文窗口，但一小部分开发人员和企业客户可以通过AI Studio和Vertex AI在私人预览中尝试使用长达一百万令牌的上下文窗口。完整的一百万令牌上下文窗口计算密集型，仍需进一步优化以改进延迟，我们正在积极推进扩展。

随着团队展望未来，他们继续努力使模型更快、更高效，以[安全为核心](https://blog.google/technology/ai/google-gemini-next-generation-model-february-2024/#ethics-safety)。他们还在努力扩展长上下文窗口，改进底层架构，并整合新的硬件改进。“一次处理一千万个令牌已接近我们张贴的张贴限制，我们还不知道极限在哪里，而且随着硬件的不断改进，模型可能还能做得更多，” Nikolay 说。

团队对开发人员和更广泛社区能够实现的体验充满期待。“当我第一次看到我们在上下文中有一百万个令牌时，我的第一个问题是，‘你究竟要用这个做什么？’” Machel 说。“但现在，我认为人们的想象力在扩展，他们将会找到越来越多创造性的方式来利用这些新能力。”

<!--yml

category: 未分类

日期：2024-05-29 13:21:50

-->

# 写蠢代码 —— Matthew Rocklin

> 来源：[https://matthewrocklin.com/write-dumb-code.html](https://matthewrocklin.com/write-dumb-code.html)

# 写蠢代码

*对于开源项目，你能做出的最大贡献就是从中删除代码。* *我们应该努力编写能让初学者无需解释即可轻松理解的代码，或者能让维护者无需大量时间投入即可理解的代码。*

作为学生，我们尝试越来越具有挑战性的问题，运用越来越复杂的技术。我们先学习循环，然后是函数，再然后是类，等等。我们在这个等级制度中不断进步时受到称赞，编写更长、更先进技术的程序。我们了解到，经验丰富的程序员使用单子（monads），而新手程序员使用for循环。

然后我们毕业了，找到了一份工作或者加入了其他人一起开发的开源项目。我们寻找能够添加自己贡献的东西，并自豪地实现了一个解决方案，使用学校学到的所有技巧。

*啊哈！我可以扩展这个项目来做X！而且我可以在这里使用继承！太棒了！*

我们实现了这个功能并感到自豪，这是有道理的。在真实系统中编程绝非小事。这确实是我的经历。我兴奋地写代码，自豪地展示我对世界知识技术的了解。作为我对编程技术的历史热爱的证据，这里是一个使用另一种元编程语言构建的[线性代数语言](https://github.com/mrocklin/matrix-algebra)。注意，这段代码已经多年没有人触及过。

然而，经过更多地维护代码后，我现在有了些许不同的看法。

1.  我们不应该试图去构建软件。软件是我们为了解决问题而支付的代价，这才是我们真正的目标。我们应该尽可能少地构建软件来解决我们的问题。

1.  我们应该尽可能使用简单的技术，这样尽可能多的人可以使用和扩展它们，而不需要理解我们的高级技术。只有在我们无法想出如何使用更常见的技术时，才应该使用高级技术。

这两点都不是新颖的观点。我遇到的大多数人在某种程度上都同意它们，但不知何故，当我们开始为新项目做贡献时，我们会忘记它们。贡献通过构建和展示复杂性的本能往往会占据上风。

## 软件是成本

每行你写的代码都会耗费他人的时间。当然，写代码也会耗费你自己的时间，但你愿意做出这种个人牺牲。然而，这段代码也会耗费审阅者的时间去理解它。它还会耗费未来的维护者和开发者的时间，因为他们需要修复和修改你的代码。他们本可以用这些时间在户外享受阳光或者与家人在一起。

当你向项目添加代码时，你应该感到谦逊。这种感觉就像你和家人一起吃饭，桌子上的食物不够。你应该只拿你所需的，而不是更多。与你在一起的人会尊重你为限制自己而做出的努力。用更少的代码解决问题是困难的，但这是你自己承担的负担，以减轻他人的负担。

## 复杂的技术更难维护

作为学生，我们通过使用越来越先进的技术来展示自己的优点。我们的价值取决于我们在公共项目中使用函数、类、高阶函数、单子等的能力。我们向同行展示我们的解决方案，并根据我们的复杂性感到自豪或羞耻。

然而，在团队中解决世界问题时，情况正好相反。现在，我们努力用尽可能简单的代码解决问题。当我们简单解决问题时，我们使初级程序员能够扩展我们的解决方案以解决其他问题。简单的代码能够帮助他人，增加我们的影响力。我们通过用基本技术解决难题来展示我们的价值。

*看！我用一个for循环替换了这个递归函数，而它仍然能做我们需要的一切。我知道这不够聪明，但我注意到实习生们在处理它时遇到了困难，我觉得这个改变可能会有所帮助。*

如果你是一个优秀的程序员，那么你不需要展示你知道多酷的技巧。相反，你可以通过以简单的方式解决问题来展示你的价值，这样每个团队成员都能在未来做出贡献。

## 但是，适度，当然

话虽如此，过度坚持“用简单工具构建事物”的教条主义可能会适得其反。通常，递归解决方案比for循环解决方案简单得多，而使用类或单子往往是正确的方法。但是当我们使用这些技术时，我们应该注意，我们正在为自己构建一个系统；一个他人没有经验的系统。

- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
- en: 'category: Êú™ÂàÜÁ±ª'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 14:38:38'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: Command Line Interface Guidelines
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Êù•Ê∫êÔºö[https://clig.dev/](https://clig.dev/)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: <main>
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: Command Line Interface Guidelines
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: An [open-source](https://github.com/cli-guidelines/cli-guidelines) guide to
    help you write better command-line programs, taking traditional UNIX principles
    and updating them for the modern day.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: Authors
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**Aanand Prasad**'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: Engineer at Squarespace, co-creator of Docker Compose.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '[@aanandprasad](https://twitter.com/aanandprasad)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '**Ben Firshman**'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: Co-creator [Replicate](https://replicate.ai/), co-creator of Docker Compose.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: '[@bfirsh](https://twitter.com/bfirsh)'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: '**Carl Tashian**'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: Offroad Engineer at [Smallstep](https://smallstep.com/), first engineer at Zipcar,
    co-founder Trove.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: '[tashian.com](https://tashian.com/) [@tashian](https://twitter.com/tashian)'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: '**Eva Parish**'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: Technical Writer at Squarespace, O‚ÄôReilly contributor.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: '[evaparish.com](https://evaparish.com/) [@evpari](https://twitter.com/evpari)'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: Design by [Mark Hurrell](https://mhurrell.co.uk/). Thanks to Andreas Jansson
    for early contributions, and Andrew Reitz, Ashley Williams, Brendan Falk, Chester
    Ramey, Dj Walker-Morgan, Jacob Maine, James Coglan, Michael Dwan, and Steve Klabnik
    for reviewing drafts.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: '[Join us on Discord](https://discord.gg/EbAW5rUCkE) if you want to discuss
    the guide or CLI design.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: Foreword
  id: totrans-24
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In the 1980s, if you wanted a personal computer to do something for you, you
    needed to know what to type when confronted with `C:\>` or `~<main. Help came
    in the form of thick, spiral-bound manuals. Error messages were opaque. There
    was no Stack Overflow to save you. But if you were lucky enough to have internet
    access, you could get help from Usenet‚Äîan early internet community filled with
    other people who were just as frustrated as you were. They could either help you
    solve your problem, or at least provide some moral support and camaraderie.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: Forty years later, computers have become so much more accessible to everyone,
    often at the expense of low-level end user control. On many devices, there is
    no command-line access at all, in part because it goes against the corporate interests
    of walled gardens and app stores.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: Most people today don‚Äôt know what the command line is, much less why they would
    want to bother with it. As computing pioneer Alan Kay said in [a 2017 interview](https://www.fastcompany.com/40435064/what-alan-kay-thinks-about-the-iphone-and-technology-now),
    ‚ÄúBecause people don‚Äôt understand what computing is about, they think they have
    it in the iPhone, and that illusion is as bad as the illusion that ‚ÄòGuitar Hero‚Äô
    is the same as a real guitar.‚Äù
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: Kay‚Äôs ‚Äúreal guitar‚Äù isn‚Äôt the CLI‚Äînot exactly. He was talking about ways of
    programming computers that offer the power of the CLI and that transcend writing
    software in text files. There is a belief among Kay‚Äôs disciples that we need to
    break out of a text-based local maximum that we‚Äôve been living in for decades.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: It‚Äôs exciting to imagine a future where we program computers very differently.
    Even today, spreadsheets are by far the most popular programming language, and
    the no-code movement is taking off quickly as it attempts to replace some of the
    intense demand for talented programmers.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: Yet with its creaky, decades-old constraints and inexplicable quirks, the command
    line is still the most *versatile* corner of the computer. It lets you pull back
    the curtain, see what‚Äôs really going on, and creatively interact with the machine
    at a level of sophistication and depth that GUIs cannot afford. It‚Äôs available
    on almost any laptop, for anyone who wants to learn it. It can be used interactively,
    or it can be automated. And, it doesn‚Äôt change as fast as other parts of the system.
    There is creative value in its stability.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: So, while we still have it, we should try to maximize its utility and accessibility.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: 'A lot has changed about how we program computers since those early days. The
    command line of the past was *machine-first*: little more than a REPL on top of
    a scripting platform. But as general-purpose interpreted languages have flourished,
    the role of the shell script has shrunk. Today‚Äôs command line is *human-first*:
    a text-based UI that affords access to all kinds of tools, systems and platforms.
    In the past, the editor was inside the terminal‚Äîtoday, the terminal is just as
    often a feature of the editor. And there‚Äôs been a proliferation of `git`-like
    multi-tool commands. Commands within commands, and high-level commands that perform
    entire workflows rather than atomic functions.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Ëá™‰ªéÈÇ£‰∫õÊó©Êúü‰ª•Êù•ÔºåÊàë‰ª¨ÁºñÂÜôËÆ°ÁÆóÊú∫Á®ãÂ∫èÁöÑÊñπÂºèÂ∑≤ÁªèÂèëÁîü‰∫ÜÂæàÂ§öÂèòÂåñ„ÄÇËøáÂéªÁöÑÂëΩ‰ª§Ë°åÊòØ*Èù¢ÂêëÊú∫Âô®*ÁöÑÔºöÂè™ÊòØ‰∏Ä‰∏™ËÑöÊú¨Âπ≥Âè∞‰∏äÁöÑ REPL„ÄÇ‰ΩÜÈöèÁùÄÈÄöÁî®Ëß£ÈáäÊÄßËØ≠Ë®ÄÁöÑÂÖ¥Ëµ∑Ôºåshell
    ËÑöÊú¨ÁöÑ‰ΩúÁî®Â∑≤ÁªèÂèòÂ∞è„ÄÇÁé∞Âú®ÁöÑÂëΩ‰ª§Ë°åÊòØ*Èù¢Âêë‰∫∫*ÁöÑÔºö‰∏Ä‰∏™Âü∫‰∫éÊñáÊú¨ÁöÑÁïåÈù¢ÔºåÂèØ‰ª•ËÆøÈóÆÂêÑÁßçÂ∑•ÂÖ∑ÔºåÁ≥ªÁªüÂíåÂπ≥Âè∞„ÄÇËøáÂéªÔºåÁºñËæëÂô®Âú®ÁªàÁ´ØÈáå‚Äî‚Äî‰ªäÂ§©ÔºåÁªàÁ´ØÂêåÊ†∑ÁªèÂ∏∏ÊòØÁºñËæëÂô®ÁöÑ‰∏Ä‰∏™ÂäüËÉΩ„ÄÇËøòÊúâÂÉè
    `git` ‰∏ÄÊ†∑ÁöÑÂ§öÂ∑•ÂÖ∑ÂëΩ‰ª§„ÄÇÂëΩ‰ª§ÈáåÈù¢ÁöÑÂëΩ‰ª§ÔºåÈ´òÁ∫ßÂà´ÁöÑÂëΩ‰ª§ÊâßË°åÊï¥‰∏™Â∑•‰ΩúÊµÅÔºåËÄå‰∏çÊòØÂéüÂ≠êÂäüËÉΩ„ÄÇ
- en: Inspired by traditional UNIX philosophy, driven by an interest in encouraging
    a more delightful and accessible CLI environment, and guided by our experiences
    as programmers, we decided it was time to revisit the best practices and design
    principles for building command-line programs.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: Âèó‰º†Áªü UNIX Âì≤Â≠¶ÁöÑÂêØÂèëÔºåÂèóÂà∞ÈºìÂä±Êõ¥‰ª§‰∫∫ÊÑâÂø´ÂíåÊòìÁî®ÁöÑ CLI ÁéØÂ¢ÉÁöÑÂÖ¥Ë∂£ÁöÑÈ©±Âä®Ôºå‰ª•ÂèäÊàë‰ª¨‰Ωú‰∏∫Á®ãÂ∫èÂëòÁöÑÁªèÈ™åÁöÑÊåáÂºïÔºåÊàë‰ª¨ÂÜ≥ÂÆöÊòØÊó∂ÂÄôÈáçÊñ∞ÂÆ°ËßÜÊûÑÂª∫ÂëΩ‰ª§Ë°åÁ®ãÂ∫èÁöÑÊúÄ‰Ω≥ÂÆûË∑µÂíåËÆæËÆ°ÂéüÂàô‰∫Ü„ÄÇ
- en: Long live the command line!
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: ÂëΩ‰ª§Ë°åÈïøÂ≠ò
- en: Introduction
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ‰ªãÁªç
- en: This document covers both high-level design philosophy, and concrete guidelines.
    It‚Äôs heavier on the guidelines because our philosophy as practitioners is not
    to philosophize too much. We believe in learning by example, so we‚Äôve provided
    plenty of those.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Ëøô‰ªΩÊñáÊ°£Êó¢Ê∂µÁõñÈ´òÁ∫ßËÆæËÆ°ÁêÜÂøµÔºåÂèàÂåÖÂê´ÂÖ∑‰ΩìÁöÑÊåáÂØºÊñπÈíà„ÄÇÊàë‰ª¨Êõ¥ÁúãÈáçÊåáÂØºÊñπÈíàÔºåÂõ†‰∏∫‰Ωú‰∏∫ÂÆûË∑µËÄÖÔºåÊàë‰ª¨ÁöÑÂì≤Â≠¶‰∏çÊòØËøáÂ§öÂú∞Âì≤Â≠¶Âåñ„ÄÇÊàë‰ª¨Áõ∏‰ø°ÈÄöËøáÁ§∫‰æãÂ≠¶‰π†ÔºåÊâÄ‰ª•Êàë‰ª¨Êèê‰æõ‰∫ÜÂ§ßÈáèÁ§∫‰æã„ÄÇ
- en: This guide doesn‚Äôt cover full-screen terminal programs like emacs and vim. Full-screen
    programs are niche projects‚Äîvery few of us will ever be in the position to design
    one.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: Ëøô‰∏™ÊåáÂçó‰∏çÊ∂µÁõñÂÉè emacs Âíå vim ËøôÊ†∑ÁöÑÂÖ®Â±èÁªàÁ´ØÁ®ãÂ∫è„ÄÇÂÖ®Â±èÁ®ãÂ∫èÊòØÂ∞è‰ºóÈ°πÁõÆ‚Äî‚ÄîÊàë‰ª¨ÂæàÂ∞ëÊúâ‰∫∫‰ºöÂ§ÑÂú®ËÆæËÆ°ËøôÊ†∑ÁöÑ‰ΩçÁΩÆ„ÄÇ
- en: This guide is also agnostic about programming languages and tooling in general.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: Ëøô‰∏™ÊåáÂçó‰πü‰∏çÂÅèÂêë‰∫éÁâπÂÆöÁöÑÁºñÁ®ãËØ≠Ë®ÄÂíåÈÄöÁî®Â∑•ÂÖ∑„ÄÇ
- en: Who is this guide for?
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: Ëøô‰∏™ÊåáÂçóÈÄÇÂêàË∞ÅÔºü
- en: If you are creating a CLI program and you are looking for principles and concrete
    best practices for its UI design, this guide is for you.
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Â¶ÇÊûú‰Ω†Ê≠£Âú®ÂàõÂª∫‰∏Ä‰∏™ CLI Á®ãÂ∫èÔºåÂπ∂‰∏îÂú®ÂØªÊâæÂéüÂàôÂíåÂÖ∑‰ΩìÊúÄ‰Ω≥ÂÆûË∑µÊù•ËÆæËÆ°ÂÖ∂Áî®Êà∑ÁïåÈù¢ÔºåËøô‰∏™ÊåáÂçóÈÄÇÂêà‰Ω†„ÄÇ
- en: If you are a professional ‚ÄúCLI UI designer,‚Äù that‚Äôs amazing‚Äîwe‚Äôd love to learn
    from you.
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Â¶ÇÊûú‰Ω†ÊòØ‰∏ÄÂêç‰∏ì‰∏öÁöÑ‚ÄúCLI UI ËÆæËÆ°Â∏à‚ÄùÔºåÈÇ£Â§™Ê£í‰∫Ü‚Äî‚ÄîÊàë‰ª¨Âæà‰πêÊÑèÂêë‰Ω†Â≠¶‰π†„ÄÇ
- en: If you‚Äôd like to avoid obvious missteps of the variety that go against 40 years
    of CLI design conventions, this guide is for you.
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Â¶ÇÊûú‰Ω†ÊÉ≥ÈÅøÂÖçÊòéÊòæÁöÑÈîôËØØÔºåËÄåËøô‰∫õÈîôËØØËøùÂèç‰∫Ü 40 Âπ¥ÁöÑ CLI ËÆæËÆ°Á∫¶ÂÆöÔºåËøô‰∏™ÊåáÂçóÈÄÇÂêà‰Ω†„ÄÇ
- en: If you want to delight people with your program‚Äôs good design and helpful help,
    this guide is definitely for you.
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Â¶ÇÊûú‰Ω†ÊÉ≥Áî®‰Ω†ÁöÑÁ®ãÂ∫èÁöÑËâØÂ•ΩËÆæËÆ°ÂíåÊúâÂ∏ÆÂä©ÁöÑÂ∏ÆÂä©Êù•ÂèñÊÇ¶‰∫∫‰ª¨ÔºåËøô‰∏™ÊåáÂçóÁªùÂØπÈÄÇÂêà‰Ω†„ÄÇ
- en: If you are creating a GUI program, this guide is not for you‚Äîthough you may
    learn some GUI anti-patterns if you decide to read it anyway.
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Â¶ÇÊûú‰Ω†Ê≠£Âú®ÂàõÂª∫‰∏Ä‰∏™ GUI Á®ãÂ∫èÔºåËøô‰∏™ÊåáÂçó‰∏çÈÄÇÂêà‰Ω†‚Äî‚ÄîÂ∞ΩÁÆ°Â¶ÇÊûú‰Ω†ÂÜ≥ÂÆöÈòÖËØªÔºåÂèØËÉΩ‰ºöÂ≠¶Âà∞‰∏Ä‰∫õ GUI ÁöÑÂèçÊ®°Âºè„ÄÇ
- en: If you are designing an immersive, full-screen CLI port of Minecraft, this guide
    isn‚Äôt for you. (But we can‚Äôt wait to see it!)
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Â¶ÇÊûú‰Ω†Ê≠£Âú®ËÆæËÆ°‰∏Ä‰∏™Ê≤âÊµ∏ÂºèÁöÑÂÖ®Â±è CLI ÁâàÊú¨ÁöÑ MinecraftÔºåËøô‰∏™ÊåáÂçó‰∏çÈÄÇÂêà‰Ω†„ÄÇ Ôºà‰ΩÜÊàë‰ª¨Ëø´‰∏çÂèäÂæÖÊÉ≥ÁúãÂà∞ÂÆÉÔºÅÔºâ
- en: Philosophy
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Âì≤Â≠¶
- en: These are what we consider to be the fundamental principles of good CLI design.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: Ëøô‰∫õÊòØÊàë‰ª¨ËÆ§‰∏∫ÁöÑËâØÂ•Ω CLI ËÆæËÆ°ÁöÑÂü∫Êú¨ÂéüÂàô„ÄÇ
- en: Human-first design
  id: totrans-48
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ‰∫∫ÂÖàËÆæËÆ°
- en: Traditionally, UNIX commands were written under the assumption they were going
    to be used primarily by other programs. They had more in common with functions
    in a programming language than with graphical applications.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: ‰º†Áªü‰∏äÔºåUNIX ÂëΩ‰ª§ÊòØÂú®ÂÆÉ‰ª¨‰∏ªË¶Å‰∏∫ÂÖ∂‰ªñÁ®ãÂ∫è‰ΩøÁî®ÁöÑÂÅáËÆæ‰∏ãÁºñÂÜôÁöÑ„ÄÇÂÆÉ‰ª¨‰∏éÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÁöÑÂáΩÊï∞Êõ¥Áõ∏‰ººÔºåËÄå‰∏çÊòØÂõæÂΩ¢Â∫îÁî®Á®ãÂ∫è„ÄÇ
- en: 'Today, even though many CLI programs are used primarily (or even exclusively)
    by humans, a lot of their interaction design still carries the baggage of the
    past. It‚Äôs time to shed some of this baggage: if a command is going to be used
    primarily by humans, it should be designed for humans first.'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: ‰ªäÂ§©ÔºåÂ∞ΩÁÆ°ËÆ∏Â§ö CLI Á®ãÂ∫è‰∏ªË¶ÅÔºàÁîöËá≥ÂÆåÂÖ®ÔºâÁî±‰∫∫‰ΩøÁî®Ôºå‰ΩÜÂÆÉ‰ª¨ÁöÑ‰∫§‰∫íËÆæËÆ°ÂæàÂ§ßÁ®ãÂ∫¶‰∏ä‰ªçÂ∏¶ÊúâËøáÂéªÁöÑÂåÖË¢±„ÄÇÊòØÊó∂ÂÄôÊëÜËÑ±‰∏Ä‰∫õÂåÖË¢±‰∫ÜÔºöÂ¶ÇÊûú‰∏Ä‰∏™ÂëΩ‰ª§‰∏ªË¶ÅÊòØ‰∏∫‰∫∫‰ΩøÁî®ÔºåÂÆÉÂ∫îËØ•È¶ñÂÖà‰∏∫‰∫∫ËÆæËÆ°„ÄÇ
- en: Simple parts that work¬†together
  id: totrans-51
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÁÆÄÂçïÁöÑÈÉ®ÂàÜÁªÑÂêàÂú®‰∏ÄËµ∑
- en: A core tenet of [the original UNIX philosophy](https://en.wikipedia.org/wiki/Unix_philosophy)
    is the idea that small, simple programs with clean interfaces can be combined
    to build larger systems. Rather than stuff more and more features into those programs,
    you make programs that are modular enough to be recombined as needed.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '[ÂéüÂßã UNIX Âì≤Â≠¶](https://en.wikipedia.org/wiki/Unix_philosophy)ÁöÑÊ†∏ÂøÉÂéüÂàô‰πã‰∏ÄÊòØÔºöÂ∞èËÄåÁÆÄÂçïÁöÑÁ®ãÂ∫èÔºåÂÖ∑ÊúâÊ∏ÖÊô∞ÁöÑÊé•Âè£ÔºåÂèØ‰ª•ÁªÑÂêàÊûÑÂª∫Êõ¥Â§ßÁöÑÁ≥ªÁªü„ÄÇËÄå‰∏çÊòØÊääËøô‰∫õÁ®ãÂ∫èÁöÑÁâπÊÄßÂ†ÜÁßØËµ∑Êù•Ôºå‰Ω†ÂÅöÁöÑÊòØË∂≥Â§üÊ®°ÂùóÂåñÔºåÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÈáçÊñ∞ÁªÑÂêàÁ®ãÂ∫è„ÄÇ'
- en: In the old days, pipes and shell scripts played a crucial role in the process
    of composing programs together. Their role might have diminished with the rise
    of general-purpose interpreted languages, but they certainly haven‚Äôt gone away.
    What‚Äôs more, large-scale automation‚Äîin the form of CI/CD, orchestration and configuration
    management‚Äîhas flourished. Making programs composable is just as important as
    ever.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: Âú®ËøáÂéªÔºåÁÆ°ÈÅìÂíå shell ËÑöÊú¨Âú®ÂêàÊàêÁ®ãÂ∫èÁöÑËøáÁ®ã‰∏≠ÂèëÊå•‰∫ÜËá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®„ÄÇÂÆÉ‰ª¨ÁöÑ‰ΩúÁî®ÂèØËÉΩÈöèÁùÄÈÄöÁî®Ëß£ÈáäÂûãËØ≠Ë®ÄÁöÑÂÖ¥Ëµ∑ËÄåÂáèÂ∞ëÔºå‰ΩÜÂÆÉ‰ª¨Á°ÆÂÆûËøòÊ≤°ÊúâÊ∂àÂ§±„ÄÇËÄå‰∏îÔºåÂ§ßËßÑÊ®°ÁöÑËá™Âä®Âåñ‚Äî‚Äî‰ª•
    CI/CDÔºåÁºñÊéíÂíåÈÖçÁΩÆÁÆ°ÁêÜÁöÑÂΩ¢Âºè‚ÄîÂ∑≤ÁªèËì¨ÂãÉÂèëÂ±ï„ÄÇ‰ΩøÁ®ãÂ∫èÂèØÁªÑÂêàÊûÑÂª∫ÁöÑÈáçË¶ÅÊÄß‰∏é‰ª•ÂæÄ‰∏ÄÊ†∑ÈáçË¶Å„ÄÇ
- en: Fortunately, the long-established conventions of the UNIX environment, designed
    for this exact purpose, still help us today. Standard in/out/err, signals, exit
    codes and other mechanisms ensure that different programs click together nicely.
    Plain, line-based text is easy to pipe between commands. JSON, a much more recent
    invention, affords us more structure when we need it, and lets us more easily
    integrate command-line tools with the web.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: Âπ∏ËøêÁöÑÊòØÔºåUNIXÁéØÂ¢É‰∏≠ÈïøÊúüÂª∫Á´ãÁöÑ‰º†ÁªüÔºåÊó®Âú®‰∏∫Ê≠§ÁõÆÁöÑËÄåËÆæËÆ°ÔºåËá≥‰ªä‰ªçÁÑ∂ÂØπÊàë‰ª¨ÊúâÊâÄÂ∏ÆÂä©„ÄÇÊ†áÂáÜËæìÂÖ•/ËæìÂá∫/ÈîôËØØ„ÄÅ‰ø°Âè∑„ÄÅÈÄÄÂá∫‰ª£Á†ÅÂíåÂÖ∂‰ªñÊú∫Âà∂Á°Æ‰øù‰∏çÂêåÁöÑÁ®ãÂ∫èËÉΩÂ§üÂæàÂ•ΩÂú∞ÈÖçÂêà„ÄÇÂü∫‰∫éÁ∫ØÊñáÊú¨„ÄÅÈÄêË°åÁöÑÁÆ°ÈÅìÊòì‰∫éÂú®ÂëΩ‰ª§‰πãÈó¥‰º†Ëæì„ÄÇJSONÔºå‰∏ÄÁßçÊõ¥‰∏∫ËøëÊúüÁöÑÂèëÊòéÔºå‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÊõ¥Â§öÁªìÊûÑÔºåÂΩìÊàë‰ª¨ÈúÄË¶ÅÊó∂ÔºåËÆ©Êàë‰ª¨Êõ¥ÂÆπÊòìÂú∞Â∞ÜÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑‰∏éÁΩëÁªúÈõÜÊàê„ÄÇ
- en: Whatever software you‚Äôre building, you can be absolutely certain that people
    will use it in ways you didn‚Äôt anticipate. Your software *will* become a part
    in a larger system‚Äîyour only choice is over whether it will be a well-behaved
    part.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: Êó†ËÆ∫‰Ω†Âú®ÊûÑÂª∫‰ªÄ‰πàÊ†∑ÁöÑËΩØ‰ª∂Ôºå‰Ω†ÂèØ‰ª•ËÇØÂÆö‰∫∫‰ª¨‰ºöÁî®ÂÆÉÁöÑÊñπÂºèË∂ÖÂá∫‰Ω†ÁöÑÈ¢ÑÊúü„ÄÇ‰Ω†ÁöÑËΩØ‰ª∂*Â∞Ü*Êàê‰∏∫Êõ¥Â§ßÁ≥ªÁªü‰∏≠ÁöÑ‰∏Ä‰∏™ÁªÑÊàêÈÉ®ÂàÜÔºå‰Ω†ÂîØ‰∏ÄÁöÑÈÄâÊã©ÊòØÂÆÉÊòØ‰∏Ä‰∏™Ë°®Áé∞ËâØÂ•ΩÁöÑÈÉ®ÂàÜ„ÄÇ
- en: Most importantly, designing for composability does not need to be at odds with
    designing for humans first. Much of the advice in this document is about how to
    achieve both.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: ÊúÄÈáçË¶ÅÁöÑÊòØÔºå‰∏∫ÂèØÁªÑÂêàÊÄßËÄåËÆæËÆ°Âπ∂‰∏ç‰∏ÄÂÆö‰∏éÈ¶ñË¶ÅËÄÉËôë‰∫∫Á±ªÁöÑËÆæËÆ°Áõ∏ÁüõÁõæ„ÄÇÊú¨ÊñáÁöÑËÆ∏Â§öÂª∫ËÆÆÈÉΩÊòØÂÖ≥‰∫éÂ¶Ç‰ΩïÂÆûÁé∞Ëøô‰∏§ËÄÖ„ÄÇ
- en: Consistency across programs
  id: totrans-57
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Á®ãÂ∫èÈó¥ÁöÑ‰∏ÄËá¥ÊÄß
- en: The terminal‚Äôs conventions are hardwired into our fingers. We had to pay an
    upfront cost by learning about command line syntax, flags, environment variables
    and so on, but it pays off in long-term efficiency‚Ä¶ as long as programs are consistent.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: ÁªàÁ´ØÁöÑÁ∫¶ÂÆöÂ∑≤ÁªèÊ∑±Ê∑±Âç∞Âú®Êàë‰ª¨ÁöÑÊâãÊåá‰∏≠„ÄÇÊàë‰ª¨‰∏çÂæó‰∏ç‰ªòÂá∫Â≠¶‰π†ÂëΩ‰ª§Ë°åËØ≠Ê≥ï„ÄÅÊ†áÂøó„ÄÅÁéØÂ¢ÉÂèòÈáèÁ≠âÁöÑÂâçÊúüÊàêÊú¨Ôºå‰ΩÜÈïøÊúüÊïàÁéáÁ°ÆÂÆû‰ºöÂæóÂà∞ÂõûÊä•‚Ä¶‚Ä¶Âè™Ë¶ÅÁ®ãÂ∫è‰øùÊåÅ‰∏ÄËá¥ÊÄß„ÄÇ
- en: Where possible, a CLI should follow patterns that already exist. That‚Äôs what
    makes CLIs intuitive and guessable; that‚Äôs what makes users efficient.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: Âú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ãÔºåCLIÂ∫îËØ•ÈÅµÂæ™Â∑≤ÁªèÂ≠òÂú®ÁöÑÊ®°Âºè„ÄÇËøôÂ∞±ÊòØËÆ©CLIÁõ¥ËßÇÂíåÂèØÁåúÊµãÁöÑÂéüÂõ†ÔºõËøôÂ∞±ÊòØËÆ©Áî®Êà∑È´òÊïàÁöÑÂéüÂõ†„ÄÇ
- en: That being said, sometimes consistency conflicts with ease of use. For example,
    many long-established UNIX commands don‚Äôt output much information by default,
    which can cause confusion or worry for people less familiar with the command line.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: ËØùËôΩÂ¶ÇÊ≠§ÔºåÊúâÊó∂‰∏ÄËá¥ÊÄß‰ºö‰∏éÊòìÁî®ÊÄßÁõ∏ÂÜ≤Á™Å„ÄÇ‰æãÂ¶ÇÔºåËÆ∏Â§öÈïøÊúüÂ≠òÂú®ÁöÑUNIXÂëΩ‰ª§ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂπ∂‰∏çËæìÂá∫Â§™Â§ö‰ø°ÊÅØÔºåËøôÂèØËÉΩ‰ºöÂØπÂØπÂëΩ‰ª§Ë°å‰∏çÂ§™ÁÜüÊÇâÁöÑ‰∫∫ÈÄ†ÊàêÂõ∞ÊÉëÊàñÊãÖÂøß„ÄÇ
- en: When following convention would compromise a program‚Äôs usability, it might be
    time to break with it‚Äîbut such a decision should be made with care.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: Âú®ÈÅµÂæ™‰º†ÁªüÂèØËÉΩ‰ºöÊçüÂÆ≥Á®ãÂ∫èÁöÑÂèØÁî®ÊÄßÊó∂Ôºå‰πüËÆ∏ÊòØÊâìÁ†¥ÂÆÉÁöÑÊó∂ÂÄô‰∫Ü‚Äî‚Äî‰ΩÜËøôÊ†∑ÁöÑÂÜ≥ÂÆöÂ∫îËØ•ÊÖéÈáçËÄÉËôë„ÄÇ
- en: Saying (just) enough
  id: totrans-62
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ËØ¥ÔºàÂàöÂàöÔºâË∂≥Â§ü
- en: The terminal is a world of pure information. You could make an argument that
    information is the interface‚Äîand that, just like with any interface, there‚Äôs often
    too much or too little of it.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: ÁªàÁ´ØÊòØ‰∏Ä‰∏™Á∫ØÁ≤π‰ø°ÊÅØÁöÑ‰∏ñÁïå„ÄÇÊÇ®ÂèØ‰ª•ÊèêÂá∫‰∏Ä‰∏™ËÆ∫ÁÇπÔºåÂç≥‰ø°ÊÅØÊòØÁïåÈù¢‚Äî‚ÄîÂ∞±ÂÉè‰ªª‰ΩïÁïåÈù¢‰∏ÄÊ†∑ÔºåÂæÄÂæÄ‰ø°ÊÅØËøáÂ§öÊàñËøáÂ∞ë„ÄÇ
- en: 'A command is saying too little when it hangs for several minutes and the user
    starts to wonder if it‚Äôs broken. A command is saying too much when it dumps pages
    and pages of debugging output, drowning what‚Äôs truly important in an ocean of
    loose detritus. The end result is the same: a lack of clarity, leaving the user
    confused and irritated.'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: ÂΩì‰∏Ä‰∏™ÂëΩ‰ª§Ëä±Ë¥πÂá†ÂàÜÈíüÊó∂Èó¥ÊåÇËµ∑ËÄåÁî®Êà∑ÂºÄÂßãÊÄÄÁñëÂÆÉÊòØÂê¶Âá∫ÈîôÊó∂ÔºåËØ¥ÊòéÂëΩ‰ª§ËØ¥ÁöÑÂ§™Â∞ë‰∫Ü„ÄÇÂΩì‰∏Ä‰∏™ÂëΩ‰ª§ËæìÂá∫È°µÈ°µÁöÑË∞ÉËØï‰ø°ÊÅØÔºåÊ∑πÊ≤°‰∫ÜÁúüÊ≠£ÈáçË¶ÅÁöÑÂÜÖÂÆπÊó∂ÔºåËØ¥ÊòéÂëΩ‰ª§ËØ¥ÁöÑÂ§™Â§ö‰∫Ü„ÄÇÁªìÊûúÊòØ‰∏ÄÊ†∑ÁöÑÔºöÁº∫‰πèÊ∏ÖÊô∞Â∫¶ÔºåËÆ©Áî®Êà∑ÊÑüÂà∞Âõ∞ÊÉëÂíåÊÅºÁÅ´„ÄÇ
- en: It can be very difficult to get this balance right, but it‚Äôs absolutely crucial
    if software is to empower and serve its users.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: ËÆ©ËøôÁßçÂπ≥Ë°°Ê≠£Á°ÆÂèØËÉΩ‰ºöÂæàÂõ∞ÈöæÔºå‰ΩÜÂ¶ÇÊûúËΩØ‰ª∂Ë¶ÅËµã‰∫àÂíåÊúçÂä°‰∫éÁî®Êà∑ÔºåÂàôËøôÊòØÁªùÂØπÂÖ≥ÈîÆÁöÑ„ÄÇ
- en: Ease of discovery
  id: totrans-66
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÂèëÁé∞ÁöÑ‰æøÂà©ÊÄß
- en: When it comes to making functionality discoverable, GUIs have the upper hand.
    Everything you can do is laid out in front of you on the screen, so you can find
    what you need without having to learn anything, and perhaps even discover things
    you didn‚Äôt know were possible.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: ÂΩìÈúÄË¶ÅËÆ©ÂäüËÉΩÊòì‰∫éÂèëÁé∞Êó∂ÔºåGUIÂÖ∑Êúâ‰ºòÂäø„ÄÇÂ±èÂπï‰∏äÂ±ïÁ§∫ÁöÑ‰∏ÄÂàáÈÉΩÊòØÊÇ®ÂèØ‰ª•ÂÅöÁöÑ‰∫ãÊÉÖÔºåÂõ†Ê≠§ÊÇ®ÂèØ‰ª•ÊâæÂà∞ÊâÄÈúÄÁöÑÂÜÖÂÆπËÄåÊó†ÈúÄÂ≠¶‰π†‰ªª‰Ωï‰∏úË•øÔºåÁîöËá≥ÂèØËÉΩ‰ºöÂèëÁé∞ÊÇ®‰ª•Ââç‰∏çÁü•ÈÅìÁöÑÂÜÖÂÆπ„ÄÇ
- en: It is assumed that command-line interfaces are the opposite of this‚Äîthat you
    have to remember how to do everything. The original [Macintosh Human Interface
    Guidelines](https://archive.org/details/applehumaninterf00appl), published in
    1987, recommend ‚ÄúSee-and-point (instead of remember-and-type),‚Äù as if you could
    only choose one or the other.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: ‰∫∫‰ª¨ÂèØ‰ª•ÂÅáÂÆöÂëΩ‰ª§Ë°åÁïåÈù¢‰∏éÊ≠§Áõ∏Âèç‚Äî‚Äî‰Ω†ÂøÖÈ°ªËÆ∞‰ΩèÂ¶Ç‰ΩïËøõË°åÊØè‰∏ÄÊ≠•Êìç‰Ωú„ÄÇ1987Âπ¥Âá∫ÁâàÁöÑ[Macintosh‰∫∫Êú∫ÁïåÈù¢ÊåáÂçó](https://archive.org/details/applehumaninterf00appl)Âª∫ËÆÆ‚ÄúÁúãÂíåÁÇπÂáªÔºàËÄå‰∏çÊòØËÆ∞‰ΩèÂíåËæìÂÖ•Ôºâ‚ÄùÔºåÂ•ΩÂÉè‰Ω†Âè™ËÉΩÈÄâÊã©ÂÖ∂‰∏≠‰∏ÄÁßç„ÄÇ
- en: These things needn‚Äôt be mutually exclusive. The efficiency of using the command-line
    comes from remembering commands, but there‚Äôs no reason the commands can‚Äôt help
    you learn and remember.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: Ëøô‰∫õ‰∫ãÊÉÖ‰∏çÂøÖ‰∫íÁõ∏ÊéíÊñ•„ÄÇ‰ΩøÁî®ÂëΩ‰ª§Ë°åÁöÑÊúâÊïàÊÄßÊù•Ëá™‰∫éËÆ∞‰ΩèÂëΩ‰ª§Ôºå‰ΩÜÂπ∂Ê≤°ÊúâÁêÜÁî±Ëøô‰∫õÂëΩ‰ª§‰∏çËÉΩÂ∏ÆÂä©‰Ω†Â≠¶‰π†ÂíåËÆ∞‰Ωè„ÄÇ
- en: Discoverable CLIs have comprehensive help texts, provide lots of examples, suggest
    what command to run next, suggest what to do when there is an error. There are
    lots of ideas that can be stolen from GUIs to make CLIs easier to learn and use,
    even for power users.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: Êòì‰∫éÂèëÁé∞ÁöÑÂëΩ‰ª§Ë°åÁïåÈù¢ÂÖ∑ÊúâÂÖ®Èù¢ÁöÑÂ∏ÆÂä©ÊñáÊú¨ÔºåÊèê‰æõÂ§ßÈáèÁ§∫‰æãÔºåÂª∫ËÆÆ‰∏ã‰∏ÄÊ≠•Ë¶ÅËøêË°åÁöÑÂëΩ‰ª§ÔºåÂª∫ËÆÆÂú®Âá∫Áé∞ÈîôËØØÊó∂ËØ•ÊÄé‰πàÂÅö„ÄÇÊúâÂæàÂ§ö‰ªéÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢‰∏≠ÂèØ‰ª•ÂÄüÈâ¥ÁöÑÊÉ≥Ê≥ïÔºå‰ΩøÂëΩ‰ª§Ë°åÁïåÈù¢Êõ¥Êòì‰∫éÂ≠¶‰π†Âíå‰ΩøÁî®ÔºåÂç≥‰ΩøÊòØÂØπ‰∫éÈ´òÁ∫ßÁî®Êà∑„ÄÇ
- en: '*Citation: The Design of Everyday Things (Don Norman), Macintosh Human Interface
    Guidelines*'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '*ÂºïÁî®Ôºö„ÄäËÆæËÆ°ÂøÉÁêÜÂ≠¶„ÄãÔºàÂîê¬∑ËØ∫ÊõºÔºâÔºåMacintosh‰∫∫Êú∫ÁïåÈù¢ÊåáÂçó*'
- en: Conversation as the¬†norm
  id: totrans-72
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ‰ª•ÂØπËØù‰∏∫Â∏∏ÊÄÅ
- en: 'GUI design, particularly in its early days, made heavy use of *metaphor*: desktops,
    files, folders, recycle bins. It made a lot of sense, because computers were still
    trying to bootstrap themselves into legitimacy. The ease of implementation of
    metaphors was one of the huge advantages GUIs wielded over CLIs. Ironically, though,
    the CLI has embodied an accidental metaphor all along: it‚Äôs a conversation.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: ÁâπÂà´ÊòØÂú®Êó©ÊúüÔºåGUIËÆæËÆ°Â§ßÈáè‰ΩøÁî®*ÈöêÂñª*ÔºöÊ°åÈù¢„ÄÅÊñá‰ª∂„ÄÅÊñá‰ª∂Â§π„ÄÅÂõûÊî∂Á´ô„ÄÇËøôÊòØÂæàÊúâÈÅìÁêÜÁöÑÔºåÂõ†‰∏∫ËÆ°ÁÆóÊú∫ËøòÂú®Âä™ÂäõÊèêÂçáËá™Ë∫´ÁöÑÂêàÊ≥ïÊÄß„ÄÇÈöêÂñªÂÆûÁé∞ÁöÑ‰æøÂà©ÊÄßÊòØGUIÁõ∏ÂØπ‰∫éCLIÁöÑ‰∏ÄÂ§ß‰ºòÂäø„ÄÇÁÑ∂ËÄåÂÖ∑ÊúâËÆΩÂà∫ÊÑèÂë≥ÁöÑÊòØÔºåCLI‰∏ÄÁõ¥‰ª•Êù•ÈÉΩ‰ΩìÁé∞ÁùÄ‰∏ÄÁßçÂÅ∂ÁÑ∂ÁöÑÈöêÂñªÔºöÂÆÉÊòØ‰∏ÄÂú∫ÂØπËØù„ÄÇ
- en: 'Beyond the most utterly simple commands, running a program usually involves
    more than one invocation. Usually, this is because it‚Äôs hard to get it right the
    first time: the user types a command, gets an error, changes the command, gets
    a different error, and so on, until it works. This mode of learning through repeated
    failure is like a conversation the user is having with the program.'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: Èô§‰∫ÜÊúÄÁÆÄÂçïÁöÑÂëΩ‰ª§‰πãÂ§ñÔºåËøêË°åÁ®ãÂ∫èÈÄöÂ∏∏Ê∂âÂèä‰∏çÊ≠¢‰∏Ä‰∏™Ë∞ÉÁî®„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåËøôÊòØÂõ†‰∏∫Á¨¨‰∏ÄÊ¨°ÂæàÈöæÂÅöÂØπÔºöÁî®Êà∑ËæìÂÖ•ÂëΩ‰ª§ÔºåÂæóÂà∞‰∏Ä‰∏™ÈîôËØØÔºåÊîπÂèòÂëΩ‰ª§ÔºåÂæóÂà∞Âè¶‰∏Ä‰∏™ÈîôËØØÔºå‰æùÊ≠§Á±ªÊé®ÔºåÁõ¥Âà∞ÊàêÂäü„ÄÇËøôÁßçÈÄöËøáÂèçÂ§çÂ§±Ë¥•Â≠¶‰π†ÁöÑÊ®°ÂºèÂ∞±ÂÉèÁî®Êà∑‰∏éÁ®ãÂ∫èËøõË°åÁöÑÂØπËØù„ÄÇ
- en: 'Trial-and-error isn‚Äôt the only type of conversational interaction, though.
    There are others:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: ËØïÈîôÂπ∂‰∏çÊòØÂîØ‰∏ÄÁ±ªÂûãÁöÑÂØπËØù‰∫§‰∫íÔºåËøòÊúâÂÖ∂‰ªñÁ±ªÂûãÔºö
- en: Running one command to set up a tool and then learning what commands to run
    to actually start using it.
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ËøêË°å‰∏Ä‰∏™ÂëΩ‰ª§Êù•ËÆæÁΩÆÂ∑•ÂÖ∑ÔºåÁÑ∂ÂêéÂ≠¶‰π†Ë¶ÅËøêË°åÂì™‰∫õÂëΩ‰ª§ÊâçËÉΩÂÆûÈôÖÂºÄÂßã‰ΩøÁî®ÂÆÉ„ÄÇ
- en: Running several commands to set up an operation, and then a final command to
    run it (e.g. multiple `git add`s, followed by a `git commit`).
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ËøêË°åÂ§ö‰∏™ÂëΩ‰ª§Êù•ËÆæÁΩÆ‰∏Ä‰∏™Êìç‰ΩúÔºåÁÑ∂ÂêéËøêË°åÊúÄÁªàÁöÑÂëΩ‰ª§Êù•ËøêË°åÂÆÉÔºà‰æãÂ¶ÇÂ§öÊ¨°`git add`ÔºåÁÑ∂ÂêéË∑üÁùÄ‰∏Ä‰∏™`git commit`Ôºâ„ÄÇ
- en: Exploring a system‚Äîfor example, doing a lot of `cd` and `ls` to get a sense
    of a directory structure, or `git log` and `git show` to explore the history of
    a file.
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Êé¢Á¥¢Á≥ªÁªü‚Äî‚Äî‰æãÂ¶ÇÔºåÊâßË°åÂ§ßÈáèÁöÑ`cd`Âíå`ls`Âéª‰∫ÜËß£ÁõÆÂΩïÁªìÊûÑÔºåÊàñËÄÖÊâßË°å`git log`Âíå`git show`ÂéªÊé¢Á¥¢Êñá‰ª∂ÁöÑÂéÜÂè≤„ÄÇ
- en: Doing a dry-run of a complex operation before running it for real.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Âú®ÁúüÊ≠£ËøêË°å‰πãÂâçÂØπÂ§çÊùÇÊìç‰ΩúËøõË°åÊµãËØïËøêË°å„ÄÇ
- en: Acknowledging the conversational nature of command-line interaction means you
    can bring relevant techniques to bear on its design. You can suggest possible
    corrections when user input is invalid, you can make the intermediate state clear
    when the user is going through a multi-step process, you can confirm for them
    that everything looks good before they do something scary.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: ÊâøËÆ§ÂëΩ‰ª§Ë°å‰∫§‰∫íÁöÑÂØπËØùÊÄßË¥®ÊÑèÂë≥ÁùÄ‰Ω†ÂèØ‰ª•Âú®ÂÖ∂ËÆæËÆ°‰∏≠Â∫îÁî®Áõ∏ÂÖ≥ÁöÑÊäÄÊúØ„ÄÇÂΩìÁî®Êà∑ËæìÂÖ•Êó†ÊïàÊó∂ÔºåÊÇ®ÂèØ‰ª•Âª∫ËÆÆÂèØËÉΩÁöÑÊõ¥Ê≠£ÔºõÂΩìÁî®Êà∑ÊâßË°åÂ§öÊ≠•È™§ËøáÁ®ãÊó∂ÔºåÊÇ®ÂèØ‰ª•Ê∏ÖÊ•öÂú∞Â±ïÁ§∫‰∏≠Èó¥Áä∂ÊÄÅÔºõÂú®Áî®Êà∑ÂÅöÂá∫Êüê‰∫õÂèØÊÄïÁöÑ‰∫ãÊÉÖ‰πãÂâçÔºåÊÇ®ÂèØ‰ª•‰∏∫‰ªñ‰ª¨Á°ÆËÆ§‰∏ÄÂàáÈÉΩÁúãËµ∑Êù•ÂæàÂ•Ω„ÄÇ
- en: The user is conversing with your software, whether you intended it or not. At
    worst, it‚Äôs a hostile conversation which makes them feel stupid and resentful.
    At best, it‚Äôs a pleasant exchange that speeds them on their way with newfound
    knowledge and a feeling of achievement.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: Áî®Êà∑Ê≠£Âú®‰∏é‰Ω†ÁöÑËΩØ‰ª∂ÂØπËØùÔºå‰∏çÁÆ°‰Ω†ÊòØÂê¶ÊâìÁÆóËøôÊ†∑„ÄÇÊúÄÁ≥üÁ≥ïÁöÑÊÉÖÂÜµÊòØËøôÊòØ‰∏ÄÁßçÊïåÂØπÁöÑÂØπËØùÔºå‰ºöËÆ©‰ªñ‰ª¨ÊÑüÂà∞ÊÑöË†¢ÂíåÊÑ§ÊÄí„ÄÇÊúÄÂ•ΩÁöÑÊÉÖÂÜµÊòØËøôÊòØ‰∏ÄÁßçÊÑâÂø´ÁöÑ‰∫§ÊµÅÔºåËÉΩ‰∏∫‰ªñ‰ª¨Êèê‰æõÊñ∞Áü•ËØÜÂπ∂ÂèñÂæóÊàêÂ∞±ÊÑü„ÄÇ
- en: '*Further reading: [The Anti-Mac User Interface (Don Gentner and Jakob Nielsen)](https://www.nngroup.com/articles/anti-mac-interface/)*'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '*Êõ¥Â§öÈòÖËØªÔºö[ÂèçÈ©¨ÂÖãÁî®Êà∑ÁïåÈù¢ÔºàÂîê¬∑Ê†πÁâπÁ∫≥ÂíåÈõÖÂêÑÂ∏É¬∑Â∞ºÂ∞îÊ£ÆÔºâ](https://www.nngroup.com/articles/anti-mac-interface/)*'
- en: Robustness
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÂÅ•Â£ÆÊÄß
- en: 'Robustness is both an objective and a subjective property. Software should
    *be* robust, of course: unexpected input should be handled gracefully, operations
    should be idempotent where possible, and so on. But it should also *feel* robust.'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: ÂÅ•Â£ÆÊÄßÊó¢ÊòØÂÆ¢ËßÇÁöÑÂ±ûÊÄßÔºå‰πüÊòØ‰∏ªËßÇÁöÑÂ±ûÊÄß„ÄÇËΩØ‰ª∂ÂΩìÁÑ∂Â∫îËØ•*ÊòØ*ÂÅ•Â£ÆÁöÑÔºöÂ∫îËØ•‰ºòÈõÖÂú∞Â§ÑÁêÜÊÑèÂ§ñÁöÑËæìÂÖ•ÔºåÂú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ãÂ∫îËØ•ÊòØÂπÇÁ≠âÁöÑÁ≠âÁ≠â„ÄÇ‰ΩÜÂÆÉ‰πüÂ∫îËØ•*ÊÑüËßâ*ÂÅ•Â£Æ„ÄÇ
- en: You want your software to feel like it isn‚Äôt going to fall apart. You want it
    to feel immediate and responsive, as if it were a big mechanical machine, not
    a flimsy plastic ‚Äúsoft switch.‚Äù
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: ‰Ω†Â∏åÊúõ‰Ω†ÁöÑËΩØ‰ª∂ÊÑüËßâÂÆÉ‰∏ç‰ºöÂ¥©Ê∫É„ÄÇ‰Ω†Â∏åÊúõÂÆÉÊÑüËßâËøÖÈÄüÂìçÂ∫îÔºåÂ∞±Â•ΩÂÉèÂÆÉÊòØ‰∏Ä‰∏™Â§ßÂûãÊú∫Ê¢∞ËÆæÂ§áÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™ËÑÜÂº±ÁöÑÂ°ëÊñô‚ÄúËΩØÂºÄÂÖ≥‚Äù„ÄÇ
- en: 'Subjective robustness requires attention to detail and thinking hard about
    what can go wrong. It‚Äôs lots of little things: keeping the user informed about
    what‚Äôs happening, explaining what common errors mean, not printing scary-looking
    stack traces.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: ‰∏ªËßÇ‰∏äÁöÑÂÅ•Â£ÆÊÄßÈúÄË¶ÅÂÖ≥Ê≥®ÁªÜËäÇÔºåËÆ§ÁúüÊÄùËÄÉÂèØËÉΩÂá∫Áé∞ÁöÑÈóÆÈ¢ò„ÄÇËøôÊòØËÆ∏Â§öÂ∞è‰∫ãÊÉÖÁöÑÁªºÂêàÔºöËÆ©Áî®Êà∑‰∫ÜËß£Ê≠£Âú®ÂèëÁîü‰ªÄ‰πàÔºåËß£ÈáäÂ∏∏ËßÅÈîôËØØÁöÑÂê´‰πâÔºå‰∏çÊâìÂç∞ÁúãËµ∑Êù•Âêì‰∫∫ÁöÑÂ†ÜÊ†àË∑üË∏™„ÄÇ
- en: As a general rule, robustness can also come from keeping it simple. Lots of
    special cases and complex code tend to make a program fragile.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: ‰Ωú‰∏∫‰∏Ä‰∏™ÈÄöÁî®ÂéüÂàôÔºåÁÆÄÂåñ‰πüÂèØËÉΩÂ∏¶Êù•ÂÅ•Â£ÆÊÄß„ÄÇÂ§ßÈáèÁöÑÁâπÊÆäÊÉÖÂÜµÂíåÂ§çÊùÇÁöÑ‰ª£Á†ÅÂæÄÂæÄ‰ºö‰ΩøÁ®ãÂ∫èÂèòÂæóËÑÜÂº±„ÄÇ
- en: Empathy
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÂêåÊÉÖÂøÉ
- en: Command-line tools are a programmer‚Äôs creative toolkit, so they should be enjoyable
    to use. This doesn‚Äôt mean turning them into a video game, or using lots of emoji
    (though there‚Äôs nothing inherently wrong with emoji üòâ). It means giving the user
    the feeling that you are on their side, that you want them to succeed, that you
    have thought carefully about their problems and how to solve them.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÊòØÁ®ãÂ∫èÂëòÁöÑÂàõÊÑèÂ∑•ÂÖ∑ÂåÖÔºåÊâÄ‰ª•ÂÆÉ‰ª¨Â∫îËØ•ÊòØ‰ª§‰∫∫ÊÑâÂø´ÁöÑ„ÄÇËøô‰∏çÊÑèÂë≥ÁùÄÊääÂÆÉ‰ª¨ÂèòÊàêËßÜÈ¢ëÊ∏∏ÊàèÔºåÊàñËÄÖ‰ΩøÁî®Â§ßÈáèÁöÑË°®ÊÉÖÁ¨¶Âè∑ÔºàÂ∞ΩÁÆ°Ë°®ÊÉÖÁ¨¶Âè∑Êú¨Ë∫´Âπ∂Ê≤°Êúâ‰ªÄ‰πà‰∏çÂØπüòâÔºâ„ÄÇËøôÊÑèÂë≥ÁùÄËÆ©Áî®Êà∑ÊÑüËßâÂà∞‰Ω†Á´ôÂú®‰ªñ‰ª¨ËøôËæπÔºå‰Ω†Â∏åÊúõ‰ªñ‰ª¨ÊàêÂäüÔºå‰Ω†ËÆ§ÁúüÊÄùËÄÉËøá‰ªñ‰ª¨ÁöÑÈóÆÈ¢ò‰ª•ÂèäÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆÉ‰ª¨„ÄÇ
- en: There‚Äôs no list of actions you can take that will ensure they feel this way,
    although we hope that following our advice will take you some of the way there.
    Delighting the user means *exceeding their expectations* at every turn, and that
    starts with empathy.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: Ê≤°ÊúâÂèØ‰ª•Á°Æ‰øùÁî®Êà∑ÊúâËøôÁßçÊÑüËßâÁöÑ‰∏ÄÊèΩÂ≠êË°å‰∏∫Ê∏ÖÂçïÔºåÂ∞ΩÁÆ°Êàë‰ª¨Â∏åÊúõÈÅµÂæ™Êàë‰ª¨ÁöÑÂª∫ËÆÆ‰ºöÂú®ÊüêÁßçÁ®ãÂ∫¶‰∏äÂ∏ÆÂä©Âà∞‰Ω†„ÄÇËÆ©Áî®Êà∑ÊÑüÂà∞ÊÑâÂø´ÊÑèÂë≥ÁùÄ*Âú®ÊØè‰∏Ä‰∏™ËΩ¨ÊäòÁÇπÈÉΩË∂ÖË∂ä‰ªñ‰ª¨ÁöÑÊúüÊúõ*ÔºåËÄåËøôÂßã‰∫éÂêåÊÉÖÂøÉ„ÄÇ
- en: Chaos
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Ê∑∑‰π±
- en: The world of the terminal is a mess. Inconsistencies are everywhere, slowing
    us down and making us second-guess ourselves.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: ÁªàÁ´Ø‰∏ñÁïåÊòØ‰∏ÄÂõ¢‰π±È∫ª„ÄÇ‰∏ç‰∏ÄËá¥ÊÄßÊó†Â§Ñ‰∏çÂú®ÔºåËÆ©Êàë‰ª¨ÂÅú‰∏ãÊù•Âπ∂‰∏îËÆ©Êàë‰ª¨ÂØπËá™Â∑±ÁöÑÈÄâÊã©‰∫ßÁîüÊÄÄÁñë„ÄÇ
- en: Yet it‚Äôs undeniable that this chaos has been a source of power. The terminal,
    like the UNIX-descended computing environment in general, places very few constraints
    on what you can build. In that space, all manner of invention has bloomed.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ÁÑ∂ËÄå‰∏çÂèØÂê¶ËÆ§ÁöÑÊòØÔºåËøôÁßçÊ∑∑‰π±ÊòØ‰∏ÄÁßçÂäõÈáèÁöÑÊ∫êÊ≥â„ÄÇ‰∏éÁ±ªUNIXÁöÑËÆ°ÁÆóÁéØÂ¢É‰∏ÄÊ†∑ÔºåÁªàÁ´ØÂØπ‰Ω†ÂèØ‰ª•ÊûÑÂª∫‰ªÄ‰πàÂá†‰πéÊ≤°ÊúâÂ§öÂ∞ëÈôêÂà∂„ÄÇÂú®Ëøô‰∏™Á©∫Èó¥ÈáåÔºåÂêÑÁßçÂêÑÊ†∑ÁöÑÂèëÊòéÂ∞±Ê≠§ÂºÄËä±„ÄÇ
- en: It‚Äôs ironic that this document implores you to follow existing patterns, right
    alongside advice that contradicts decades of command-line tradition. We‚Äôre just
    as guilty of breaking the rules as anyone.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: ÊúâËÆΩÂà∫ÁöÑÊòØÔºåËøôÁØáÊñá‰ª∂‰∏ç‰ªÖÁù£‰øÉ‰Ω†ÈÅµÂæ™Áé∞ÊúâÁöÑÊ®°ÂºèÔºåËøò‰∏éËøùÂèçÂá†ÂçÅÂπ¥ÁöÑÂëΩ‰ª§Ë°å‰º†ÁªüÁöÑÂª∫ËÆÆÂπ∂Âàó„ÄÇÊàë‰ª¨Ê≠£ÂÉè‰ªª‰Ωï‰∫∫‰∏ÄÊ†∑ÔºåÁ†¥ÂùèËßÑÂàô„ÄÇ
- en: The time might come when you, too, have to break the rules. Do so with intention
    and clarity of purpose.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: ‰πüËÆ∏Êúâ‰∏ÄÂ§©‰Ω†‰πü‰∏çÂæó‰∏çÊâìÁ†¥ËßÑÂàô„ÄÇËØ∑ÊúâÁõÆÁöÑÂú∞‰ª•ÂèäÊòéÁ°ÆÂú∞ËøôÊ†∑ÂÅö„ÄÇ
- en: ‚ÄúAbandon a standard when it is demonstrably harmful to productivity or user
    satisfaction.‚Äù ‚Äî Jef Raskin, [The Humane Interface](https://en.wikipedia.org/wiki/The_Humane_Interface)
  id: totrans-96
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ‚ÄúÂú®Ê†áÂáÜÊòéÊòæÊúâÊçüÁîü‰∫ßÂäõÊàñÁî®Êà∑Êª°ÊÑèÂ∫¶Êó∂ÊîæÂºÉËØ•Ê†áÂáÜ„ÄÇ‚Äù ‚Äî Êù∞Â§´¬∑ÊãâÊñØÈáëÔºå„Ää‰∫∫ÊÄßÂåñÁïåÈù¢„Äã
- en: Guidelines
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ÊåáÂçó
- en: This is a collection of specific things you can do to make your command-line
    program better.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: ËøôÊòØ‰∏ÄÁ≥ªÂàóÂèØ‰ª•‰ΩøÊÇ®ÁöÑÂëΩ‰ª§Ë°åÁ®ãÂ∫èÊõ¥Â•ΩÁöÑÂÖ∑‰Ωì‰∫ãÈ°π„ÄÇ
- en: The first section contains the essential things you need to follow. Get these
    wrong, and your program will be either hard to use or a bad CLI citizen.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: Á¨¨‰∏ÄÈÉ®ÂàÜÂåÖÂê´ÊÇ®ÈúÄË¶ÅÈÅµÂæ™ÁöÑÂü∫Êú¨Ë¶ÅÁÇπ„ÄÇÂ¶ÇÊûúËøùÂèçËøô‰∫õËßÑÂàôÔºåÊÇ®ÁöÑÁ®ãÂ∫èÂ∞ÜË¶Å‰πàÈöæÁî®ÔºåË¶Å‰πàÊòØ‰∏Ä‰∏™Á≥üÁ≥ïÁöÑCLIÂ∑•ÂÖ∑„ÄÇ
- en: The rest are nice-to-haves. If you have the time and energy to add these things,
    your program will be a lot better than the average program.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: ÂÖ∂‰ΩôÂàôÊòØ‰∏Ä‰∫õ‰∏çÈîôÁöÑÂäüËÉΩ„ÄÇÂ¶ÇÊûúÊÇ®ÊúâÊó∂Èó¥ÂíåÁ≤æÂäõÊ∑ªÂä†Ëøô‰∫õÂäüËÉΩÔºåÊÇ®ÁöÑÁ®ãÂ∫èÂ∞ÜÊØîÂπ≥ÂùáÁ®ãÂ∫èÂ•Ω‰∫ÜËÆ∏Â§ö„ÄÇ
- en: 'The idea is that, if you don‚Äôt want to think too hard about the design of your
    program, you don‚Äôt have to: just follow these rules and your program will probably
    be good. On the other hand, if you‚Äôve thought about it and determined that a rule
    is wrong for your program, that‚Äôs fine. (There‚Äôs no central authority that will
    reject your program for not following arbitrary rules.)'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: Ëøô‰∏™‰∏ªÊÑèÊòØÔºåÂ¶ÇÊûúÊÇ®‰∏çÊÉ≥ËøáÂ§öËÄÉËôëÁ®ãÂ∫èÁöÑËÆæËÆ°ÔºåÊÇ®‰∏çÂøÖËøôÊ†∑ÂÅöÔºöÂè™ÈúÄÈÅµÂæ™Ëøô‰∫õËßÑÂàôÔºåÊÇ®ÁöÑÁ®ãÂ∫èÂèØËÉΩ‰ºöÂæà‰∏çÈîô„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÂ¶ÇÊûúÊÇ®ÊÄùËÄÉ‰∫ÜÂπ∂Á°ÆÂÆöÊüê‰∏™ËßÑÂàô‰∏çÈÄÇÂêàÊÇ®ÁöÑÁ®ãÂ∫èÔºåÈÇ£Ê≤°ÈóÆÈ¢ò„ÄÇÔºàÊ≤°Êúâ‰∏≠Â§ÆÁÆ°ÁêÜÊú∫ÊûÑ‰ºöÂõ†‰∏∫‰∏çÈÅµÂæ™‰ªªÊÑèËßÑÂàôËÄåÊãíÁªùÊÇ®ÁöÑÁ®ãÂ∫è„ÄÇÔºâ
- en: Also‚Äîthese rules aren‚Äôt written in stone. If you disagree with a general rule
    for good reason, we hope you‚Äôll [propose a change](https://github.com/cli-guidelines/cli-guidelines).
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: Ê≠§Â§ñÔºåËøô‰∫õËßÑÂàôÂπ∂‰∏çÊòØ‰∏ÄÊàê‰∏çÂèòÁöÑ„ÄÇÂ¶ÇÊûúÊÇ®ÊúâÊ≠£ÂΩìÁêÜÁî±‰∏çÂêåÊÑè‰∏ÄËà¨ËßÑÂàôÔºåÊàë‰ª¨Â∏åÊúõÊÇ®‰ºö[ÊèêÂá∫Êõ¥Êîπ](https://github.com/cli-guidelines/cli-guidelines)„ÄÇ
- en: The Basics
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Âü∫Á°ÄÁü•ËØÜ
- en: There are a few basic rules you need to follow. Get these wrong, and your program
    will be either very hard to use, or flat-out broken.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: Êúâ‰∏Ä‰∫õÂü∫Êú¨ËßÑÂàôÈúÄË¶ÅÈÅµÂæ™„ÄÇÂ¶ÇÊûúËøùÂèçËøô‰∫õËßÑÂàôÔºåÊÇ®ÁöÑÁ®ãÂ∫èÂ∞ÜË¶Å‰πàÈùûÂ∏∏ÈöæÁî®ÔºåË¶Å‰πàÊØ´Êó†‰ΩúÁî®„ÄÇ
- en: '**Use a command-line argument parsing library where you can.** Either your
    language‚Äôs built-in one, or a good third-party one. They will normally handle
    arguments, flag parsing, help text, and even spelling suggestions in a sensible
    way.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®ÂëΩ‰ª§Ë°åÂèÇÊï∞Ëß£ÊûêÂ∫ì„ÄÇ** ‰ΩøÁî®ÊÇ®ÊâÄÁî®ËØ≠Ë®ÄÂÜÖÁΩÆÁöÑËß£ÊûêÂ∫ìÔºåÊàñËÄÖ‰ºòÁßÄÁöÑÁ¨¨‰∏âÊñπËß£ÊûêÂ∫ì„ÄÇÂÆÉ‰ª¨ÈÄöÂ∏∏‰ºö‰ª•ÊòéÊô∫ÁöÑÊñπÂºèÂ§ÑÁêÜÂèÇÊï∞Ëß£Êûê„ÄÅÊ†áÂøóËß£Êûê„ÄÅÂ∏ÆÂä©ÊñáÊú¨ÔºåÁîöËá≥ÊãºÂÜôÂª∫ËÆÆ„ÄÇ'
- en: 'Here are some that we like:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: ËøôÈáåÊúâ‰∏Ä‰∫õÊàë‰ª¨ÂñúÊ¨¢ÁöÑÔºö
- en: '**Return zero exit code on success, non-zero on failure.** Exit codes are how
    scripts determine whether a program succeeded or failed, so you should report
    this correctly. Map the non-zero exit codes to the most important failure modes.'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®ÊàêÂäüÊó∂ËøîÂõûÈõ∂ÈÄÄÂá∫‰ª£Á†ÅÔºåÂú®Â§±Ë¥•Êó∂ËøîÂõûÈùûÈõ∂ÈÄÄÂá∫‰ª£Á†Å„ÄÇ** ÈÄÄÂá∫‰ª£Á†ÅÊòØËÑöÊú¨Á°ÆÂÆöÁ®ãÂ∫èÊòØÂê¶ÊàêÂäüÊàñÂ§±Ë¥•ÁöÑÊñπÂºèÔºåÂõ†Ê≠§ÊÇ®Â∫îËØ•Ê≠£Á°ÆÊä•ÂëäÊ≠§‰ø°ÊÅØ„ÄÇÂ∞ÜÈùûÈõ∂ÈÄÄÂá∫‰ª£Á†ÅÊò†Â∞ÑÂà∞ÊúÄÈáçË¶ÅÁöÑÂ§±Ë¥•Ê®°Âºè„ÄÇ'
- en: '**Send output to `stdout`.** The primary output for your command should go
    to `stdout`. Anything that is machine readable should also go to `stdout`‚Äîthis
    is where piping sends things by default.'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â∞ÜËæìÂá∫ÂèëÈÄÅÂà∞`stdout`„ÄÇ** ÊÇ®ÁöÑÂëΩ‰ª§ÁöÑ‰∏ªË¶ÅËæìÂá∫Â∫îÂèëÈÄÅÂà∞`stdout`„ÄÇ‰ªª‰ΩïÊú∫Âô®ÂèØËØªÂÜÖÂÆπ‰πüÂ∫îËØ•ÂèëÈÄÅÂà∞`stdout`ÔºåËøôÊòØÁÆ°ÈÅìÈªòËÆ§ÂèëÈÄÅÂÜÖÂÆπÁöÑ‰ΩçÁΩÆ„ÄÇ'
- en: '**Send messaging to `stderr`.** Log messages, errors, and so on should all
    be sent to `stderr`. This means that when commands are piped together, these messages
    are displayed to the user and not fed into the next command.'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞`stderr`„ÄÇ** Êó•ÂøóÊ∂àÊÅØ„ÄÅÈîôËØØÁ≠âÂ∫îÂÖ®ÈÉ®ÂèëÈÄÅÂà∞`stderr`„ÄÇËøôÊÑèÂë≥ÁùÄÂΩìÂëΩ‰ª§‰∏≤ËÅîÂú®‰∏ÄËµ∑Êó∂ÔºåËøô‰∫õÊ∂àÊÅØÂ∞ÜÊòæÁ§∫ÁªôÁî®Êà∑ËÄå‰∏ç‰ºöË¢´ËæìÂÖ•Âà∞‰∏ã‰∏Ä‰∏™ÂëΩ‰ª§‰∏≠„ÄÇ'
- en: Help
  id: totrans-110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Â∏ÆÂä©
- en: '**Display help text when passed no options, the `-h` flag, or the `--help`
    flag.**'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÂΩì‰∏çÊ∑ªÂä†‰ªª‰ΩïÈÄâÈ°π„ÄÅÊ∑ªÂä†`-h`Ê†áÂøóÊàñ`--help`Ê†áÂøóÊó∂ÔºåÊòæÁ§∫Â∏ÆÂä©ÊñáÊú¨„ÄÇ**'
- en: '**Display a concise help text by default.** If you can, display help by default
    when `myapp` or `myapp subcommand` is run. Unless your program is very simple
    and does something obvious by default (e.g. `ls`), or your program reads input
    interactively (e.g. `cat`).'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÈªòËÆ§ÊòæÁ§∫ÁÆÄÊ¥ÅÁöÑÂ∏ÆÂä©ÊñáÊú¨„ÄÇ** Â¶ÇÊûúÂèØ‰ª•ÁöÑËØùÔºåÂú®ËøêË°å`myapp`Êàñ`myappÂ≠êÂëΩ‰ª§`Êó∂ÔºåÈªòËÆ§ÊòæÁ§∫Â∏ÆÂä©„ÄÇÈô§ÈùûÊÇ®ÁöÑÁ®ãÂ∫èÈùûÂ∏∏ÁÆÄÂçïÂπ∂‰∏îÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊâßË°åÊüê‰∫õÊòéÊòæÁöÑÊìç‰ΩúÔºà‰æãÂ¶Ç`ls`ÔºâÔºåÊàñËÄÖÊÇ®ÁöÑÁ®ãÂ∫è‰ª•‰∫§‰∫íÊñπÂºèËØªÂèñËæìÂÖ•Ôºà‰æãÂ¶Ç`cat`Ôºâ„ÄÇ'
- en: 'The concise help text should only include:'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: ÁÆÄÊ¥ÅÁöÑÂ∏ÆÂä©ÊñáÊú¨Â∫î‰ªÖÂåÖÊã¨Ôºö
- en: A description of what your program does.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ÊÇ®ÁöÑÁ®ãÂ∫èÂäüËÉΩÁöÑÊèèËø∞„ÄÇ
- en: One or two example invocations.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‰∏Ä‰∏™Êàñ‰∏§‰∏™Á§∫‰æãË∞ÉÁî®„ÄÇ
- en: Descriptions of flags, unless there are lots of them.
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Ê†áÂøóÁöÑÊèèËø∞ÔºåÈô§ÈùûÊúâÂæàÂ§öÊ†áÂøó„ÄÇ
- en: An instruction to pass the `--help` flag for more information.
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‰∏Ä‰∏™ÊåáÁ§∫‰º†ÈÄí`--help`Ê†áÂøó‰ª•‰∫ÜËß£Êõ¥Â§ö‰ø°ÊÅØ„ÄÇ
- en: '`jq` does this well. When you type `jq`, it displays an introductory description
    and an example, then prompts you to pass `jq --help` for the full listing of flags:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: '`jq`ÂÅöÂæóÂæàÂ•Ω„ÄÇÂΩìÊÇ®ÈîÆÂÖ•`jq`Êó∂ÔºåÂÆÉ‰ºöÊòæÁ§∫‰∏Ä‰∏™ÁÆÄ‰ªãÊèèËø∞Âíå‰∏Ä‰∏™Á§∫‰æãÔºåÁÑ∂ÂêéÊèêÁ§∫ÊÇ®‰º†ÈÄí`jq --help`‰ª•Ëé∑ÂèñÊúâÂÖ≥Ê†áÂøóÁöÑÂÆåÊï¥ÂàóË°®Ôºö'
- en: '[PRE0]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '**Show full help when `-h` and `--help` is passed.** All of these should show
    help:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÂΩì‰º†ÈÄí`-h`Âíå`--help`Êó∂ÊòæÁ§∫ÂÆåÊï¥ÁöÑÂ∏ÆÂä©„ÄÇ** ÊâÄÊúâËøô‰∫õÈÉΩÂ∫îËØ•ÊòæÁ§∫Â∏ÆÂä©Ôºö'
- en: '[PRE1]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Ignore any other flags and arguments that are passed‚Äîyou should be able to add
    `-h` to the end of anything and it should show help. Don‚Äôt overload `-h`.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: ÂøΩÁï•‰º†ÈÄíÁöÑÂÖ∂‰ªñÊ†áÂøóÂíåÂèÇÊï∞ ‚Äî ‚Äî ÊÇ®Â∫îËØ•ËÉΩÂ§üÂú®‰ªª‰ΩïÂú∞ÊñπÂä†‰∏ä`-h`Âπ∂ÊòæÁ§∫Âá∫Â∏ÆÂä©„ÄÇ‰∏çË¶ÅËøáÂ∫¶‰ΩøÁî®`-h`„ÄÇ
- en: 'If your program is `git`-like, the following should also offer help:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: Â¶ÇÊûúÊÇ®ÁöÑÁ®ãÂ∫èÁ±ª‰ºº‰∫é`git`Ôºå‰∏ãÈù¢ÁöÑÂÜÖÂÆπ‰πüÂ∫îËØ•Êèê‰æõÂ∏ÆÂä©Ôºö
- en: '[PRE2]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Provide a support path for feedback and issues.** A website or GitHub link
    in the top-level help text is common.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏∫ÂèçÈ¶àÂíåÈóÆÈ¢òÊèê‰æõÊîØÊåÅÈÄîÂæÑ„ÄÇ** È°∂Á∫ßÂ∏ÆÂä©ÊñáÊú¨‰∏≠Â∏∏ËßÅÁöÑÊòØÁΩëÁ´ôÊàñGitHubÈìæÊé•„ÄÇ'
- en: '**In help text, link to the web version of the documentation.** If you have
    a specific page or anchor for a subcommand, link directly to that. This is particularly
    useful if there is more detailed documentation on the web, or further reading
    that might explain the behavior of something.'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®Â∏ÆÂä©ÊñáÊú¨‰∏≠ÔºåÈìæÊé•Âà∞ÊñáÊ°£ÁöÑÁΩëÈ°µÁâàÊú¨„ÄÇ** Â¶ÇÊûúÁâπÂÆöÂ≠êÂëΩ‰ª§ÊúâÁâπÂÆöÈ°µÈù¢ÊàñÈîöÁÇπÔºåËØ∑Áõ¥Êé•ÈìæÊé•Âà∞ÈÇ£Èáå„ÄÇÂ¶ÇÊûúÁΩë‰∏äÊúâÊõ¥ËØ¶ÁªÜÁöÑÊñáÊ°£ÊàñÁõ∏ÂÖ≥ÈòÖËØªÂèØËÉΩ‰ºöËß£ÈáäÊüê‰∫õË°å‰∏∫ÔºåËøôÂ∞ÜÈùûÂ∏∏ÊúâÁî®„ÄÇ'
- en: '**Lead with examples.** Users tend to use examples over other forms of documentation,
    so show them first in the help page, particularly the common complex uses. If
    it helps explain what it‚Äôs doing and it isn‚Äôt too long, show the actual output
    too.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰ª•Á§∫‰æãÂºÄÂ§¥„ÄÇ** Áî®Êà∑Êõ¥ÂÄæÂêë‰∫é‰ΩøÁî®Á§∫‰æãËÄå‰∏çÊòØÂÖ∂‰ªñÂΩ¢ÂºèÁöÑÊñáÊ°£ÔºåÂõ†Ê≠§È¶ñÂÖàÂú®Â∏ÆÂä©È°µÈù¢‰∏≠ÊòæÁ§∫Á§∫‰æãÔºåÁâπÂà´ÊòØÂ∏∏ËßÅÁöÑÂ§çÊùÇÁî®ÈÄî„ÄÇÂ¶ÇÊûúÂÆÉÊúâÂä©‰∫éËß£ÈáäÊâÄÂÅöÁöÑ‰∫ãÊÉÖÔºåÂπ∂‰∏î‰∏çÂ§™ÈïøÔºåËøòÂèØ‰ª•ÊòæÁ§∫ÂÆûÈôÖËæìÂá∫„ÄÇ'
- en: You can tell a story with a series of examples, building your way toward complex
    uses.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: ÊÇ®ÂèØ‰ª•ÈÄöËøá‰∏ÄÁ≥ªÂàóÁ§∫‰æãËÆ≤Ëø∞‰∏Ä‰∏™ÊïÖ‰∫ãÔºåÈÄêÊ≠•ÊûÑÂª∫ÊÇ®ÁöÑÊñπÂºèÂêëÂ§çÊùÇÁöÑÁî®ÈÄîÂèëÂ±ï„ÄÇ
- en: '**If you‚Äôve got loads of examples, put them somewhere else,** in a cheat sheet
    command or a web page. It‚Äôs useful to have exhaustive, advanced examples, but
    you don‚Äôt want to make your help text really long.'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûú‰Ω†ÊúâÂ§ßÈáèÁ§∫‰æãÔºåËØ∑Â∞ÜÂÆÉ‰ª¨ÊîæÂú®ÂÖ∂‰ªñÂú∞Êñπ**Ôºå‰æãÂ¶Ç‰∏Ä‰∏™Â§áÂøòÂçïÂëΩ‰ª§Êàñ‰∏Ä‰∏™ÁΩëÈ°µ„ÄÇÊã•ÊúâËØ¶Â∞ΩËÄåÈ´òÁ∫ßÁöÑÁ§∫‰æãÂæàÊúâÁî®Ôºå‰ΩÜ‰Ω†‰∏çÂ∏åÊúõ‰Ωø‰Ω†ÁöÑÂ∏ÆÂä©ÊñáÊú¨ÂèòÂæóÈùûÂ∏∏Èïø„ÄÇ'
- en: For more complex use cases, e.g. when integrating with another tool, it might
    be appropriate to write a fully-fledged tutorial.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: ÂØπ‰∫éÊõ¥Â§çÊùÇÁöÑÁî®‰æãÔºå‰æãÂ¶Ç‰∏éÂè¶‰∏Ä‰∏™Â∑•ÂÖ∑ÈõÜÊàêÊó∂ÔºåÁºñÂÜô‰∏Ä‰∏™ÊàêÁÜüÁöÑÊïôÁ®ãÂèØËÉΩÊòØÊÅ∞ÂΩìÁöÑ„ÄÇ
- en: '**Display the most common flags and commands at the start of the help text.**
    It‚Äôs fine to have lots of flags, but if you‚Äôve got some really common ones, display
    them first. For example, the Git command displays the commands for getting started
    and the most commonly used subcommands first:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®Â∏ÆÂä©ÊñáÊú¨ÁöÑÂºÄÂ§¥ÊòæÁ§∫ÊúÄÂ∏∏ËßÅÁöÑÊ†áÂøóÂíåÂëΩ‰ª§„ÄÇ** Êã•ÊúâÂ§ßÈáèÊ†áÂøóÊòØÂèØ‰ª•ÁöÑÔºå‰ΩÜÊòØÂ¶ÇÊûúÊúâ‰∏Ä‰∫õÈùûÂ∏∏Â∏∏ËßÅÁöÑÊ†áÂøóÔºåËØ∑ÂÖàÊòæÁ§∫ÂÆÉ‰ª¨„ÄÇ‰æãÂ¶ÇÔºåGit ÂëΩ‰ª§‰ºöÈ¶ñÂÖàÊòæÁ§∫ÂºÄÂßãÂíåÊúÄÂ∏∏Áî®ÁöÑÂ≠êÂëΩ‰ª§Ôºö'
- en: '[PRE3]'
  id: totrans-132
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '**Use formatting in your help text.** Bold headings make it much easier to
    scan. But, try to do it in a terminal-independent way so that your users aren‚Äôt
    staring down a wall of escape characters.'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®Â∏ÆÂä©ÊñáÊú¨‰∏≠‰ΩøÁî®Ê†ºÂºèÂåñ„ÄÇ** Á≤ó‰ΩìÊ†áÈ¢ò‰ºöËÆ©Êâ´ÊèèÂèòÂæóÊõ¥ÂÆπÊòì„ÄÇ‰ΩÜÊòØÔºåÂ∞ùËØï‰ª•‰∏éÁªàÁ´ØÊó†ÂÖ≥ÁöÑÊñπÂºèÂÅöÂà∞Ëøô‰∏ÄÁÇπÔºå‰ª•ÂÖçÁî®Êà∑‰∏ÄÁúºÊúõÂéªÂè™ÁúãÂà∞‰∏ÄÂ†ÜËΩ¨‰πâÂ≠óÁ¨¶„ÄÇ'
- en: '[PRE4]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Note: When `heroku apps --help` is piped through a pager, the command emits
    no escape characters.'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: Ê≥®ÊÑèÔºöÂΩì`heroku apps --help`ÈÄöËøáÂàÜÈ°µÂô®‰º†ËæìÊó∂ÔºåÂëΩ‰ª§‰∏ç‰ºöÂèëÂá∫ËΩ¨‰πâÂ≠óÁ¨¶„ÄÇ
- en: '**If the user did something wrong and you can guess what they meant, suggest
    it.** For example, `brew update jq` tells you that you should run `brew upgrade
    jq`.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÁî®Êà∑ÂÅöÈîô‰∫Ü‰∫õ‰ªÄ‰πàÔºåËÄå‰Ω†ÁåúÂà∞‰∫Ü‰ªñ‰ª¨ÁöÑÊÑèÊÄùÔºåÈÇ£Â∞±Âª∫ËÆÆ‰∏Ä‰∏ã„ÄÇ** ‰æãÂ¶ÇÔºå`brew update jq`ÂëäËØâ‰Ω†Â∫îËØ•ËøêË°å`brew upgrade jq`„ÄÇ'
- en: 'You can ask if they want to run the suggested command, but don‚Äôt force it on
    them. For example:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: ‰Ω†ÂèØ‰ª•ËØ¢ÈóÆ‰ªñ‰ª¨ÊòØÂê¶ÊÉ≥ËøêË°åÂª∫ËÆÆÁöÑÂëΩ‰ª§Ôºå‰ΩÜ‰∏çË¶ÅÂº∫Ëø´‰ªñ‰ª¨„ÄÇ‰æãÂ¶ÇÔºö
- en: '[PRE5]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Rather than suggesting the corrected syntax, you might be tempted to just run
    it for them, as if they‚Äôd typed it right in the first place. Sometimes this is
    the right thing to do, but not always.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: ‰∏éÂÖ∂Âª∫ËÆÆÊ≠£Á°ÆÁöÑËØ≠Ê≥ïÔºå‰Ω†ÂèØËÉΩ‰ºöÊÉ≥Ë¶Å‰∏∫‰ªñ‰ª¨ËøêË°åÂÆÉÔºåÂ∞±Â•ΩÂÉè‰ªñ‰ª¨‰∏ÄÂºÄÂßãÂ∞±Ê≠£Á°ÆËæìÂÖ•‰∫Ü‰∏ÄÊ†∑„ÄÇÊúâÊó∂ÂÄôËøôÊ†∑ÂÅöÊòØÊ≠£Á°ÆÁöÑÔºå‰ΩÜÂπ∂ÈùûÊÄªÊòØ„ÄÇ
- en: Firstly, invalid input doesn‚Äôt necessarily imply a simple typo‚Äîit can often
    mean the user has made a logical mistake, or misused a shell variable. Assuming
    what they meant can be dangerous, especially if the resulting action modifies
    state.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: È¶ñÂÖàÔºåÊó†ÊïàÁöÑËæìÂÖ•‰∏ç‰∏ÄÂÆöÊÑèÂë≥ÁùÄ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊãºÂÜôÈîôËØØ - ÂÆÉÂæÄÂæÄÊÑèÂë≥ÁùÄÁî®Êà∑Â∑≤ÁªèÁäØ‰∫Ü‰∏Ä‰∏™ÈÄªËæëÈîôËØØÔºåÊàñËÄÖËØØÁî®‰∫Ü‰∏Ä‰∏™ shell ÂèòÈáè„ÄÇÂÅáËÆæ‰ªñ‰ª¨ÁöÑÊÑèÂõæÂèØËÉΩÊòØÂç±Èô©ÁöÑÔºåÁâπÂà´ÊòØÂ¶ÇÊûúÁªìÊûúÁöÑÊìç‰Ωú‰ºö‰øÆÊîπÁä∂ÊÄÅ„ÄÇ
- en: Secondly, be aware that if you change what the user typed, they won‚Äôt learn
    the correct syntax. In effect, you‚Äôre ruling that the way they typed it is valid
    and correct, and you‚Äôre committing to supporting that indefinitely. Be intentional
    in making that decision, and document both syntaxes.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: ÂÖ∂Ê¨°ÔºåË¶ÅÊ≥®ÊÑèÂ¶ÇÊûú‰Ω†ÊîπÂèòÁî®Êà∑ËæìÂÖ•ÁöÑÂÜÖÂÆπÔºå‰ªñ‰ª¨Â∞ÜÊó†Ê≥ïÂ≠¶‰π†Ê≠£Á°ÆÁöÑËØ≠Ê≥ï„ÄÇÂÆûÈôÖ‰∏äÔºå‰Ω†Ê≠£Âú®Á°ÆÂÆö‰ªñ‰ª¨ËæìÂÖ•ÁöÑÊñπÂºèÊòØÊúâÊïàÂíåÊ≠£Á°ÆÁöÑÔºåÂπ∂‰∏îÊâøËØ∫Êó†ÈôêÊîØÊåÅËøôÁßçÊñπÂºè„ÄÇÂú®ÂÅöÂá∫Ëøô‰∏™ÂÜ≥ÂÆöÊó∂Ë¶ÅÊúâÊÑèËØÜÔºåÂπ∂ËÆ∞ÂΩï‰∏§ÁßçËØ≠Ê≥ï„ÄÇ
- en: '*Further reading: [‚ÄúDo What I Mean‚Äù](http://www.catb.org/~esr/jargon/html/D/DWIM.html)*'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '*Ëøõ‰∏ÄÊ≠•ÈòÖËØªÔºö[‚ÄúÊåâÊàëÊâÄÊÉ≥‚Äù](http://www.catb.org/~esr/jargon/html/D/DWIM.html)*'
- en: '**If your command is expecting to have something piped to it and `stdin` is
    an interactive terminal, display help immediately and quit.** This means it doesn‚Äôt
    just hang, like `cat`. Alternatively, you could print a log message to `stderr`.'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûú‰Ω†ÁöÑÂëΩ‰ª§ÊúüÊúõÊúâÊï∞ÊçÆË¢´ÁÆ°ÈÅìËæìÂÖ•Ôºå‰∏î`stdin`ÊòØ‰∏Ä‰∏™‰∫§‰∫íÂºèÁªàÁ´ØÔºåÁ´ãÂç≥ÊòæÁ§∫Â∏ÆÂä©Âπ∂ÈÄÄÂá∫„ÄÇ** ËøôÊÑèÂë≥ÁùÄÂÆÉ‰∏ç‰ºöÂÉè `cat` ÈÇ£Ê†∑Ê∞∏‰πÖÂÅúÊ≠¢„ÄÇÊàñËÄÖÔºå‰Ω†ÂèØ‰ª•Â∞ÜÊó•ÂøóÊ∂àÊÅØÊâìÂç∞Âà∞`stderr`„ÄÇ'
- en: Documentation
  id: totrans-144
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÊñáÊ°£
- en: The purpose of [help text](#help) is to give a brief, immediate sense of what
    your tool is, what options are available, and how to perform the most common tasks.
    Documentation, on the other hand, is where you go into full detail. It‚Äôs where
    people go to understand what your tool is for, what it *isn‚Äôt* for, how it works
    and how to do everything they might need to do.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '[Â∏ÆÂä©ÊñáÊú¨](#help)ÁöÑÁõÆÁöÑÊòØË¶ÅÁªô‰∫à‰∏Ä‰∏™ÁÆÄÁü≠„ÄÅÂç≥Êó∂ÊÑüÁü•‰Ω†ÁöÑÂ∑•ÂÖ∑ÊòØ‰ªÄ‰πàÔºåÂì™‰∫õÈÄâÈ°πÂèØÁî®ÔºåÂ¶Ç‰ΩïÊâßË°åÊúÄÂ∏∏ËßÅÁöÑ‰ªªÂä°„ÄÇËÄåÊñáÊ°£ÔºåÂàôÊòØ‰Ω†ËØ¶Â∞ΩÈòêËø∞ÁöÑÂú∞Êñπ„ÄÇËøôÊòØ‰∫∫‰ª¨Âéª‰∫ÜËß£‰Ω†ÁöÑÂ∑•ÂÖ∑ÊòØÁî®Êù•ÂÅö‰ªÄ‰πàÁöÑÔºåÂÆÉ‰∏çÈÄÇÁî®‰∫é‰ªÄ‰πàÔºåÂÆÉÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºå‰ª•ÂèäÂ¶Ç‰ΩïËøõË°å‰ªñ‰ª¨ÂèØËÉΩÈúÄË¶ÅÂÅöÁöÑÊâÄÊúâ‰∫ãÊÉÖÁöÑÂú∞Êñπ„ÄÇ'
- en: '**Provide web-based documentation.** People need to be able to search online
    for your tool‚Äôs documentation, and to link other people to specific parts. The
    web is the most inclusive documentation format available.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: '**Êèê‰æõÂü∫‰∫é web ÁöÑÊñáÊ°£„ÄÇ** ‰∫∫‰ª¨ÈúÄË¶ÅËÉΩÂ§üÂú®ÁΩë‰∏äÊêúÁ¥¢‰Ω†ÁöÑÂ∑•ÂÖ∑ÊñáÊ°£ÔºåÂπ∂ÂêëÂÖ∂‰ªñ‰∫∫ÈìæÊé•ÁâπÂÆöÈÉ®ÂàÜ„ÄÇÁΩëÁªúÊòØÊúÄÂÖ∑ÂåÖÂÆπÊÄßÁöÑÊñáÊ°£Ê†ºÂºè„ÄÇ'
- en: '**Provide terminal-based documentation.** Documentation in the terminal has
    several nice properties: it‚Äôs fast to access, it stays in sync with the specific
    installed version of the tool, and it works without an internet connection.'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '**Êèê‰æõÂü∫‰∫éÁªàÁ´ØÁöÑÊñáÊ°£„ÄÇ** ÁªàÁ´Ø‰∏≠ÁöÑÊñáÊ°£ÂÖ∑ÊúâÂá†‰∏™‰ºòÁÇπÔºöÂø´ÈÄüËÆøÈóÆ„ÄÅ‰∏éÂ∑•ÂÖ∑ÁöÑÁâπÂÆöÂÆâË£ÖÁâàÊú¨‰øùÊåÅÂêåÊ≠•Ôºå‰ª•ÂèäÊó†ÈúÄ‰∫íËÅîÁΩëËøûÊé•Âç≥ÂèØ‰ΩøÁî®„ÄÇ'
- en: '**Consider providing man pages.** [man pages](https://en.wikipedia.org/wiki/Man_page),
    Unix‚Äôs original system of documentation, are still in use today, and many users
    will reflexively check `man mycmd` as a first step when trying to learn about
    your tool. To make them easier to generate, you can use a tool like [ronn](http://rtomayko.github.io/ronn/ronn.1.html)
    (which can also generate your web docs).'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '**ËÄÉËôëÊèê‰æõ man È°µÈù¢„ÄÇ** [man È°µÈù¢](https://en.wikipedia.org/wiki/Man_page)ÔºåUnixÁöÑÂéüÂßãÊñáÊ°£Á≥ªÁªüÔºåËá≥‰ªä‰ªçÂú®‰ΩøÁî®ÔºåËÆ∏Â§öÁî®Êà∑Âú®ËØïÂõæ‰∫ÜËß£‰Ω†ÁöÑÂ∑•ÂÖ∑Êó∂Ôºå‰ºöÊú¨ËÉΩÂú∞Ê£ÄÊü•`man
    mycmd`„ÄÇ‰∏∫‰∫ÜÊõ¥Êòì‰∫éÁîüÊàêÂÆÉ‰ª¨Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî® [ronn](http://rtomayko.github.io/ronn/ronn.1.html) ËøôÊ†∑ÁöÑÂ∑•ÂÖ∑ÔºàÂÆÉ‰πüÂèØ‰ª•ÁîüÊàê‰Ω†ÁöÑÁΩëÁªúÊñáÊ°£Ôºâ„ÄÇ'
- en: However, not everyone knows about `man`, and it doesn‚Äôt run on all platforms,
    so you should also make sure your terminal docs are accessible via your tool itself.
    For example, `git` and `npm` make their man pages accessible via the `help` subcommand,
    so `npm help ls` is equivalent to `man npm-ls`.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: ÁÑ∂ËÄåÔºåÂπ∂ÈùûÊØè‰∏™‰∫∫ÈÉΩÁü•ÈÅì`man`ÔºåËÄå‰∏îÂÆÉÂπ∂‰∏çÂú®ÊâÄÊúâÂπ≥Âè∞‰∏äËøêË°åÔºåÂõ†Ê≠§‰Ω†ËøòÂ∫îÁ°Æ‰øù‰Ω†ÁöÑÁªàÁ´ØÊñáÊ°£ÂèØ‰ª•ÈÄöËøá‰Ω†ÁöÑÂ∑•ÂÖ∑Êú¨Ë∫´ËÆøÈóÆ„ÄÇ‰æãÂ¶ÇÔºå`git` Âíå `npm`ÈÄöËøá`help`Â≠êÂëΩ‰ª§ÂèØ‰ª•ËÆøÈóÆ‰ªñ‰ª¨ÁöÑ
    man È°µÈù¢ÔºåÂõ†Ê≠§`npm help ls`Á≠âÂêå‰∫é`man npm-ls`„ÄÇ
- en: '[PRE6]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Output
  id: totrans-151
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ËæìÂá∫
- en: '**Human-readable output is paramount.** Humans come first, machines second.
    The most simple and straightforward heuristic for whether a particular output
    stream (`stdout` or `stderr`) is being read by a human is *whether or not it‚Äôs
    a TTY*. Whatever language you‚Äôre using, it will have a utility or library for
    doing this (e.g. [Python](https://stackoverflow.com/questions/858623/how-to-recognize-whether-a-script-is-running-on-a-tty),
    [Node](https://nodejs.org/api/process.html#process_a_note_on_process_i_o), [Go](https://github.com/mattn/go-isatty)).'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∫∫Á±ªÂèØËØªÁöÑËæìÂá∫Ëá≥ÂÖ≥ÈáçË¶Å„ÄÇ** ‰∫∫Á±ª‰ºòÂÖàÔºåÊú∫Âô®ÂÖ∂Ê¨°„ÄÇÊòØÂê¶ÊòØ‰∏Ä‰∏™ TTY ÊòØÂà§Êñ≠ÁâπÂÆöËæìÂá∫ÊµÅÔºà`stdout`Êàñ`stderr`ÔºâË¢´‰∫∫Á±ªËØªÂèñÁöÑÊúÄÁÆÄÂçïÂíåÁõ¥Êé•ÁöÑÂêØÂèëÂºèÊñπÊ≥ï„ÄÇÊó†ËÆ∫ÊÇ®‰ΩøÁî®ÁöÑÊòØ‰ªÄ‰πàËØ≠Ë®ÄÔºåÂÆÉÈÉΩÂ∞ÜÊúâ‰∏Ä‰∏™Áî®‰∫éÊâßË°åÊ≠§Êìç‰ΩúÁöÑÂÆûÁî®Á®ãÂ∫èÊàñÂ∫ìÔºà‰æãÂ¶Ç
    [Python](https://stackoverflow.com/questions/858623/how-to-recognize-whether-a-script-is-running-on-a-tty)Ôºå[Node](https://nodejs.org/api/process.html#process_a_note_on_process_i_o)Ôºå[Go](https://github.com/mattn/go-isatty)Ôºâ„ÄÇ'
- en: '*Further reading on [what a TTY is](https://unix.stackexchange.com/a/4132).*'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '*ÊúâÂÖ≥ [TTY ÊòØ‰ªÄ‰πà](https://unix.stackexchange.com/a/4132) ÁöÑÊõ¥Â§öÈòÖËØª„ÄÇ*'
- en: '**Have machine-readable output where it does not impact usability.** Streams
    of text is the universal interface in UNIX. Programs typically output lines of
    text, and programs typically expect lines of text as input, therefore you can
    compose multiple programs together. This is normally done to make it possible
    to write scripts, but it can also help the usability for humans using programs.
    For example, a user should be able to pipe output to `grep` and it should do what
    they expect.'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®‰∏çÂΩ±ÂìçÂèØÁî®ÊÄßÁöÑÊÉÖÂÜµ‰∏ãÊã•ÊúâÊú∫Âô®ÂèØËØªÁöÑËæìÂá∫„ÄÇ** ÊñáÊú¨ÊµÅÊòØ UNIX ‰∏≠ÈÄöÁî®ÁöÑÊé•Âè£„ÄÇÁ®ãÂ∫èÈÄöÂ∏∏‰ºöËæìÂá∫ÊñáÊú¨Ë°åÔºåËÄåÁ®ãÂ∫èÈÄöÂ∏∏ÊúüÊúõËæìÂÖ•ÊñáÊú¨Ë°åÔºåÂõ†Ê≠§ÊÇ®ÂèØ‰ª•Â∞ÜÂ§ö‰∏™Á®ãÂ∫èÁªÑÂêàÂú®‰∏ÄËµ∑„ÄÇÈÄöÂ∏∏ËøôÊ†∑ÂÅöÊòØ‰∏∫‰∫ÜÁºñÂÜôËÑöÊú¨Ôºå‰ΩÜÂÆÉ‰πüÂèØ‰ª•Â∏ÆÂä©‰∫∫Á±ª‰ΩøÁî®Á®ãÂ∫èÁöÑÂèØÁî®ÊÄß„ÄÇ‰æãÂ¶ÇÔºåÁî®Êà∑Â∫îËØ•ËÉΩÂ∞ÜËæìÂá∫ÁÆ°ÈÅìÂà∞`grep`Âπ∂‰∏îÂÆÉÂ∫îËØ•ÊåâÁÖß‰ªñ‰ª¨ÁöÑÊúüÊúõÂ∑•‰Ωú„ÄÇ'
- en: ‚ÄúExpect the output of every program to become the input to another, as yet unknown,
    program.‚Äù ‚Äî [Doug McIlroy](https://homepage.cs.uri.edu/~thenry/resources/unix_art/ch01s06.html)
  id: totrans-155
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: ‚ÄúÈ¢ÑËÆ°ÊØè‰∏™Á®ãÂ∫èÁöÑËæìÂá∫ÈÉΩ‰ºöÊàê‰∏∫Âè¶‰∏Ä‰∏™Â∞öÊú™Áü•ÁöÑÁ®ãÂ∫èÁöÑËæìÂÖ•„ÄÇ‚Äù ‚Äî [Doug McIlroy](https://homepage.cs.uri.edu/~thenry/resources/unix_art/ch01s06.html)
- en: '**If human-readable output breaks machine-readable output, use `--plain` to
    display output in plain, tabular text format for integration with tools like `grep`
    or `awk`.** In some cases, you might need to output information in a different
    way to make it human-readable.'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûú‰∫∫Á±ªÂèØËØªÁöÑËæìÂá∫Á†¥Âùè‰∫ÜÊú∫Âô®ÂèØËØªÁöÑËæìÂá∫ÔºåËØ∑‰ΩøÁî® `--plain` ‰ª•Á∫ØÊñáÊú¨Ê†ºÂºèÊòæÁ§∫ËæìÂá∫Ôºå‰ª•‰æø‰∏é `grep` Êàñ `awk` Á≠âÂ∑•ÂÖ∑ÈõÜÊàê„ÄÇ**
    Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåÊÇ®ÂèØËÉΩÈúÄË¶Å‰ª•‰∏çÂêåÁöÑÊñπÂºèËæìÂá∫‰ø°ÊÅØ‰ª•‰ΩøÂÖ∂‰∫∫Á±ªÂèØËØª„ÄÇ'
- en: For example, if you are displaying a line-based table, you might choose to split
    a cell into multiple lines, fitting in more information while keeping it within
    the width of the screen. This breaks the expected behavior of there being one
    piece of data per line, so you should provide a `--plain` flag for scripts, which
    disables all such manipulation and outputs one record per line.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÊÇ®Ê≠£Âú®ÊòæÁ§∫Âü∫‰∫éË°åÁöÑË°®Ê†ºÔºåÊÇ®ÂèØËÉΩ‰ºöÈÄâÊã©Â∞ÜÂçïÂÖÉÊ†ºÊãÜÂàÜÊàêÂ§öË°åÔºå‰ª•‰æøÂú®‰øùÊåÅÂ±èÂπïÂÆΩÂ∫¶ÁöÑÂêåÊó∂ÂÆπÁ∫≥Êõ¥Â§ö‰ø°ÊÅØ„ÄÇËøôÂ∞ÜÊâìÁ†¥È¢ÑÊúüÁöÑË°å‰∏∫ÔºåÂç≥ÊØèË°åÂè™Êúâ‰∏Ä‰∏™Êï∞ÊçÆÁâáÊÆµÔºåÂõ†Ê≠§ÊÇ®Â∫îËØ•‰∏∫ËÑöÊú¨Êèê‰æõ`--plain`Ê†áÂøóÔºåÁ¶ÅÁî®ÊâÄÊúâËøôÊ†∑ÁöÑÊìç‰ΩúÔºåÂπ∂ÊØèË°åËæìÂá∫‰∏ÄÊù°ËÆ∞ÂΩï„ÄÇ
- en: '**Display output as formatted JSON if `--json` is passed.** JSON allows for
    more structure than plain text, so it makes it much easier to output and handle
    complex data structures. [`jq`](https://stedolan.github.io/jq/) is a common tool
    for working with JSON on the command-line, and there is now a [whole ecosystem
    of tools](https://ilya-sher.org/2018/04/10/list-of-json-tools-for-command-line/)
    that output and manipulate JSON.'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûú‰º†ÈÄí‰∫Ü `--json`ÔºåÂàôÊòæÁ§∫Ê†ºÂºèÂåñÁöÑ JSON ËæìÂá∫„ÄÇ** JSON ÂÖÅËÆ∏ÊØîÁ∫ØÊñáÊú¨Êõ¥ÁªìÊûÑÂåñÔºåÂõ†Ê≠§Êõ¥ÂÆπÊòìËæìÂá∫ÂíåÂ§ÑÁêÜÂ§çÊùÇÊï∞ÊçÆÁªìÊûÑ„ÄÇ[`jq`](https://stedolan.github.io/jq/)
    ÊòØÂú®ÂëΩ‰ª§Ë°å‰∏≠Â§ÑÁêÜ JSON ÁöÑÂ∏∏ËßÅÂ∑•ÂÖ∑ÔºåÁé∞Âú®Êúâ‰∏Ä‰∏™ [ÂÆåÊï¥ÁöÑÂ∑•ÂÖ∑ÁîüÊÄÅÁ≥ªÁªü](https://ilya-sher.org/2018/04/10/list-of-json-tools-for-command-line/)ÔºåÁî®‰∫éËæìÂá∫ÂíåÊìç‰Ωú
    JSON„ÄÇ'
- en: It is also widely used on the web, so by using JSON as the input and output
    of programs, you can pipe directly to and from web services using `curl`.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: ÂÆÉ‰πüË¢´ÂπøÊ≥õÁî®‰∫é WebÔºåÊâÄ‰ª•ÈÄöËøá‰ΩøÁî® JSON ‰Ωú‰∏∫Á®ãÂ∫èÁöÑËæìÂÖ•ÂíåËæìÂá∫ÔºåÊÇ®ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®`curl`Êù•ÈÄöËøáÁÆ°ÈÅì‰∏é Web ÊúçÂä°ËøõË°å‰∫§‰∫í„ÄÇ
- en: '**Display output on success, but keep it brief.** Traditionally, when nothing
    is wrong, UNIX commands display no output to the user. This makes sense when they‚Äôre
    being used in scripts, but can make commands appear to be hanging or broken when
    used by humans. For example, `cp` will not print anything, even if it takes a
    long time.'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÊàêÂäüÊó∂ÊòæÁ§∫ËæìÂá∫Ôºå‰ΩÜ‰øùÊåÅÁÆÄÊ¥Å„ÄÇ** ‰º†Áªü‰∏äÔºåÂΩìÊ≤°ÊúâÈóÆÈ¢òÊó∂ÔºåUNIX ÂëΩ‰ª§‰∏ç‰ºöÂêëÁî®Êà∑ÊòæÁ§∫‰ªª‰ΩïËæìÂá∫„ÄÇËøôÂú®ËÑöÊú¨‰∏≠‰ΩøÁî®Êó∂ÊòØÊúâÈÅìÁêÜÁöÑÔºå‰ΩÜÂΩì‰∫∫Á±ª‰ΩøÁî®Êó∂ÔºåËøôÂèØËÉΩ‰ΩøÂëΩ‰ª§ÁúãËµ∑Êù•‰ºº‰πéË¢´ÊÇ¨ÊåÇÊàñÊçüÂùè„ÄÇ‰æãÂ¶ÇÔºåÂç≥‰Ωø`cp`Ëä±Ë¥πÂæàÈïøÊó∂Èó¥Ôºå‰πü‰∏ç‰ºöÊâìÂç∞‰ªª‰Ωï‰∏úË•ø„ÄÇ'
- en: It‚Äôs rare that printing nothing at all is the best default behavior, but it‚Äôs
    usually best to err on the side of less.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: ÂæàÂ∞ëÂá∫Áé∞ÊâìÂç∞‰ªÄ‰πàÈÉΩ‰∏çÊòØÊúÄ‰Ω≥ÁöÑÈªòËÆ§Ë°å‰∏∫Ôºå‰ΩÜÈÄöÂ∏∏ÊúÄÂ•ΩÂáèÂ∞ëËæìÂá∫„ÄÇ
- en: For instances where you do want no output (for example, when used in shell scripts),
    to avoid clumsy redirection of `stderr` to `/dev/null`, you can provide a `-q`
    option to suppress all non-essential output.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: ÂØπ‰∫éÈÇ£‰∫õÈúÄË¶ÅÊ≤°Êúâ‰ªª‰ΩïËæìÂá∫ÁöÑÊÉÖÂÜµÔºà‰æãÂ¶ÇÂú® shell ËÑöÊú¨‰∏≠‰ΩøÁî®Êó∂ÔºâÔºåË¶ÅÈÅøÂÖçÁ¨®ÊãôÂú∞Â∞Ü`stderr`ÈáçÂÆöÂêëÂà∞`/dev/null`ÔºåÊÇ®ÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™`-q`ÈÄâÈ°πÊù•ÊäëÂà∂ÊâÄÊúâÈùûÂøÖË¶ÅÁöÑËæìÂá∫„ÄÇ
- en: '**If you change state, tell the user.** When a command changes the state of
    a system, it‚Äôs especially valuable to explain what has just happened, so the user
    can model the state of the system in their head‚Äîparticularly if the result doesn‚Äôt
    directly map to what the user requested.'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÊõ¥ÊîπÁä∂ÊÄÅÔºåËØ∑ÂëäÁü•Áî®Êà∑„ÄÇ** ÂΩìÂëΩ‰ª§Êõ¥ÊîπÁ≥ªÁªüÁöÑÁä∂ÊÄÅÊó∂ÔºåËß£ÈáäÂàöÂèëÁîüÁöÑ‰∫ãÊÉÖÊòØÁâπÂà´Êúâ‰ª∑ÂÄºÁöÑÔºåËøôÊ†∑Áî®Êà∑ÂèØ‰ª•Âú®Â§¥ËÑë‰∏≠Ê®°ÊãüÁ≥ªÁªüÁöÑÁä∂ÊÄÅÔºåÁâπÂà´ÊòØÂ¶ÇÊûúÁªìÊûú‰∏éÁî®Êà∑ËØ∑Ê±ÇÁöÑÂÜÖÂÆπÊ≤°ÊúâÁõ¥Êé•ÂØπÂ∫î„ÄÇ'
- en: 'For example, `git push` tells you exactly what it is doing, and what the new
    state of the remote branch is:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: ‰æãÂ¶ÇÔºå`git push` ‰ºöÂáÜÁ°ÆÂëäËØâÊÇ®ÂÆÉÊ≠£Âú®ÂÅö‰ªÄ‰πàÔºå‰ª•ÂèäËøúÁ®ãÂàÜÊîØÁöÑÊñ∞Áä∂ÊÄÅÊòØ‰ªÄ‰πàÔºö
- en: '[PRE7]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '**Make it easy to see the current state of the system.** If your program does
    a lot of complex state changes and it is not immediately visible in the filesystem,
    make sure you make this easy to view.'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰ΩøÂΩìÂâçÁ≥ªÁªüÁä∂ÊÄÅÊòì‰∫éÊü•Áúã„ÄÇ** Â¶ÇÊûúÊÇ®ÁöÑÁ®ãÂ∫èËøõË°å‰∫ÜÂ§ßÈáèÂ§çÊùÇÁöÑÁä∂ÊÄÅÊõ¥ÊîπÔºå‰∏îÂú®Êñá‰ª∂Á≥ªÁªü‰∏≠‰∏çÁ´ãÂç≥ÂèØËßÅÔºåËØ∑Á°Æ‰øùËΩªÊùæÊü•ÁúãËøô‰∏ÄÁÇπ„ÄÇ'
- en: 'For example, `git status` tells you as much information as possible about the
    current state of your Git repository, and some hints at how to modify the state:'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: ‰æãÂ¶ÇÔºå`git status` Â∞ÜÂêëÊÇ®Êèê‰æõÊúâÂÖ≥ Git Â≠òÂÇ®Â∫ìÂΩìÂâçÁä∂ÊÄÅÁöÑÂ∞ΩÂèØËÉΩÂ§öÁöÑ‰ø°ÊÅØÔºåÂπ∂Êèê‰æõ‰∏Ä‰∫õÂª∫ËÆÆÔºåÁî®‰∫é‰øÆÊîπÁä∂ÊÄÅÔºö
- en: '[PRE8]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '**Suggest commands the user should run.** When several commands form a workflow,
    suggesting to the user commands they can run next helps them learn how to use
    your program and discover new functionality. For example, in the `git status`
    output above, it suggests commands you can run to modify the state you are viewing.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âª∫ËÆÆÁî®Êà∑ÈúÄË¶ÅËøêË°åÂì™‰∫õÂëΩ‰ª§„ÄÇ** ÂΩìÂ§ö‰∏™ÂëΩ‰ª§ÊûÑÊàêÂ∑•‰ΩúÊµÅÊó∂ÔºåÂª∫ËÆÆÁî®Êà∑ÂèØ‰ª•ËøêË°å‰∏ã‰∏ÄÊ≠•ÁöÑÂëΩ‰ª§ÔºåÊúâÂä©‰∫é‰ªñ‰ª¨Â≠¶‰π†Â¶Ç‰Ωï‰ΩøÁî®‰Ω†ÁöÑÁ®ãÂ∫èÔºåÂπ∂ÂèëÁé∞Êñ∞ÂäüËÉΩ„ÄÇ‰æãÂ¶ÇÔºåÂú®‰∏äÈù¢ÁöÑ`git
    status`ËæìÂá∫‰∏≠ÔºåÂÆÉÂª∫ËÆÆ‰Ω†ÂèØ‰ª•ËøêË°åÁöÑÂëΩ‰ª§Êù•‰øÆÊîπ‰Ω†Ê≠£Âú®Êü•ÁúãÁöÑÁä∂ÊÄÅ„ÄÇ'
- en: '**Actions crossing the boundary of the program‚Äôs internal world should usually
    be explicit.** This includes things like:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '**Á®ãÂ∫èÂÜÖÈÉ®‰∏ñÁïåËæπÁïå‰∏äÁöÑÊìç‰ΩúÈÄöÂ∏∏Â∫îËØ•ÊòØÊòéÁ°ÆÁöÑ„ÄÇ** Ëøô‰∫õÂÜÖÂÆπÂåÖÊã¨Ôºö'
- en: Reading or writing files that the user didn‚Äôt explicitly pass as arguments (unless
    those files are storing internal program state, such as a cache).
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ËØªÂèñÊàñÂÜôÂÖ•Áî®Êà∑Êú™ÊòéÁ°Æ‰º†ÈÄíÁöÑÊñá‰ª∂ÔºàÈô§ÈùûËøô‰∫õÊñá‰ª∂Â≠òÂÇ®‰∫ÜÂÜÖÈÉ®Á®ãÂ∫èÁä∂ÊÄÅÔºåÂ¶ÇÁºìÂ≠òÔºâ„ÄÇ
- en: Talking to a remote server, e.g. to download a file.
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‰∏éËøúÁ®ãÊúçÂä°Âô®ÈÄö‰ø°Ôºå‰æãÂ¶Ç‰∏ãËΩΩÊñá‰ª∂„ÄÇ
- en: '**Increase information density‚Äîwith ASCII art!** For example, `ls` shows permissions
    in a scannable way. When you first see it, you can ignore most of the information.
    Then, as you learn how it works, you pick out more patterns over time.'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÊèêÈ´ò‰ø°ÊÅØÂØÜÂ∫¶‚Äî‚Äî‰ΩøÁî® ASCII Ëâ∫ÊúØÔºÅ** ‰æãÂ¶ÇÔºå`ls`‰ª•‰∏ÄÁßçÊòì‰∫éÊâ´ÊèèÁöÑÊñπÂºèÊòæÁ§∫ÊùÉÈôê„ÄÇÂΩì‰Ω†Á¨¨‰∏ÄÊ¨°ÁúãÂà∞ÂÆÉÊó∂Ôºå‰Ω†ÂèØ‰ª•ÂøΩÁï•Â§ßÈÉ®ÂàÜ‰ø°ÊÅØ„ÄÇÁÑ∂ÂêéÔºåÈöèÁùÄ‰Ω†‰∫ÜËß£ÂÆÉÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºå‰Ω†‰ºöÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÂèëÁé∞Êõ¥Â§öÁöÑÊ®°Âºè„ÄÇ'
- en: '[PRE9]'
  id: totrans-174
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: '**Use color with intention.** For example, you might want to highlight some
    text so the user notices it, or use red to indicate an error. Don‚Äôt overuse it‚Äîif
    everything is a different color, then the color means nothing and only makes it
    harder to read.'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÊúâÊÑèËØÜÂú∞‰ΩøÁî®È¢úËâ≤„ÄÇ** ‰æãÂ¶ÇÔºå‰Ω†ÂèØËÉΩÊÉ≥Ë¶ÅÁ™ÅÂá∫‰∏Ä‰∫õÊñáÊú¨Ôºå‰ª•‰æøÁî®Êà∑Ê≥®ÊÑèÂà∞ÂÆÉÔºåÊàñËÄÖ‰ΩøÁî®Á∫¢Ëâ≤Êù•ÊåáÁ§∫ÈîôËØØ„ÄÇ‰∏çË¶ÅÊª•Áî® ‚Äî‚Äî Â¶ÇÊûú‰∏ÄÂàáÈÉΩÊòØ‰∏çÂêåÁöÑÈ¢úËâ≤ÔºåÈÇ£‰πàÈ¢úËâ≤Â∞±ÊØ´Êó†ÊÑè‰πâÔºåÂè™‰ºö‰ΩøÈòÖËØªÂèòÂæóÊõ¥Âõ∞Èöæ„ÄÇ'
- en: '**Disable color if your program is not in a terminal or the user requested
    it.** These things should disable colors:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûú‰Ω†ÁöÑÁ®ãÂ∫è‰∏çÂú®ÁªàÁ´Ø‰∏≠ÊàñËÄÖÁî®Êà∑Ë¶ÅÊ±ÇÁ¶ÅÁî®È¢úËâ≤ÔºåËØ∑Á¶ÅÁî®È¢úËâ≤„ÄÇ** Ëøô‰∫õ‰∫ãÊÉÖÂ∫îËØ•Á¶ÅÁî®È¢úËâ≤Ôºö'
- en: '`stdout` or `stderr` is not an interactive terminal (a TTY). It‚Äôs best to individually
    check‚Äîif you‚Äôre piping `stdout` to another program, it‚Äôs still useful to get colors
    on `stderr`.'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`stdout`Êàñ`stderr`‰∏çÊòØ‰∫§‰∫íÂºèÁªàÁ´ØÔºàTTYÔºâ„ÄÇÊúÄÂ•ΩÊòØÈÄê‰∏™Ê£ÄÊü•‚Äî‚ÄîÂ¶ÇÊûú‰Ω†Ê≠£Âú®Â∞Ü`stdout`‰º†ÈÄíÁªôÂè¶‰∏Ä‰∏™Á®ãÂ∫èÔºåÈÇ£‰πàÂú®`stderr`‰∏äËé∑ÂæóÈ¢úËâ≤‰ªçÁÑ∂ÊòØÊúâÁî®ÁöÑ„ÄÇ'
- en: The `NO_COLOR` environment variable is set.
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ËÆæÁΩÆ‰∫Ü`NO_COLOR`ÁéØÂ¢ÉÂèòÈáè„ÄÇ
- en: The `TERM` environment variable has the value `dumb`.
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`TERM`ÁéØÂ¢ÉÂèòÈáèÁöÑÂÄº‰∏∫`dumb`„ÄÇ'
- en: The user passes the option `--no-color`.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Áî®Êà∑‰º†ÈÄí‰∫ÜÈÄâÈ°π`--no-color`„ÄÇ
- en: You may also want to add a `MYAPP_NO_COLOR` environment variable in case users
    want to disable color specifically for your program.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Áî®Êà∑ËøòÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™`MYAPP_NO_COLOR`ÁéØÂ¢ÉÂèòÈáèÔºå‰ª•‰æøÁî®Êà∑ÂèØ‰ª•‰∏ìÈó®Á¶ÅÁî®‰Ω†ÁöÑÁ®ãÂ∫èÁöÑÈ¢úËâ≤„ÄÇ
- en: '*Further reading: [no-color.org](https://no-color.org/), [12 Factor CLI Apps](https://medium.com/@jdxcode/12-factor-cli-apps-dd3c227a0e46)*'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: '*Ëøõ‰∏ÄÊ≠•ÈòÖËØªÔºö[no-color.org](https://no-color.org/)Ôºå[12 Âõ†Á¥† CLI Â∫îÁî®](https://medium.com/@jdxcode/12-factor-cli-apps-dd3c227a0e46)*'
- en: '**If `stdout` is not an interactive terminal, don‚Äôt display any animations.**
    This will stop progress bars turning into Christmas trees in CI log output.'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûú`stdout`‰∏çÊòØ‰∫§‰∫íÂºèÁªàÁ´ØÔºåËØ∑‰∏çË¶ÅÊòæÁ§∫‰ªª‰ΩïÂä®Áîª„ÄÇ** ËøôÊ†∑ÂèØ‰ª•Èò≤Ê≠¢ËøõÂ∫¶Êù°Âú® CI Êó•ÂøóËæìÂá∫‰∏≠ÂèòÊàêÂú£ËØûÊ†ë„ÄÇ'
- en: '**Use symbols and emoji where it makes things clearer.** Pictures can be better
    than words if you need to make several things distinct, catch the user‚Äôs attention,
    or just add a bit of character. Be careful, though‚Äîit can be easy to overdo it
    and make your program look cluttered or feel like a toy.'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®‰Ωø‰∫ãÊÉÖÊõ¥Ê∏ÖÊô∞ÁöÑÂú∞Êñπ‰ΩøÁî®Á¨¶Âè∑ÂíåË°®ÊÉÖÁ¨¶Âè∑„ÄÇ** Â¶ÇÊûúÈúÄË¶Å‰ΩøÂá†‰ª∂‰∫ãÊÉÖÂèòÂæó‰∏çÂêå„ÄÅÊäì‰ΩèÁî®Êà∑ÁöÑÊ≥®ÊÑèÂäõÊàñËÄÖÂ¢ûÂä†‰∏Ä‰∫õ‰∏™ÊÄßÔºåÈÇ£‰πàÂõæÁâáÂèØËÉΩÊØîÊñáÂ≠óÊõ¥Â•Ω„ÄÇ‰∏çËøáË¶ÅÂ∞èÂøÉÔºåÂõ†‰∏∫ÂèØËÉΩÂæàÂÆπÊòìÂ∞±ËøáÁÅ´‰∫ÜÔºåËÆ©‰Ω†ÁöÑÁ®ãÂ∫èÁúãËµ∑Êù•ÊùÇ‰π±Êó†Á´†ÊàñËÄÖÊÑüËßâÂÉèÁé©ÂÖ∑‰∏ÄÊ†∑„ÄÇ'
- en: 'For example, [yubikey-agent](https://github.com/FiloSottile/yubikey-agent)
    uses emoji to add structure to the output so it isn‚Äôt just a wall of text, and
    a ‚ùå to draw your attention to an important piece of information:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: ‰æãÂ¶ÇÔºå[yubikey-agent](https://github.com/FiloSottile/yubikey-agent)‰ΩøÁî®Ë°®ÊÉÖÁ¨¶Âè∑Êù•‰∏∫ËæìÂá∫Ê∑ªÂä†ÁªìÊûÑÔºå‰ΩøÂÖ∂‰∏çÂÜçÊòØ‰∏ÄÂ†µÊñáÂ≠óÂ¢ôÔºåËøòÊúâ‰∏Ä‰∏™‚ùåÊù•Âê∏Âºï‰Ω†ÁöÑÊ≥®ÊÑèÂäõÔºåÊåáÂêë‰∏Ä‰∏™ÈáçË¶ÅÁöÑ‰ø°ÊÅØÔºö
- en: '[PRE10]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: '**By default, don‚Äôt output information that‚Äôs only understandable by the creators
    of the software.** If a piece of output serves only to help you (the developer)
    understand what your software is doing, it almost certainly shouldn‚Äôt be displayed
    to normal users by default‚Äîonly in verbose mode.'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰∏çË¶ÅËæìÂá∫Âè™ÊúâËΩØ‰ª∂ÂàõÂª∫ËÄÖËÉΩÁêÜËß£ÁöÑ‰ø°ÊÅØ„ÄÇ** Â¶ÇÊûú‰∏ÄÈÉ®ÂàÜËæìÂá∫Âè™‰∏∫‰∫ÜÂ∏ÆÂä©‰Ω†ÔºàÂºÄÂèëËÄÖÔºâÁêÜËß£‰Ω†ÁöÑËΩØ‰ª∂Âú®ÂÅö‰ªÄ‰πàÔºåÈÇ£‰πàÂÆÉÂá†‰πéËÇØÂÆö‰∏çÂ∫îËØ•ÈªòËÆ§ÊòæÁ§∫ÁªôÊôÆÈÄöÁî®Êà∑‚Äî‚ÄîÂè™Â∫îÂú®ËØ¶ÁªÜÊ®°Âºè‰∏ãÊòæÁ§∫„ÄÇ'
- en: Invite usability feedback from outsiders and people who are new to your project.
    They‚Äôll help you see important issues that you are too close to the code to notice.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: ËØ∑ÈÇÄËØ∑Â§ñÈÉ®‰∫∫ÂíåÂØπ‰Ω†ÁöÑÈ°πÁõÆ‰∏çÁÜüÊÇâÁöÑ‰∫∫ÁªôÂá∫ÂèØÁî®ÊÄßÂèçÈ¶à„ÄÇ‰ªñ‰ª¨‰ºöÂ∏ÆÂä©‰Ω†ÂèëÁé∞‰Ω†Â§™Èù†Ëøë‰ª£Á†ÅËÄåÂøΩÁï•‰∫ÜÁöÑÈáçË¶ÅÈóÆÈ¢ò„ÄÇ
- en: '**Don‚Äôt treat `stderr` like a log file, at least not by default.** Don‚Äôt print
    log level labels (`ERR`, `WARN`, etc.) or extraneous contextual information, unless
    in verbose mode.'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏çË¶ÅÂ∞Ü`stderr`ÂΩì‰ΩúÊó•ÂøóÊñá‰ª∂ÔºåËá≥Â∞ë‰∏çÊòØÈªòËÆ§ÊÉÖÂÜµ‰∏ã„ÄÇ** ‰∏çË¶ÅÊâìÂç∞Êó•ÂøóÁ∫ßÂà´Ê†áÁ≠æÔºà`ERR`„ÄÅ`WARN`Á≠âÔºâÊàñËÄÖÂ§ö‰ΩôÁöÑ‰∏ä‰∏ãÊñá‰ø°ÊÅØÔºåÈô§ÈùûÂ§Ñ‰∫éËØ¶ÁªÜÊ®°Âºè„ÄÇ'
- en: '**Use a pager (e.g. `less`) if you are outputting a lot of text.** For example,
    `git diff` does this by default. Using a pager can be error-prone, so be careful
    with your implementation such that you don‚Äôt make the experience worse for the
    user. You shouldn‚Äôt use a pager if `stdin` or `stdout` is not an interactive terminal.'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúËæìÂá∫‰∫ÜÂ§ßÈáèÊñáÊú¨Ôºå‰ΩøÁî®ÂàÜÈ°µÂô®Ôºà‰æãÂ¶Ç`less`Ôºâ„ÄÇ** ‰æãÂ¶ÇÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ã`git diff`Â∞±‰ºöËøôÊ†∑ÂÅö„ÄÇ‰ΩøÁî®ÂàÜÈ°µÂô®ÂèØËÉΩ‰ºöÂá∫Áé∞ÈîôËØØÔºåÊâÄ‰ª•Ë¶ÅÂ∞èÂøÉ‰Ω†ÁöÑÂÆûÁé∞Ôºå‰ª•ÂÖçËÆ©Áî®Êà∑‰ΩìÈ™åÂèòÂæóÊõ¥Á≥ü„ÄÇÂ¶ÇÊûú`stdin`Êàñ`stdout`‰∏çÊòØ‰∫§‰∫íÂºèÁªàÁ´ØÔºåÂ∞±‰∏çÂ∫îËØ•‰ΩøÁî®ÂàÜÈ°µÂô®„ÄÇ'
- en: A good sensible set of options to use for `less` is `less -FIRX`. This does
    not page if the content fills one screen, ignores case when you search, enables
    color and formatting, and leaves the contents on the screen when `less` quits.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: ‰∏Ä‰∏™ÂæàÊòéÊô∫ÁöÑ`less`ÈÄâÈ°πËÆæÁΩÆÊòØ`less -FIRX`„ÄÇÂ¶ÇÊûúÂÜÖÂÆπÂ°´Êª°‰∏Ä‰∏™Â±èÂπïÔºåÂÆÉ‰∏ç‰ºöÂàÜÈ°µÔºõÂú®ÊêúÁ¥¢Êó∂ÂøΩÁï•Â§ßÂ∞èÂÜôÔºåÂêØÁî®È¢úËâ≤ÂíåÊ†ºÂºèÔºå‰ª•ÂèäÂΩì`less`ÈÄÄÂá∫Êó∂‰øùÁïôÂÜÖÂÆπ„ÄÇ
- en: There might be libraries in your language that are more robust than piping to
    `less`. For example, [pypager](https://github.com/prompt-toolkit/pypager) in Python.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: ‰Ω†ÁöÑËØ≠Ë®Ä‰∏≠ÂèØËÉΩÊúâÊØî‰º†ËæìÂà∞`less`Êõ¥Âº∫Â§ßÁöÑÂ∫ì„ÄÇ‰æãÂ¶ÇÔºåPython ‰∏≠ÁöÑ[pypager](https://github.com/prompt-toolkit/pypager)„ÄÇ
- en: Errors
  id: totrans-193
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÈîôËØØ
- en: One of the most common reasons to consult documentation is to fix errors. If
    you can make errors into documentation, then this will save the user loads of
    time.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: ‰∏ÄÊù°ÊúÄÂ∏∏ËßÅÁöÑÂèÇËÄÉÊñáÊ°£ÁöÑÂéüÂõ†ÊòØ‰øÆÂ§çÈîôËØØ„ÄÇÂ¶ÇÊûú‰Ω†ËÉΩÂ∞ÜÈîôËØØÂèòÊàêÊñáÊ°£ÔºåÈÇ£‰πàËøôÂ∞Ü‰∏∫Áî®Êà∑ËäÇÁúÅÂ§ßÈáèÊó∂Èó¥„ÄÇ
- en: '**Catch errors and rewrite them for humans.** If you‚Äôre expecting an error
    to happen, catch it and rewrite the error message to be useful. Think of it like
    a conversation, where the user has done something wrong and the program is guiding
    them in the right direction. Example: ‚ÄúCan‚Äôt write to file.txt. You might need
    to make it writable by running ‚Äòchmod +w file.txt‚Äô.‚Äù'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÊçïËé∑ÈîôËØØÂπ∂ÂØπ‰∫∫Á±ªËøõË°åÈáçÊñ∞ÁºñÂÜô„ÄÇ** Â¶ÇÊûú‰Ω†È¢ÑÊúü‰ºöÂá∫Áé∞ÈîôËØØÔºåÂ∞±ÊçïËé∑ÂÆÉÂπ∂Â∞ÜÈîôËØØÊ∂àÊÅØÈáçÊñ∞ÁºñÂÜô‰∏∫ÊúâÁî®ÁöÑÂÜÖÂÆπ„ÄÇÊääÂÆÉÁúã‰Ωú‰∏ÄÂú∫ÂØπËØùÔºåÁî®Êà∑ÂÅöÈîô‰∫Ü‰∏Ä‰∫õ‰∫ãÊÉÖÔºåÁ®ãÂ∫èÂú®ÂºïÂØº‰ªñ‰ª¨Ëµ∞ÂêëÊ≠£Á°ÆÁöÑÊñπÂêë„ÄÇ‰æãÂ¶ÇÔºö‚ÄúÊó†Ê≥ïÂÜôÂÖ•
    file.txt„ÄÇÊÇ®ÂèØËÉΩÈúÄË¶ÅÈÄöËøáËøêË°å''chmod +w file.txt''‰ΩøÂÖ∂ÂèØÂÜô‚Äù„ÄÇ'
- en: '**Signal-to-noise ratio is crucial.** The more irrelevant output you produce,
    the longer it‚Äôs going to take the user to figure out what they did wrong. If your
    program produces multiple errors of the same type, consider grouping them under
    a single explanatory header instead of printing many similar-looking lines.'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰ø°Âô™ÊØîËá≥ÂÖ≥ÈáçË¶Å„ÄÇ** ‰Ω†‰∫ßÁîüÁöÑÊó†ÂÖ≥Á¥ßË¶ÅÁöÑËæìÂá∫Ë∂äÂ§öÔºåÁî®Êà∑ÂºÑÊ∏ÖÊ•öËá™Â∑±ÂÅöÈîô‰∫Ü‰ªÄ‰πàÂ∞±‰ºöËä±Ë¥πÊõ¥ÈïøÁöÑÊó∂Èó¥„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÁ®ãÂ∫è‰∫ßÁîü‰∫ÜÂ§ö‰∏™Áõ∏ÂêåÁ±ªÂûãÁöÑÈîôËØØÔºåËØ∑ËÄÉËôëÂ∞ÜÂÆÉ‰ª¨ÂàÜÁªÑÂú®‰∏Ä‰∏™Ëß£ÈáäÊÄßÁöÑÊ†áÈ¢ò‰∏ãÔºåËÄå‰∏çÊòØÊâìÂç∞ËÆ∏Â§öÁúãËµ∑Êù•Áõ∏‰ººÁöÑË°å„ÄÇ'
- en: '**Consider where the user will look first.** Put the most important information
    at the end of the output. The eye will be drawn to red text, so use it intentionally
    and sparingly.'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: '**ËÄÉËôëÁî®Êà∑È¶ñÂÖà‰ºöÂú®Âì™ÈáåÊü•Êâæ„ÄÇ** Â∞ÜÊúÄÈáçË¶ÅÁöÑ‰ø°ÊÅØÊîæÂú®ËæìÂá∫ÁöÑÊú´Â∞æ„ÄÇÁúºÁùõ‰ºöË¢´Á∫¢Ëâ≤ÊñáÊú¨Âê∏ÂºïÔºåÊâÄ‰ª•Ë¶ÅÊúâÊÑèËØÜÂú∞ÈÄÇÂ∫¶‰ΩøÁî®ÂÆÉ„ÄÇ'
- en: '**If there is an unexpected or unexplainable error, provide debug and traceback
    information, and instructions on how to submit a bug.** That said, don‚Äôt forget
    about the signal-to-noise ratio: you don‚Äôt want to overwhelm the user with information
    they don‚Äôt understand. Consider writing the debug log to a file instead of printing
    it to the terminal.'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÂá∫Áé∞ÊÑèÂ§ñÊàñÊó†Ê≥ïËß£ÈáäÁöÑÈîôËØØÔºåËØ∑Êèê‰æõË∞ÉËØïÂíåË∑üË∏™‰ø°ÊÅØÔºåÂπ∂ËØ¥ÊòéÂ¶Ç‰ΩïÊèê‰∫§ÈîôËØØ„ÄÇ** ‰πü‰∏çË¶ÅÂøòËÆ∞‰ø°Âô™ÊØîÔºö‰Ω†‰∏çÊÉ≥Áî®Áî®Êà∑‰∏çÁêÜËß£ÁöÑ‰ø°ÊÅØÂéãÂÄí‰ªñ‰ª¨„ÄÇËÄÉËôëÂ∞ÜË∞ÉËØïÊó•ÂøóÂÜôÂÖ•Êñá‰ª∂ÔºåËÄå‰∏çÊòØÊâìÂç∞Âà∞ÁªàÁ´Ø‰∏ä„ÄÇ'
- en: '**Make it effortless to submit bug reports.** One nice thing you can do is
    provide a URL and have it pre-populate as much information as possible.'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '**ËÆ©Êèê‰∫§ÈîôËØØÊä•ÂëäÂèòÂæóËΩªËÄåÊòì‰∏æ„ÄÇ** ‰Ω†ÂèØ‰ª•ÂÅöÁöÑ‰∏Ä‰ª∂Â•Ω‰∫ãÂ∞±ÊòØÊèê‰æõ‰∏Ä‰∏™ URLÔºåÂπ∂Â∞ΩÂèØËÉΩÂ§öÂú∞Â°´ÂÖÖ‰ø°ÊÅØ„ÄÇ'
- en: '*Further reading: [Google: Writing Helpful Error Messages](https://developers.google.com/tech-writing/error-messages),
    [Nielsen Norman Group: Error-Message Guidelines](https://www.nngroup.com/articles/error-message-guidelines)*'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '*Êõ¥Â§öÈòÖËØªÔºö[GoogleÔºöÁºñÂÜôÊúâÁî®ÁöÑÈîôËØØÊ∂àÊÅØ](https://developers.google.com/tech-writing/error-messages)Ôºå[Â∞ºÂ∞îÊ£ÆËØ∫ÊõºÈõÜÂõ¢ÔºöÈîôËØØÊ∂àÊÅØÊåáÂçó](https://www.nngroup.com/articles/error-message-guidelines)*'
- en: Arguments and flags
  id: totrans-201
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÂèÇÊï∞ÂíåÊ†áÂøó
- en: 'A note on terminology:'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: ÂÖ≥‰∫éÊúØËØ≠ÁöÑËØ¥ÊòéÔºö
- en: '*Arguments*, or *args*, are positional parameters to a command. For example,
    the file paths you provide to `cp` are args. The order of args is often important:
    `cp foo bar` means something different from `cp bar foo`.'
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*ÂèÇÊï∞*Êàñ*args*ÊòØÂëΩ‰ª§ÁöÑ‰ΩçÁΩÆÂèÇÊï∞„ÄÇ‰æãÂ¶ÇÔºå‰Ω†Êèê‰æõÁªô`cp`ÁöÑÊñá‰ª∂Ë∑ØÂæÑÂ∞±ÊòØÂèÇÊï∞„ÄÇÂèÇÊï∞ÁöÑÈ°∫Â∫èÈÄöÂ∏∏ÂæàÈáçË¶ÅÔºö`cp foo bar`Âíå`cp bar foo`ÁöÑÊÑè‰πâÊòØ‰∏çÂêåÁöÑ„ÄÇ'
- en: '*Flags* are named parameters, denoted with either a hyphen and a single-letter
    name (`-r`) or a double hyphen and a multiple-letter name (`--recursive`). They
    may or may not also include a user-specified value (`--file foo.txt`, or `--file=foo.txt`).
    The order of flags, generally speaking, does not affect program semantics.'
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*Ê†áÂøó*ÊòØÂëΩÂêçÂèÇÊï∞ÔºåÁî®ËøûÂ≠óÁ¨¶ÂíåÂçïÂ≠óÊØçÂêçÁß∞Ôºà`-r`ÔºâÊàñÂèåËøûÂ≠óÁ¨¶ÂíåÂ§öÂ≠óÊØçÂêçÁß∞Ôºà`--recursive`ÔºâË°®Á§∫„ÄÇÂÆÉ‰ª¨ÂèØËÉΩ‰πüÂèØËÉΩ‰∏çÂåÖÊã¨Áî®Êà∑ÊåáÂÆöÁöÑÂÄºÔºà`--file
    foo.txt`Êàñ`--file=foo.txt`Ôºâ„ÄÇÊÄªÁöÑÊù•ËØ¥ÔºåÊ†áÂøóÁöÑÈ°∫Â∫è‰∏ç‰ºöÂΩ±ÂìçÁ®ãÂ∫èÁöÑËØ≠‰πâ„ÄÇ'
- en: '**Prefer flags to args.** It‚Äôs a bit more typing, but it makes it much clearer
    what is going on. It also makes it easier to make changes to how you accept input
    in the future. Sometimes when using args, it‚Äôs impossible to add new input without
    breaking existing behavior or creating ambiguity.'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰ºòÂÖà‰ΩøÁî®Ê†áÂøóËÄå‰∏çÊòØÂèÇÊï∞„ÄÇ** ËøôÊ†∑ÊâìÂ≠óÂèØËÉΩ‰ºöÂ§ö‰∏ÄÁÇπÔºå‰ΩÜËøôÊ†∑‰ºöËÆ©ÊÉÖÂÜµÂèòÂæóÊõ¥Âä†Ê∏ÖÊô∞„ÄÇËøô‰πüËÆ©Êú™Êù•ÂØπËæìÂÖ•ÊñπÂºèÁöÑÊõ¥ÊîπÂèòÂæóÊõ¥ÂÆπÊòì„ÄÇÊúâÊó∂‰ΩøÁî®ÂèÇÊï∞Êó∂ÔºåË¶ÅÊ∑ªÂä†Êñ∞ÁöÑËæìÂÖ•ËÄå‰∏çÁ†¥ÂùèÁé∞ÊúâË°å‰∏∫Êàñ‰∫ßÁîüÊ≠ß‰πâÊòØ‰∏çÂèØËÉΩÁöÑ„ÄÇ'
- en: '*Citation: [12 Factor CLI Apps](https://medium.com/@jdxcode/12-factor-cli-apps-dd3c227a0e46).*'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '*ÂºïÁî®Ôºö[12 ‰∏™Âõ†Á¥† CLI Â∫îÁî®](https://medium.com/@jdxcode/12-factor-cli-apps-dd3c227a0e46)*'
- en: '**Have full-length versions of all flags.** For example, have both `-h` and
    `--help`. Having the full version is useful in scripts where you want to be verbose
    and descriptive, and you don‚Äôt have to look up the meaning of flags everywhere.'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '**Êã•ÊúâÊâÄÊúâÊ†áÂøóÁöÑÂÆåÊï¥ÁâàÊú¨„ÄÇ** ‰æãÂ¶ÇÔºåÊó¢Êúâ`-h`‰πüÊúâ`--help`„ÄÇÂú®ÊÉ≥Ë¶ÅÂÜóÈïøÂíåÊèèËø∞ÊÄßÁöÑËÑöÊú¨‰∏≠ÔºåÊã•ÊúâÂÆåÊï¥ÁâàÊú¨ÊòØÈùûÂ∏∏ÊúâÁî®ÁöÑÔºåËøôÊ†∑‰Ω†Â∞±‰∏çÂøÖÂà∞Â§ÑÊü•ÊâæÊ†áÂøóÁöÑÊÑè‰πâ„ÄÇ'
- en: '*Citation: [GNU Coding Standards](https://www.gnu.org/prep/standards/html_node/Command_002dLine-Interfaces.html).*'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '*ÂºïÁî®Ôºö[GNU ÁºñÁ†ÅÊ†áÂáÜ](https://www.gnu.org/prep/standards/html_node/Command_002dLine-Interfaces.html)*'
- en: '**Only use one-letter flags for commonly used flags,** particularly at the
    top-level when using subcommands. That way you don‚Äôt ‚Äúpollute‚Äù your namespace
    of short flags, forcing you to use convoluted letters and cases for flags you
    add in the future.'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âè™‰ΩøÁî®‰∏Ä‰∏™Â≠óÊØçÁöÑÊ†áÂøóÊù•Ë°®Á§∫Â∏∏Áî®ÁöÑÊ†áÂøóÔºå** ÁâπÂà´ÊòØÂú®‰ΩøÁî®Â≠êÂëΩ‰ª§Êó∂ÁöÑÈ°∂Â±Ç„ÄÇËøôÊ†∑‰Ω†Â∞±‰∏ç‰ºö‚ÄúÊ±°Êüì‚Äù‰Ω†ÁöÑÁü≠Ê†áÂøóÂêçÁß∞Á©∫Èó¥ÔºåËø´‰Ωø‰Ω†Âú®Êú™Êù•Ê∑ªÂä†Ê†áÂøóÊó∂‰ΩøÁî®Â§çÊùÇÁöÑÂ≠óÊØçÂíåËßÑÂàô„ÄÇ'
- en: '**Multiple arguments are fine for simple actions against multiple files.**
    For example, `rm file1.txt file2.txt file3.txt`. This also makes it work with
    globbing: `rm *.txt`.'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÂØπÂ§ö‰∏™Êñá‰ª∂ÊâßË°åÁÆÄÂçïÊìç‰ΩúÊòØÂèØ‰ª•ÁöÑ„ÄÇ** ‰æãÂ¶ÇÔºå`rm file1.txt file2.txt file3.txt`„ÄÇËøô‰πü‰ΩøÂÆÉÈÄÇÁî®‰∫éÈÄöÈÖçÁ¨¶Ôºö`rm *.txt`„ÄÇ'
- en: '**If you‚Äôve got two or more arguments for different things, you‚Äôre probably
    doing something wrong.** The exception is a common, primary action, where the
    brevity is worth memorizing. For example, `cp <source> <destination>`.'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûú‰Ω†Êúâ‰∏§‰∏™ÊàñÊõ¥Â§öÁöÑÂèÇÊï∞Áî®‰∫é‰∏çÂêåÁöÑ‰∫ãÊÉÖÔºåÈÇ£‰πà‰Ω†ÂèØËÉΩÂú®ÂÅöÈîô‰ªÄ‰πà„ÄÇ** ‰æãÂ§ñÊòØ‰∏Ä‰∏™Â∏∏ËßÅÁöÑ‰∏ªË¶ÅÂä®‰ΩúÔºåÂÖ∂‰∏≠ÁÆÄÊ¥ÅÂÄºÂæóËÆ∞ÂøÜ„ÄÇ‰æãÂ¶ÇÔºå`cp <source> <destination>`„ÄÇ'
- en: '*Citation: [12 Factor CLI Apps](https://medium.com/@jdxcode/12-factor-cli-apps-dd3c227a0e46).*'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '*ÂºïÁî®Ôºö[12 ‰∏™Âõ†Á¥† CLI Â∫îÁî®](https://medium.com/@jdxcode/12-factor-cli-apps-dd3c227a0e46)*'
- en: '**Use standard names for flags, if there is a standard.** If another commonly
    used command uses a flag name, it‚Äôs best to follow that existing pattern. That
    way, a user doesn‚Äôt have to remember two different options (and which command
    it applies to), and users can even guess an option without having to look at the
    help text.'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÊúâÊ†áÂáÜÔºåËØ∑‰ΩøÁî®Ê†áÂáÜÂêçÁß∞ÁöÑÊ†áÂøó„ÄÇ**Â¶ÇÊûúÂè¶‰∏Ä‰∏™Â∏∏Áî®ÂëΩ‰ª§‰ΩøÁî®Ê†áÂøóÂêçÁß∞ÔºåÊúÄÂ•ΩÈÅµÂæ™Áé∞ÊúâÊ®°Âºè„ÄÇËøôÊ†∑ÔºåÁî®Êà∑‰∏çÂøÖËÆ∞‰Ωè‰∏§Áßç‰∏çÂêåÁöÑÈÄâÈ°πÔºà‰ª•ÂèäÂÆÉÈÄÇÁî®‰∫éÂì™‰∏™ÂëΩ‰ª§ÔºâÔºåÁîöËá≥ÂèØ‰ª•ÁåúÊµã‰∏Ä‰∏™ÈÄâÈ°πÔºåËÄå‰∏çÂøÖÊü•ÁúãÂ∏ÆÂä©ÊñáÊú¨„ÄÇ'
- en: 'Here‚Äôs a list of commonly used options:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: ËøôÈáåÊòØ‰∏Ä‰∫õÂ∏∏Áî®ÈÄâÈ°πÁöÑÂàóË°®Ôºö
- en: '`-a`, `--all`: All. For example, `ps`, `fetchmail`.'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-a`Ôºå`--all`ÔºöÂÖ®ÈÉ®„ÄÇ‰æãÂ¶ÇÔºå`ps`Ôºå`fetchmail`„ÄÇ'
- en: '`-d`, `--debug`: Show debugging output.'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-d`Ôºå`--debug`ÔºöÊòæÁ§∫Ë∞ÉËØïËæìÂá∫„ÄÇ'
- en: '`-f`, `--force`: Force. For example, `rm -f` will force the removal of files,
    even if it thinks it does not have permission to do it. This is also useful for
    commands which are doing something destructive that usually require user confirmation,
    but you want to force it to do that destructive action in a script.'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-f`Ôºå`--force`ÔºöÂº∫Âà∂„ÄÇ‰æãÂ¶ÇÔºå`rm -f`Â∞ÜÂº∫Âà∂Âà†Èô§Êñá‰ª∂ÔºåÂç≥‰ΩøÂÆÉËÆ§‰∏∫Ê≤°ÊúâÊùÉÈôêÊâßË°å‰πü‰ºöÊâßË°å„ÄÇËøô‰πüÈÄÇÁî®‰∫éÈÄöÂ∏∏ÈúÄË¶ÅÁî®Êà∑Á°ÆËÆ§ÁöÑÂÖ∑ÊúâÁ†¥ÂùèÊÄßÊìç‰ΩúÁöÑÂëΩ‰ª§Ôºå‰ΩÜÊÇ®ÊÉ≥Ë¶ÅÂú®ËÑöÊú¨‰∏≠Âº∫Âà∂ÊâßË°åËØ•Á†¥ÂùèÊÄßÊìç‰Ωú„ÄÇ'
- en: '`--json`: Display JSON output. See the [output](#output) section.'
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--json`ÔºöÊòæÁ§∫JSONËæìÂá∫„ÄÇËØ∑ÂèÇËßÅ[ËæìÂá∫](#output)ÈÉ®ÂàÜ„ÄÇ'
- en: '`-h`, `--help`: Help. This should only mean help. See the [help](#help) section.'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-h`Ôºå`--help`ÔºöÂ∏ÆÂä©„ÄÇËøôÂ∫îËØ•Âè™Ë°®Á§∫Â∏ÆÂä©„ÄÇËØ∑ÂèÇËßÅ[Â∏ÆÂä©](#help)ÈÉ®ÂàÜ„ÄÇ'
- en: '`--no-input`: See the [interactivity](#interactivity) section.'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--no-input`ÔºöËØ∑ÂèÇËßÅ[‰∫§‰∫í](#interactivity)ÈÉ®ÂàÜ„ÄÇ'
- en: '`-o`, `--output`: Output file. For example, `sort`, `gcc`.'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-o`Ôºå`--output`ÔºöËæìÂá∫Êñá‰ª∂„ÄÇ‰æãÂ¶ÇÔºå`sort`Ôºå`gcc`„ÄÇ'
- en: '`-p`, `--port`: Port. For example, `psql`, `ssh`.'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-p`Ôºå`--port`ÔºöÁ´ØÂè£„ÄÇ‰æãÂ¶ÇÔºå`psql`Ôºå`ssh`„ÄÇ'
- en: '`-q`, `--quiet`: Quiet. Display less output. This is particularly useful when
    displaying output for humans that you might want to hide when running in a script.'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-q`Ôºå`--quiet`ÔºöÂÆâÈùô„ÄÇÊòæÁ§∫ËæÉÂ∞ëÁöÑËæìÂá∫„ÄÇÂú®ÊòæÁ§∫‰∫∫Á±ªÂèØËÉΩÊÉ≥Ë¶ÅÂú®ËÑöÊú¨‰∏≠ËøêË°åÊó∂ÈöêËóèÁöÑËæìÂá∫Êó∂ÁâπÂà´ÊúâÁî®„ÄÇ'
- en: '`-u`, `--user`: User. For example, `ps`, `ssh`.'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-u`Ôºå`--user`ÔºöÁî®Êà∑„ÄÇ‰æãÂ¶ÇÔºå`ps`Ôºå`ssh`„ÄÇ'
- en: '`--version`: Version.'
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--version`ÔºöÁâàÊú¨„ÄÇ'
- en: '`-v`: This can often mean either verbose or version. You might want to use
    `-d` for verbose and this for version, or for nothing to avoid confusion.'
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-v`ÔºöËøôÈÄöÂ∏∏ÂèØ‰ª•Ë°®Á§∫ËØ¶ÁªÜÊàñÁâàÊú¨„ÄÇÊÇ®ÂèØËÉΩÊÉ≥Ë¶Å‰ΩøÁî®`-d`Ë°®Á§∫ËØ¶ÁªÜÔºå‰ΩøÁî®Ëøô‰∏™Ë°®Á§∫ÁâàÊú¨ÔºåÊàñËÄÖ‰ªÄ‰πàÈÉΩ‰∏çË°®Á§∫‰ª•ÈÅøÂÖçÊ∑∑Ê∑Ü„ÄÇ'
- en: '**Make the default the right thing for most users.** Making things configurable
    is good, but most users are not going to find the right flag and remember to use
    it all the time (or alias it). If it‚Äôs not the default, you‚Äôre making the experience
    worse for most of your users.'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰ΩøÈªòËÆ§ÈÄâÈ°πÈÄÇÂêàÂ§ßÂ§öÊï∞Áî®Êà∑**„ÄÇ‰Ωø‰∫ãÁâ©ÂèØÈÖçÁΩÆÊòØÂ•ΩÁöÑÔºå‰ΩÜÂ§ßÂ§öÊï∞Áî®Êà∑ÂèØËÉΩ‰∏ç‰ºöÊâæÂà∞Ê≠£Á°ÆÁöÑÊ†áÂøóÂπ∂ËÆ∞‰ΩèÂßãÁªà‰ΩøÁî®ÂÆÉÔºàÊàñËÄÖËÆæÁΩÆÂà´ÂêçÔºâ„ÄÇÂ¶ÇÊûúËøô‰∏çÊòØÈªòËÆ§ÈÄâÈ°πÔºåÈÇ£‰πàÂØπ‰∫éÂ§ßÂ§öÊï∞Áî®Êà∑Êù•ËØ¥Ôºå‰ΩìÈ™å‰ºöÂèòÂæóÊõ¥Á≥ü„ÄÇ'
- en: For example, `ls` has terse default output to optimize for scripts and other
    historical reasons, but if it were designed today, it would probably default to
    `ls -lhF`.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: ‰æãÂ¶ÇÔºå`ls`ÂÖ∑ÊúâÁÆÄÊ¥ÅÁöÑÈªòËÆ§ËæìÂá∫Ôºå‰ª•‰ºòÂåñËÑöÊú¨ÂíåÂÖ∂‰ªñÂéÜÂè≤ÂéüÂõ†Ôºå‰ΩÜÂ¶ÇÊûú‰ªäÂ§©ËÆæËÆ°ÁöÑËØùÔºåÂÆÉÂèØËÉΩÈªòËÆ§‰∏∫`ls -lhF`„ÄÇ
- en: '**Prompt for user input.** If a user doesn‚Äôt pass an argument or flag, prompt
    for it. (See also: [Interactivity](#interactivity))'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÊèêÁ§∫Áî®Êà∑ËæìÂÖ•„ÄÇ**Â¶ÇÊûúÁî®Êà∑Ê≤°Êúâ‰º†ÈÄíÂèÇÊï∞ÊàñÊ†áÂøóÔºåËØ∑ÊèêÁ§∫ËæìÂÖ•„ÄÇ(Âè¶ËØ∑ÂèÇÈòÖÔºö[‰∫§‰∫íÊìç‰Ωú](#interactivity))'
- en: '**Never *require* a prompt.** Always provide a way of passing input with flags
    or arguments. If `stdin` is not an interactive terminal, skip prompting and just
    require those flags/args.'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '**Ê∞∏Ëøú‰∏çË¶Å*Ë¶ÅÊ±Ç*ÊèêÁ§∫„ÄÇ**ÂßãÁªàÊèê‰æõÈÄöËøáÊ†áÂøóÊàñÂèÇÊï∞‰º†ÈÄíËæìÂÖ•ÁöÑÊñπÂºè„ÄÇÂ¶ÇÊûú`stdin`‰∏çÊòØ‰∫§‰∫íÂºèÁªàÁ´ØÔºåÂàôË∑≥ËøáÊèêÁ§∫ÔºåÂè™ÈúÄË¶ÅÊ±ÇËøô‰∫õÊ†áÂøó/ÂèÇÊï∞„ÄÇ'
- en: '**Confirm before doing anything dangerous.** A common convention is to prompt
    for the user to type `y` or `yes` if running interactively, or requiring them
    to pass `-f` or `--force` otherwise.'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®ÊâßË°å‰ªª‰ΩïÂç±Èô©Êìç‰ΩúÂâçÁ°ÆËÆ§**„ÄÇ‰∏Ä‰∏™ÊôÆÈÅçÁ∫¶ÂÆöÊòØÊèêÁ§∫Áî®Êà∑Âú®‰∫§‰∫íÂºèËøêË°åÊó∂ÈîÆÂÖ•`y`Êàñ`yes`ÔºåÂê¶ÂàôË¶ÅÊ±Ç‰ªñ‰ª¨‰º†ÈÄí`-f`Êàñ`--force`„ÄÇ'
- en: '‚ÄúDangerous‚Äù is a subjective term, and there are differing levels of danger:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: ‚ÄúÂç±Èô©‚ÄùÊòØ‰∏Ä‰∏™‰∏ªËßÇÊúØËØ≠ÔºåÊúâ‰∏çÂêåÁ∫ßÂà´ÁöÑÂç±Èô©Ôºö
- en: '**Mild:** A small, local change such as deleting a file. You might want to
    prompt for confirmation, you might not. For example, if the user is explicitly
    running a command called something like ‚Äúdelete,‚Äù you probably don‚Äôt need to ask.'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**ËΩªÂæÆ:** ‰∏Ä‰∏™Â∞èÁöÑÊú¨Âú∞Êõ¥ÊîπÔºåÊØîÂ¶ÇÂà†Èô§Êñá‰ª∂„ÄÇÊÇ®ÂèØËÉΩË¶ÅÊ±ÇÁ°ÆËÆ§Ôºå‰πüÂèØËÉΩ‰∏çÈúÄË¶Å„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÁî®Êà∑ÊòéÁ°ÆËøêË°å‰∫Ü‰∏Ä‰∏™Áß∞‰∏∫‚Äúdelete‚ÄùÁöÑÂëΩ‰ª§ÔºåÊÇ®ÂèØËÉΩ‰∏çÈúÄË¶ÅËØ¢ÈóÆ„ÄÇ'
- en: '**Moderate:** A bigger local change like deleting a directory, a remote change
    like deleting a resource of some kind, or a complex bulk modification that can‚Äôt
    be easily undone. You usually want to prompt for confirmation here. Consider giving
    the user a way to ‚Äúdry run‚Äù the operation so they can see what‚Äôll happen before
    they commit to it.'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**‰∏≠Â∫¶:** ÂÉèÂà†Èô§ÁõÆÂΩïËøôÊ†∑ÁöÑÊõ¥Â§ßÁöÑÊú¨Âú∞Êõ¥ÊîπÔºåÂà†Èô§ÊüêÁßçËµÑÊ∫êÁöÑËøúÁ®ãÊõ¥ÊîπÔºåÊàñËÄÖ‰∏çËÉΩËΩªÊùæÊí§ÈîÄÁöÑÂ§çÊùÇÊâπÈáè‰øÆÊîπ„ÄÇÈÄöÂ∏∏ÔºåÊÇ®ÈúÄË¶ÅÊèêÁ§∫Áî®Êà∑ËøõË°åÁ°ÆËÆ§„ÄÇËÄÉËôë‰∏∫Áî®Êà∑Êèê‰æõ‚ÄúÂπ≤Êâ∞ËøêË°å‚ÄùÊìç‰ΩúÁöÑÊñπÂºèÔºå‰ª•‰æø‰ªñ‰ª¨Âú®Á°ÆÂÆö‰πãÂâçÂèØ‰ª•ÁúãÂà∞‰ºöÂèëÁîü‰ªÄ‰πà„ÄÇ'
- en: '**Severe:** Deleting something complex, like an entire remote application or
    server. You don‚Äôt just want to prompt for confirmation here‚Äîyou want to make it
    hard to confirm by accident. Consider asking them to type something non-trivial
    such as the name of the thing they‚Äôre deleting. Let them alternatively pass a
    flag such as `--confirm="name-of-thing"`, so it‚Äôs still scriptable.'
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**‰∏•Èáç:** Âà†Èô§Â§çÊùÇÁöÑ‰∏úË•øÔºåÊØîÂ¶ÇÊï¥‰∏™ËøúÁ®ãÂ∫îÁî®Á®ãÂ∫èÊàñÊúçÂä°Âô®„ÄÇÊÇ®‰∏ç‰ªÖ‰ªÖÊÉ≥Âú®ËøôÈáåÊèêÁ§∫Áî®Êà∑Á°ÆËÆ§‚ÄîÊÇ®ÊÉ≥‰ΩøÊÑèÂ§ñÁ°ÆËÆ§ÂèòÂæóÂõ∞Èöæ„ÄÇËÄÉËôëË¶ÅÊ±Ç‰ªñ‰ª¨ÈîÆÂÖ•ÈùûÂπ≥Âá°ÁöÑ‰∏úË•øÔºå‰æãÂ¶ÇË¶ÅÂà†Èô§ÁöÑ‰∫ãÁâ©ÁöÑÂêçÁß∞„ÄÇËÆ©‰ªñ‰ª¨‰πüÂèØ‰ª•‰º†ÈÄíÁ±ª‰ºº`--confirm="name-of-thing"`ËøôÊ†∑ÁöÑÊ†áÂøóÔºåËøôÊ†∑ÂÆÉ‰ªçÁÑ∂ÂèØ‰ª•Áî®ËÑöÊú¨ÁºñÂÜô„ÄÇ'
- en: Consider whether there are non-obvious ways to accidentally destroy things.
    For example, imagine a situation where changing a number in a configuration file
    from 10 to 1 means that 9 things will be implicitly deleted‚Äîthis should be considered
    a severe risk, and should be difficult to do by accident.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: ËÄÉËôëÊòØÂê¶ÊúâÈùûÊòæËÄåÊòìËßÅÁöÑÊñπÂºè‰ºöÊÑèÂ§ñÁ†¥Âùè‰∫ãÁâ©„ÄÇ‰æãÂ¶ÇÔºåÊÉ≥Ë±°‰∏ÄÁßçÊÉÖÂÜµÔºåÂ∞ÜÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊï∞Â≠ó‰ªé10Êîπ‰∏∫1ÊÑèÂë≥ÁùÄÂ∞ÜÊúâ9‰∏™‰∫ãÁâ©Ë¢´ÈöêÂºèÂà†Èô§‚ÄîËøôÂ∫îË¢´ËßÜ‰∏∫‰∏•ÈáçÈ£éÈô©ÔºåÂπ∂‰∏îÂ∫îÈöæ‰ª•ÊÑèÂ§ñÂèëÁîü„ÄÇ
- en: '**If input or output is a file, support `-` to read from `stdin` or write to
    `stdout`.** This lets the output of another command be the input of your command
    and vice versa, without using a temporary file. For example, `tar` can extract
    files from `stdin`:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúËæìÂÖ•ÊàñËæìÂá∫ÊòØÊñá‰ª∂ÔºåËØ∑ÊîØÊåÅ `-` ËØªÂèñ `stdin` ÊàñÂÜôÂÖ• `stdout`„ÄÇ**ËøôÊ†∑‰Ω†ÂèØ‰ª•Âú®‰∏ç‰ΩøÁî®‰∏¥Êó∂Êñá‰ª∂ÁöÑÊÉÖÂÜµ‰∏ãÔºåËÆ©Âè¶‰∏Ä‰∏™ÂëΩ‰ª§ÁöÑËæìÂá∫Êàê‰∏∫‰Ω†ÁöÑÂëΩ‰ª§ÁöÑËæìÂÖ•ÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ‰æãÂ¶ÇÔºå`tar`
    ÂèØ‰ª•‰ªé `stdin` ÊèêÂèñÊñá‰ª∂Ôºö'
- en: '[PRE11]'
  id: totrans-238
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '**If a flag can accept an optional value, allow a special word like ‚Äúnone.‚Äù**
    For example, `ssh -F` takes an optional filename of an alternative `ssh_config`
    file, and `ssh -F none` runs SSH with no config file. Don‚Äôt just use a blank value‚Äîthis
    can make it ambiguous whether arguments are flag values or arguments.'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÊ†áÂøóÂèØ‰ª•Êé•ÂèóÂèØÈÄâÂÄºÔºåËØ∑ÂÖÅËÆ∏‰ΩøÁî® ‚Äúnone‚Äù Á≠âÁâπÊÆäËØçËØ≠„ÄÇ** ‰æãÂ¶ÇÔºå`ssh -F` Êé•Âèó‰∏Ä‰∏™ÂèØÈÄâÁöÑ `ssh_config` Êñá‰ª∂ÁöÑÊñá‰ª∂ÂêçÔºåÂπ∂‰∏î
    `ssh -F none` ‰ºö‰ª•Êó†ÈÖçÁΩÆÊñá‰ª∂ÁöÑÊñπÂºèËøêË°å SSH„ÄÇ‰∏çË¶ÅÂè™‰ΩøÁî®‰∏Ä‰∏™Á©∫ÂÄºÔºåËøôÂèØËÉΩ‰ºö‰ΩøÂèÇÊï∞ÊòØÊ†áÂøóÂÄºËøòÊòØÂèÇÊï∞ÂèòÂæóÊ®°Á≥ä‰∏çÊ∏Ö„ÄÇ'
- en: '**If possible, make arguments, flags and subcommands order-independent.** A
    lot of CLIs, especially those with subcommands, have unspoken rules on where you
    can put various arguments. For example a command might have a `--foo` flag that
    only works if you put it before the subcommand:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåËØ∑‰ΩøÂèÇÊï∞„ÄÅÊ†áÂøóÂíåÂ≠êÂëΩ‰ª§ÁöÑÈ°∫Â∫èÊó†ÂÖ≥Á¥ßË¶Å„ÄÇ**ËÆ∏Â§öÂëΩ‰ª§Ë°åÁïåÈù¢ÔºåÂ∞§ÂÖ∂ÊòØÈÇ£‰∫õÂ∏¶ÊúâÂ≠êÂëΩ‰ª§ÁöÑÁïåÈù¢ÔºåÂú®ÊîæÁΩÆÂêÑÁßçÂèÇÊï∞ÁöÑ‰ΩçÁΩÆ‰∏äÈÉΩÊúâ‰∏çÊàêÊñáÁöÑËßÑÂàô„ÄÇ‰æãÂ¶ÇÔºå‰∏Ä‰∏™ÂëΩ‰ª§ÂèØ‰ª•Êúâ‰∏Ä‰∏™
    `--foo` Ê†áÂøóÔºåÂè™ËÉΩÂú®Â≠êÂëΩ‰ª§‰πãÂâç‰ΩøÁî®„ÄÇ'
- en: '[PRE12]'
  id: totrans-241
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: This can be very confusing for the user‚Äîespecially given that one of the most
    common things users do when trying to get a command to work is to hit the up arrow
    to get the last invocation, stick another option on the end, and run it again.
    If possible, try to make both forms equivalent, although you might run up against
    the limitations of your argument parser.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: ÂØπÁî®Êà∑Êù•ËØ¥ËøôÂèØËÉΩ‰ºöÂæàÂõ∞ÊÉëÔºåÁâπÂà´ÊòØÂΩìÁî®Êà∑ËØïÂõæËÆ©ÂëΩ‰ª§Ê≠£Â∏∏Â∑•‰ΩúÊó∂ÔºåÊúÄÂ∏∏ËßÅÁöÑ‰∫ãÊÉÖ‰πã‰∏ÄÂ∞±ÊòØÊåâ‰∏äÁÆ≠Â§¥Ëé∑Âèñ‰∏äÊ¨°Ë∞ÉÁî®ÔºåÊ∑ªÂä†ÂÖ∂‰ªñÈÄâÈ°πÂπ∂ÂÜçÊ¨°ËøêË°å„ÄÇÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÂ∞ΩÈáè‰ΩøËøô‰∏§ÁßçÂΩ¢ÂºèÁ≠âÊïàÔºåÂ∞ΩÁÆ°‰Ω†ÂèØËÉΩ‰ºöÂèóÂà∞ÂèÇÊï∞Ëß£ÊûêÂô®ÁöÑÈôêÂà∂„ÄÇ
- en: '**Do not read secrets directly from flags.** When a command accepts a secret,
    eg. via a `--password` argument, the argument value will leak the secret into
    `ps` output and potentially shell history. And, this sort of flag encourages the
    use of insecure environment variables for secrets.'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏çË¶ÅÁõ¥Êé•‰ªéÊ†áÂøó‰∏≠ËØªÂèñÊú∫ÂØÜ‰ø°ÊÅØ**„ÄÇÂΩì‰∏Ä‰∏™ÂëΩ‰ª§Êé•ÂèóÊú∫ÂØÜ‰ø°ÊÅØÊó∂Ôºå‰æãÂ¶ÇÈÄöËøá `--password` ÂèÇÊï∞ÔºåÂèÇÊï∞ÂÄº‰ºöÊ≥ÑÈú≤Êú∫ÂØÜ‰ø°ÊÅØÂà∞ `ps` ËæìÂá∫ÂíåÊΩúÂú®ÁöÑ
    shell ÂéÜÂè≤ËÆ∞ÂΩï‰∏≠„ÄÇÊ≠§Á±ªÊ†áÂøó‰ºöÈºìÂä±‰ΩøÁî®‰∏çÂÆâÂÖ®ÁöÑÁéØÂ¢ÉÂèòÈáèÊù•Â≠òÂÇ®Êú∫ÂØÜ‰ø°ÊÅØ„ÄÇ'
- en: Consider accepting sensitive data only via files, e.g. with a `--password-file`
    argument, or via `stdin`. A `--password-file` argument allows a secret to be passed
    in discreetly, in a wide variety of contexts.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: Â∫îËÄÉËôë‰ªÖÈÄöËøáÊñá‰ª∂Êé•ÂèóÊïèÊÑüÊï∞ÊçÆÔºå‰æãÂ¶ÇÈÄöËøá `--password-file` ÂèÇÊï∞ÊàñÈÄöËøá `stdin`„ÄÇ `--password-file` ÂèÇÊï∞ÂÖÅËÆ∏Â∞ÜÁßòÂØÜ‰ø°ÊÅØÂú®ÂêÑÁßç‰∏ä‰∏ãÊñá‰∏≠‰ª•ÈöêËîΩÁöÑÊñπÂºè‰º†ÈÄí„ÄÇ
- en: (It‚Äôs possible to pass a file‚Äôs contents into an argument in Bash by using `--password
    $(< password.txt)`. This approach has the same security issue of leaking the file‚Äôs
    contents into the output of `ps`. It‚Äôs best avoided.)
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: ÔºàÂú®Bash‰∏≠ÂèØ‰ª•ÈÄöËøá‰ΩøÁî® `--password $(< password.txt)` Â∞ÜÊñá‰ª∂ÂÜÖÂÆπ‰º†ÈÄíÁªôÂèÇÊï∞„ÄÇ ËøôÁßçÊñπÊ≥ïÊúâ‰∏Ä‰∏™Ê≥ÑÊºèÊñá‰ª∂ÂÜÖÂÆπÁöÑÂÆâÂÖ®ÈóÆÈ¢òÔºå‰ºöÂú®
    `ps` ÁöÑËæìÂá∫‰∏≠Êö¥Èú≤„ÄÇ ÊúÄÂ•ΩÈÅøÂÖç‰ΩøÁî®„ÄÇÔºâ
- en: Interactivity
  id: totrans-246
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ‰∫§‰∫íÊÄß
- en: '**Only use prompts or interactive elements if `stdin` is an interactive terminal
    (a TTY).** This is a pretty reliable way to tell whether you‚Äôre piping data into
    a command or whether it‚Äôs being run in a script, in which case a prompt won‚Äôt
    work and you should throw an error telling the user what flag to pass.'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âè™ÊúâÂΩì `stdin` ÊòØ‰∫§‰∫íÂºèÁªàÁ´ØÔºàTTYÔºâÊó∂ÔºåÊâç‰ΩøÁî®ÊèêÁ§∫Êàñ‰∫§‰∫íÂÖÉÁ¥†„ÄÇ**ËøôÊòØ‰∏Ä‰∏™Áõ∏ÂΩìÂèØÈù†ÁöÑÊñπÊ≥ïÔºåÂèØ‰ª•Á°ÆÂÆöÊÇ®ÊòØÂ∞ÜÊï∞ÊçÆÁÆ°ÈÅì‰º†ÂÖ•ÂëΩ‰ª§ÔºåËøòÊòØÂú®ËÑöÊú¨‰∏≠ËøêË°åÂëΩ‰ª§„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊèêÁ§∫Â∞Ü‰∏çËµ∑‰ΩúÁî®ÔºåÂ∫îËØ•ÊäõÂá∫‰∏Ä‰∏™ÈîôËØØÔºåÂëäËØâÁî®Êà∑Â∫î‰º†ÈÄíÂì™‰∏™Ê†áÂøó„ÄÇ'
- en: '**If `--no-input` is passed, don‚Äôt prompt or do anything interactive.** This
    allows users an explicit way to disable all prompts in commands. If the command
    requires input, fail and tell the user how to pass the information as a flag.'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûú‰º†ÈÄí‰∫Ü `--no-input`Ôºå‰∏çË¶ÅÊèêÁ§∫ÊàñÊèê‰æõ‰ªª‰Ωï‰∫§‰∫íÂºèÂäüËÉΩ„ÄÇ**ËøôÂÖÅËÆ∏Áî®Êà∑ÊòæÂºèÂú∞Á¶ÅÁî®ÂëΩ‰ª§‰∏≠ÁöÑÊâÄÊúâÊèêÁ§∫„ÄÇÂ¶ÇÊûúÂëΩ‰ª§ÈúÄË¶ÅËæìÂÖ•ÔºåÂàôÂ∫îËØ•ÊèêÁ§∫Â§±Ë¥•ÔºåÂπ∂ÂëäËØâÁî®Êà∑Â¶Ç‰ΩïÂ∞Ü‰ø°ÊÅØ‰Ωú‰∏∫Ê†áÂøó‰º†ÈÄí„ÄÇ'
- en: '**If you‚Äôre prompting for a password, don‚Äôt print it as the user types.** This
    is done by turning off echo in the terminal. Your language should have helpers
    for this.'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÊèêÁ§∫ËæìÂÖ•ÂØÜÁ†ÅÔºåËØ∑‰∏çË¶ÅÈöèÁùÄÁî®Êà∑ËæìÂÖ•ËÄåÊâìÂç∞ÂØÜÁ†Å„ÄÇ**ËøôÂèØ‰ª•ÈÄöËøáÂú®ÁªàÁ´Ø‰∏≠ÂÖ≥Èó≠ÂõûÊòæÊù•ÂÆûÁé∞„ÄÇÊÇ®ÁöÑËØ≠Ë®ÄÂ∫îËØ•ÊúâÁõ∏Â∫îÁöÑËæÖÂä©Á®ãÂ∫è„ÄÇ'
- en: '**Let the user escape.** Make it clear how to get out. (Don‚Äôt do what vim does.)
    If your program hangs on network I/O etc, always make Ctrl-C still work. If it‚Äôs
    a wrapper around program execution where Ctrl-C can‚Äôt quit (SSH, tmux, telnet,
    etc), make it clear how to do that. For example, SSH allows escape sequences with
    the `~` escape character.'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '**ËÆ©Áî®Êà∑ÊúâÊâÄÈÄÉÈÄ∏„ÄÇ**Ê∏ÖÊ•öÂú∞ËØ¥ÊòéÂ¶Ç‰ΩïÈÄÄÂá∫„ÄÇÔºà‰∏çË¶ÅÂÉè vim ÈÇ£Ê†∑ÂÅö„ÄÇÔºâÂ¶ÇÊûúÊÇ®ÁöÑÁ®ãÂ∫èÂú®ÁΩëÁªú I/O Á≠âÊñπÈù¢ÊåÇËµ∑ÔºåÂßãÁªà‰Ωø Ctrl-C ‰ªçÁÑ∂ÊúâÊïà„ÄÇÂ¶ÇÊûúÂÆÉÊòØÁ®ãÂ∫èÊâßË°åÁöÑÂåÖË£ÖÂô®ÔºåÂÖ∂‰∏≠
    Ctrl-C Êó†Ê≥ïÈÄÄÂá∫ÔºàSSH„ÄÅtmux„ÄÅtelnet Á≠âÔºâÔºåËØ∑ÊòéÁ°ÆËØ¥ÊòéÂ¶Ç‰ΩïÂÅö„ÄÇ‰æãÂ¶ÇÔºåSSH ÂÖÅËÆ∏‰ΩøÁî® `~` ÈÄÉÈÄ∏Â≠óÁ¨¶ÁöÑÈÄÉÈÄ∏Â∫èÂàó„ÄÇ'
- en: Subcommands
  id: totrans-251
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Â≠êÂëΩ‰ª§
- en: If you‚Äôve got a tool that‚Äôs sufficiently complex, you can reduce its complexity
    by making a set of subcommands. If you have several tools that are very closely
    related, you can make them easier to use and discover by combining them into a
    single command (for example, RCS vs. Git).
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: Â¶ÇÊûú‰Ω†Êúâ‰∏Ä‰∏™Ë∂≥Â§üÂ§çÊùÇÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•ÈÄöËøáÂàõÂª∫‰∏ÄÁªÑÂ≠êÂëΩ‰ª§Êù•Èôç‰ΩéÂÖ∂Â§çÊùÇÊÄß„ÄÇÂ¶ÇÊûúÊúâÂá†‰∏™ÈùûÂ∏∏Áõ∏ÂÖ≥ÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∞ÜÂÆÉ‰ª¨ÂêàÂπ∂Êàê‰∏Ä‰∏™Âçï‰∏ÄÂëΩ‰ª§Ôºå‰ª•‰æøÊõ¥ÂÆπÊòì‰ΩøÁî®ÂíåÂèëÁé∞Ôºà‰æãÂ¶ÇÔºåRCS
    vs. GitÔºâ„ÄÇ
- en: They‚Äôre useful for sharing stuff‚Äîglobal flags, help text, configuration, storage
    mechanisms.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: Áî®‰∫éÂÖ±‰∫´ÂÜÖÂÆπ‚Äî‚ÄîÂÖ®Â±ÄÊ†áÂøó„ÄÅÂ∏ÆÂä©ÊñáÊú¨„ÄÅÈÖçÁΩÆ„ÄÅÂ≠òÂÇ®Êú∫Âà∂ÈÉΩÂæàÊúâÁî®„ÄÇ
- en: '**Be consistent across subcommands.** Use the same flag names for the same
    things, have similar output formatting, etc.'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®ÂêÑÁ∫ßÂ≠êÂëΩ‰ª§‰∏≠‰øùÊåÅ‰∏ÄËá¥„ÄÇ** ÂØπÁõ∏ÂêåÁöÑ‰∫ãÁâ©‰ΩøÁî®Áõ∏ÂêåÁöÑÊ†áÂøóÂêçÁß∞ÔºåÂÖ∑ÊúâÁ±ª‰ººÁöÑËæìÂá∫Ê†ºÂºèÁ≠â„ÄÇ'
- en: '**Use consistent names for multiple levels of subcommand.** If a complex piece
    of software has lots of objects and operations that can be performed on those
    objects, it is a common pattern to use two levels of subcommand for this, where
    one is a noun and one is a verb. For example, `docker container create`. Be consistent
    with the verbs you use across different types of objects.'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÂØπ‰∫éÂ§öÁ∫ßÂ≠êÂëΩ‰ª§ÔºåËØ∑‰ΩøÁî®Áªü‰∏ÄÁöÑÂëΩÂêç„ÄÇ** Â¶ÇÊûú‰∏Ä‰∏™Â§çÊùÇÁöÑËΩØ‰ª∂ÊúâËÆ∏Â§öÂØπË±°ÂíåÂèØ‰ª•ÂØπËøô‰∫õÂØπË±°ÊâßË°åÊìç‰ΩúÁöÑÊìç‰ΩúÔºåÂ∏∏ËßÅÁöÑÊ®°ÂºèÊòØ‰ΩøÁî®‰∏§Á∫ßÂ≠êÂëΩ‰ª§Ôºå‰∏Ä‰∏™ÊòØÂêçËØçÔºå‰∏Ä‰∏™ÊòØÂä®ËØç„ÄÇ‰æãÂ¶ÇÔºå`docker
    container create`„ÄÇÂú®‰∏çÂêåÁ±ªÂûãÁöÑÂØπË±°‰∏ä‰ΩøÁî®Áõ∏ÂêåÁöÑÂä®ËØçÊó∂Ë¶Å‰øùÊåÅ‰∏ÄËá¥„ÄÇ'
- en: Either `noun verb` or `verb noun` ordering works, but `noun verb` seems to be
    more common.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: '`ÂêçËØçÂä®ËØç` Êàñ `Âä®ËØçÂêçËØç` ÁöÑÈ°∫Â∫èÈÉΩÂèØ‰ª•Ôºå‰ΩÜ `ÂêçËØçÂä®ËØç` ‰ºº‰πéÊõ¥Â∏∏ËßÅ„ÄÇ'
- en: '*Further reading: [User experience, CLIs, and breaking the world, by John Starich](https://uxdesign.cc/user-experience-clis-and-breaking-the-world-baed8709244f).*'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: '*Âª∂‰º∏ÈòÖËØªÔºö[Áî®Êà∑‰ΩìÈ™å„ÄÅCLIÂíåÊâìÁ†¥‰∏ñÁïåÔºåÁ∫¶Áø∞¬∑ÊñØÂ°îÈáåÂ•áËëó](https://uxdesign.cc/user-experience-clis-and-breaking-the-world-baed8709244f)„ÄÇ*'
- en: '**Don‚Äôt have ambiguous or similarly-named commands.** For example, having two
    subcommands called ‚Äúupdate‚Äù and ‚Äúupgrade‚Äù is quite confusing. You might want to
    use different words, or disambiguate with extra words.'
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏çË¶ÅÊúâÊ®°Á≥äÊàñÂêåÂêçÁöÑÂëΩ‰ª§„ÄÇ** ‰æãÂ¶ÇÔºåÊã•Êúâ‰∏§‰∏™Âêç‰∏∫‚Äúupdate‚ÄùÂíå‚Äúupgrade‚ÄùÁöÑÂ≠êÂëΩ‰ª§Áõ∏ÂΩì‰ª§‰∫∫Âõ∞ÊÉë„ÄÇ‰Ω†ÂèØËÉΩÂ∏åÊúõ‰ΩøÁî®‰∏çÂêåÁöÑËØçÔºåÊàñËÄÖÁî®È¢ùÂ§ñÁöÑËØçÊù•Ê∂àÈô§Ê≠ß‰πâ„ÄÇ'
- en: Robustness
  id: totrans-259
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: È≤ÅÊ£íÊÄß
- en: '**Validate user input.** Everywhere your program accepts data from the user,
    it will eventually be given bad data. Check early and bail out before anything
    bad happens, and [make the errors understandable](#errors).'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '**È™åËØÅÁî®Êà∑ËæìÂÖ•„ÄÇ** Âú®‰Ω†ÁöÑÁ®ãÂ∫èÊé•ÂèóÁî®Êà∑Êï∞ÊçÆÁöÑ‰ªª‰ΩïÂú∞ÊñπÔºåÂÆÉÊúÄÁªà‰ºöÊî∂Âà∞ÈîôËØØÁöÑÊï∞ÊçÆ„ÄÇÂ∞ΩÊó©Ê£ÄÊü•Âπ∂Âú®ÂèëÁîüÈóÆÈ¢ò‰πãÂâçÈÄÄÂá∫ÔºåÁÑ∂Âêé[ËÆ©ÈîôËØØ‰πüËÉΩË¢´ÁêÜËß£](#errors)„ÄÇ'
- en: '**Responsive is more important than fast.** Print something to the user in
    <100ms. If you‚Äôre making a network request, print something before you do it so
    it doesn‚Äôt hang and look broken.'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '**ÂìçÂ∫îÊÄßÊØîÈÄüÂ∫¶Êõ¥ÈáçË¶Å„ÄÇ** Âú®<100msÂÜÖÂêëÁî®Êà∑ÊâìÂç∞‰∏Ä‰∫õ‰∏úË•ø„ÄÇÂ¶ÇÊûúË¶ÅËøõË°åÁΩëÁªúËØ∑Ê±ÇÔºåÂú®ÊâßË°å‰πãÂâçÊâìÂç∞‰∏Ä‰∫õÂÜÖÂÆπÔºåËøôÊ†∑ÂÆÉÂ∞±‰∏ç‰ºöÂèòÂæóÂç°‰ΩèÁúãËµ∑Êù•ÂÉèÊòØÂá∫‰∫ÜÊïÖÈöú„ÄÇ'
- en: '**Show progress if something takes a long time.** If your program displays
    no output for a while, it will look broken. A good spinner or progress indicator
    can make a program appear to be faster than it is.'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®ÈúÄË¶ÅËä±Ë¥πÂæàÈïøÊó∂Èó¥ÁöÑ‰∫ãÊÉÖ‰∏äÊòæÁ§∫ËøõÂ∫¶„ÄÇ** Â¶ÇÊûú‰Ω†ÁöÑÁ®ãÂ∫è‰∏ÄÊÆµÊó∂Èó¥Ê≤°ÊúâÊòæÁ§∫‰ªª‰ΩïËæìÂá∫ÔºåÂÆÉÁúãËµ∑Êù•Â∞±ÂÉèÊòØÂá∫‰∫ÜÊïÖÈöú„ÄÇ‰∏Ä‰∏™Â•ΩÁöÑÊóãËΩ¨Âô®ÊàñËøõÂ∫¶ÊåáÁ§∫Âô®ÂèØ‰ª•‰ΩøÁ®ãÂ∫èÁúãËµ∑Êù•ÊØîÂÆûÈôÖÊõ¥Âø´„ÄÇ'
- en: Ubuntu 20.04 has a nice progress bar that sticks to the bottom of the terminal.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: Ubuntu 20.04Êúâ‰∏Ä‰∏™ÊºÇ‰∫ÆÁöÑËøõÂ∫¶Êù°ÔºåÂÆÉÁ≤òË¥¥Âú®ÁªàÁ´ØÂ∫ïÈÉ®„ÄÇ
- en: If the progress bar gets stuck in one place for a long time, the user won‚Äôt
    know if stuff is still happening or if the program‚Äôs crashed. It‚Äôs good to show
    estimated time remaining, or even just have an animated component, to reassure
    them that you‚Äôre still working on it.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: Â¶ÇÊûúËøõÂ∫¶Êù°Âú®‰∏Ä‰∏™Âú∞ÊñπÂÅúÊªû‰∫ÜÂæàÈïøÊó∂Èó¥ÔºåÁî®Êà∑Â∞Ü‰∏çÁü•ÈÅì‰∫ãÊÉÖÊòØÂê¶‰ªçÂú®ËøõË°åÔºåÊàñËÄÖÁ®ãÂ∫èÊòØÂê¶Â¥©Ê∫É‰∫Ü„ÄÇÊòæÁ§∫‰º∞ËÆ°Ââ©‰ΩôÊó∂Èó¥ÊòØÂæàÂ•ΩÁöÑÔºåÁîöËá≥Âè™Ë¶ÅÊúâ‰∏Ä‰∏™Âä®ÁîªÁªÑ‰ª∂ÔºåÊù•ËÆ©‰ªñ‰ª¨ÊîæÂøÉ‰Ω†‰ªçÂú®Âä™Âäõ„ÄÇ
- en: There are many good libraries for generating progress bars. For example, [tqdm](https://github.com/tqdm/tqdm)
    for Python, [schollz/progressbar](https://github.com/schollz/progressbar) for
    Go, and [node-progress](https://github.com/visionmedia/node-progress) for Node.js.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: ÊúâËÆ∏Â§öÁî®‰∫éÁîüÊàêËøõÂ∫¶Êù°ÁöÑÂ•ΩÂ∫ì„ÄÇ‰æãÂ¶ÇÔºåPythonÁöÑ[tqdm](https://github.com/tqdm/tqdm)ÔºåGoÁöÑ[schollz/progressbar](https://github.com/schollz/progressbar)ÔºåÂíåNode.jsÁöÑ[node-progress](https://github.com/visionmedia/node-progress)„ÄÇ
- en: '**Do stuff in parallel where you can, but be thoughtful about it.** It‚Äôs already
    difficult to report progress in the shell; doing it for parallel processes is
    ten times harder. Make sure it‚Äôs robust, and that the output isn‚Äôt confusingly
    interleaved. If you can use a library, do so‚Äîthis is code you don‚Äôt want to write
    yourself. Libraries like [tqdm](https://github.com/tqdm/tqdm) for Python and [schollz/progressbar](https://github.com/schollz/progressbar)
    for Go support multiple progress bars natively.'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®ÂèØ‰ª•ÁöÑÂú∞ÊñπÂπ∂Ë°åÂÅö‰∫ãÊÉÖÔºå‰ΩÜË¶ÅÊÖé‰πãÂèàÊÖé„ÄÇ** Âú®shell‰∏≠Êä•ÂëäËøõÂ∫¶Â∑≤ÁªèÂæàÂõ∞Èöæ‰∫ÜÔºõÂØπÂπ∂Ë°åËøõÁ®ãËøôÊ†∑ÂÅöË¶ÅÈöæ‰∏äÂçÅÂÄç„ÄÇÁ°Æ‰øùÂÆÉÊòØÈ≤ÅÊ£íÁöÑÔºåÂπ∂‰∏îËæìÂá∫‰∏ç‰ºöË¢´Ê∑∑Âú®‰∏ÄËµ∑Ëø∑ÊÉë‰∫∫„ÄÇÂ¶ÇÊûúÂèØ‰ª•‰ΩøÁî®Â∫ìÔºåÈÇ£Â∞±‰ΩøÁî®Âêß‚Äî‚ÄîËøôÊÆµ‰ª£Á†Å‰Ω†‰∏çÊÉ≥Ëá™Â∑±ÂÜô„ÄÇÂÉèPythonÁöÑ[tqdm](https://github.com/tqdm/tqdm)ÂíåGoÁöÑ[schollz/progressbar](https://github.com/schollz/progressbar)ËøôÊ†∑ÁöÑÂ∫ìÂ§©ÁîüÊîØÊåÅÂ§ö‰∏™ËøõÂ∫¶Êù°„ÄÇ'
- en: The upside is that it can be a huge usability gain. For example, `docker pull`‚Äôs
    multiple progress bars offer crucial insight into what‚Äôs going on.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: ÂÖ∂Â•ΩÂ§ÑÂú®‰∫éËøôÂèØ‰ª•ÊòØÂ∑®Â§ßÁöÑÂèØÁî®ÊÄßÊèêÂçá„ÄÇ‰æãÂ¶ÇÔºå`docker pull`ÁöÑÂ§ö‰∏™ËøõÂ∫¶Êù°‰∏∫Áî®Êà∑Êèê‰æõ‰∫ÜÂØπÊ≠£Âú®ËøõË°åÁöÑ‰∫ãÊÉÖÁöÑÈáçË¶ÅËßÅËß£„ÄÇ
- en: '[PRE13]'
  id: totrans-268
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'One thing to be aware of: hiding logs behind progress bars when things go *well*
    makes it much easier for the user to understand what‚Äôs going on, but if there
    is an error, make sure you print out the logs. Otherwise, it will be very hard
    to debug.'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: ÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁÇπÊòØÔºöÂΩì‰∫ãÊÉÖËøõË°åÈ°∫Âà©Êó∂ÔºåÂ∞ÜÊó•ÂøóÈöêËóèÂú®ËøõÂ∫¶Êù°ÂêéÈù¢‰ºö‰ΩøÁî®Êà∑Êõ¥ÂÆπÊòìÁêÜËß£Ê≠£Âú®ÂèëÁîü‰ªÄ‰πàÔºå‰ΩÜÊòØÂ¶ÇÊûúÂá∫Áé∞ÈîôËØØÔºå‰∏ÄÂÆöË¶ÅÁ°Æ‰øùÊâìÂç∞Âá∫Êó•Âøó„ÄÇÂê¶ÂàôÔºåË∞ÉËØïÂ∞Ü‰ºöÈùûÂ∏∏Âõ∞Èöæ„ÄÇ
- en: '**Make things time out.** Allow network timeouts to be configured, and have
    a reasonable default so it doesn‚Äôt hang forever.'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: '**ËÆæÁΩÆË∂ÖÊó∂„ÄÇ** ÂÖÅËÆ∏ÁΩëÁªúË∂ÖÊó∂ËøõË°åÈÖçÁΩÆÔºåÂπ∂ËÆæÂÆö‰∏Ä‰∏™ÂêàÁêÜÁöÑÈªòËÆ§ÂÄºÔºåËøôÊ†∑ÂÆÉÂ∞±‰∏ç‰ºöÊ∞∏ËøúÊÇ¨ËÄåÊú™ÂÜ≥„ÄÇ'
- en: '**Make it recoverable.** If the program fails for some transient reason (e.g.
    the internet connection went down), you should be able to hit `<up>` and `<enter>`
    and it should pick up from where it left off.'
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰ΩøÂÖ∂ÂèØÊÅ¢Â§ç„ÄÇ** Â¶ÇÊûúÁ®ãÂ∫èÂõ†‰∏Ä‰∫õÊöÇÊó∂ÁöÑÂéüÂõ†Ôºà‰æãÂ¶ÇÔºåÁΩëÁªúËøûÊé•Êñ≠ÂºÄÔºâÂ§±Ë¥•Ôºå‰Ω†Â∫îËØ•ËÉΩÂ§üÊåâ `<up>` Âíå `<enter>`ÔºåÂÆÉÂ∞±Â∫îËØ•‰ªéÁ¶ªÂºÄÁöÑÂú∞ÊñπÁªßÁª≠‰∏ãÂéª„ÄÇ'
- en: '**Make it crash-only.** This is the next step up from idempotence. If you can
    avoid needing to do any cleanup after operations, or you can defer that cleanup
    to the next run, your program can exit immediately on failure or interruption.
    This makes it both more robust and more responsive.'
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰ΩøÂÖ∂‰ªÖÂ¥©Ê∫É„ÄÇ** ËøôÊòØ‰ªéÂπÇÁ≠âÊÄßÊºîËøõËÄåÊù•ÁöÑ‰∏ã‰∏Ä‰∏™Ê≠•È™§„ÄÇÂ¶ÇÊûú‰Ω†ÂèØ‰ª•ÈÅøÂÖçÈúÄË¶ÅÂú®Êìç‰Ωú‰πãÂêéËøõË°å‰ªª‰ΩïÊ∏ÖÁêÜÔºåÊàñËÄÖ‰Ω†ÂèØ‰ª•Â∞ÜÈÇ£‰∫õÊ∏ÖÁêÜÊé®ËøüÂà∞‰∏ã‰∏ÄÊ¨°ËøêË°åÔºå‰Ω†ÁöÑÁ®ãÂ∫èÂú®Â§±Ë¥•Êàñ‰∏≠Êñ≠Êó∂ÂèØ‰ª•Á´ãÂç≥ÈÄÄÂá∫„ÄÇËøôÊ†∑ÂÆÉÊó¢Êõ¥Âä†È≤ÅÊ£íÂèàÊõ¥Âä†ÂìçÂ∫î„ÄÇ'
- en: '*Citation: [Crash-only software: More than meets the eye](https://lwn.net/Articles/191059/).*'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '*ÂºïÁî®Ôºö[‰ªÖÂ¥©Ê∫ÉËΩØ‰ª∂ÔºöËøú‰∏çÊ≠¢ÁúºËßÅÁöÑ](https://lwn.net/Articles/191059/)„ÄÇ*'
- en: '**People are going to misuse your program.** Be prepared for that. They will
    wrap it in scripts, use it on bad internet connections, run many instances of
    it at once, and use it in environments you haven‚Äôt tested in, with quirks you
    didn‚Äôt anticipate. (Did you know macOS filesystems are case-insensitive but also
    case-preserving?)'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∫∫‰ª¨‰ºöËØØÁî®‰Ω†ÁöÑÁ®ãÂ∫è„ÄÇ** ÂØπÊ≠§Ë¶ÅÊúâÂøÉÁêÜÂáÜÂ§á„ÄÇ‰ªñ‰ª¨‰ºöÂ∞ÜÂÖ∂ÂåÖË£ÖÂú®ËÑöÊú¨‰∏≠ÔºåÂú®‰∏çÁ®≥ÂÆöÁöÑÁΩëÁªúËøûÊé•‰∏ä‰ΩøÁî®ÂÆÉÔºåÂêåÊó∂ËøêË°åËÆ∏Â§öÂÆû‰æãÔºåÂπ∂Âú®‰Ω†Ê≤°ÊúâÊµãËØïËøáÁöÑÁéØÂ¢É‰∏≠‰ΩøÁî®ÂÆÉÔºåÂ∏¶Êúâ‰Ω†Ê≤°ÊúâÈ¢ÑÊñôÂà∞ÁöÑÊÄ™Áôñ„ÄÇÔºà‰Ω†Áü•ÈÅìmacOSÊñá‰ª∂Á≥ªÁªüÊòØ‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô‰ΩÜÂêåÊó∂ÂèàÊòØ‰øùÂ≠òÂ§ßÂ∞èÂÜôÁöÑÂêóÔºüÔºâ'
- en: Future-proofing
  id: totrans-275
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Êú™Êù•ÁöÑÂáÜÂ§á
- en: 'In software of any kind, it‚Äôs crucial that interfaces don‚Äôt change without
    a lengthy and well-documented deprecation process. Subcommands, arguments, flags,
    configuration files, environment variables: these are all interfaces, and you‚Äôre
    committing to keeping them working. ([Semantic versioning](https://semver.org/)
    can only excuse so much change; if you‚Äôre putting out a major version bump every
    month, it‚Äôs meaningless.)'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: Êó†ËÆ∫‰ΩïÁßçËΩØ‰ª∂ÔºåËá≥ÂÖ≥ÈáçË¶ÅÁöÑÊòØÔºåÊé•Âè£‰∏ç‰ºöÂú®Ê≤°ÊúâÈïøÊúüÂíåÂÖÖÂàÜËÆ∞ÂΩïÁöÑÂ∫üÂºÉËøáÁ®ãÁöÑÊÉÖÂÜµ‰∏ãÊõ¥Êîπ„ÄÇÂ≠êÂëΩ‰ª§„ÄÅÂèÇÊï∞„ÄÅÊ†áÂøó„ÄÅÈÖçÁΩÆÊñá‰ª∂„ÄÅÁéØÂ¢ÉÂèòÈáèÔºöËøô‰∫õÈÉΩÊòØÊé•Âè£Ôºå‰Ω†Ë¶Å‰øùËØÅÂÆÉ‰ª¨Ê≠£Â∏∏Â∑•‰Ωú„ÄÇ([ËØ≠‰πâÂåñÁâàÊú¨](https://semver.org/)Âè™ËÉΩÂéüË∞ÖËøô‰πàÂ§öÁöÑÊîπÂèòÔºõÂ¶ÇÊûú‰Ω†ÊØè‰∏™ÊúàÈÉΩÂèëÂ∏É‰∏Ä‰∏™‰∏ªË¶ÅÁâàÊú¨Êõ¥Êñ∞ÔºåÈÇ£Â∞±ÊòØÊØ´Êó†ÊÑè‰πâ‰∫Ü„ÄÇ)
- en: '**Keep changes additive where you can.** Rather than modify the behavior of
    a flag in a backwards-incompatible way, maybe you can add a new flag‚Äîas long as
    it doesn‚Äôt bloat the interface too much. (See also: [Prefer flags to args](#arguments-and-flags).)'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®‰Ω†ÂèØ‰ª•ÁöÑÂú∞Êñπ‰øùÊåÅÂèØÈôÑÂä†Êõ¥Êîπ„ÄÇ** ‰∏éÂÖ∂‰ª•‰∏çÂÖºÂÆπÁöÑÊñπÂºè‰øÆÊîπÊ†áÂøóÁöÑË°å‰∏∫Ôºå‰πüËÆ∏‰Ω†ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∏™Êñ∞ÁöÑÊ†áÂøó‚ÄîÂè™Ë¶ÅÂÆÉ‰∏ç‰ºö‰ΩøÊé•Âè£Ëøá‰∫éËáÉËÇø„ÄÇ(Âè¶ËßÅÔºö[Êõ¥ÂñúÊ¨¢Ê†áÂøóËÄå‰∏çÊòØÂèÇÊï∞](#arguments-and-flags).)'
- en: '**Warn before you make a non-additive change.** Eventually, you‚Äôll find that
    you can‚Äôt avoid breaking an interface. Before you do, forewarn your users in the
    program itself: when they pass the flag you‚Äôre looking to deprecate, tell them
    it‚Äôs going to change soon. Make sure there‚Äôs a way they can modify their usage
    today to make it future-proof, and tell them how to do it.'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âú®ÂÅöÈùûÂèØÈôÑÂä†Êõ¥Êîπ‰πãÂâçË≠¶ÂëäÁî®Êà∑„ÄÇ** ÊúÄÁªàÔºå‰Ω†‰ºöÂèëÁé∞Êó†Ê≥ïÈÅøÂÖçÁ†¥Âùè‰∏Ä‰∏™Êé•Âè£„ÄÇÂú®‰Ω†ËøôÊ†∑ÂÅö‰πãÂâçÔºåÂú®Á®ãÂ∫èÊú¨Ë∫´‰∏≠Ë≠¶ÂëäÁî®Êà∑ÔºöÂΩì‰ªñ‰ª¨‰º†ÈÄí‰Ω†Ë¶ÅÂ∫üÂºÉÁöÑÊ†áÂøóÊó∂ÔºåÂëäËØâ‰ªñ‰ª¨ÂÆÉÂæàÂø´Â∞±Ë¶ÅÊîπÂèò‰∫Ü„ÄÇÁ°Æ‰øù‰ªñ‰ª¨ËÉΩ‰ªäÂ§©Â∞±‰øÆÊîπ‰ªñ‰ª¨ÁöÑÁî®Ê≥ïÔºå‰ΩøÂÖ∂ËÉΩÈÄÇÂ∫îÊú™Êù•ÔºåÂπ∂ÂëäËØâ‰ªñ‰ª¨Â¶Ç‰ΩïÂÅöÂà∞„ÄÇ'
- en: 'If possible, you should detect when they‚Äôve changed their usage and not show
    the warning any more: now they won‚Äôt notice a thing when you finally roll out
    the change.'
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: Â¶ÇÊûúÂèØËÉΩÔºå‰Ω†Â∫îËØ•Ê£ÄÊµãÂà∞‰ªñ‰ª¨Â∑≤ÁªèÊõ¥Êîπ‰∫Ü‰ªñ‰ª¨ÁöÑÁî®Ê≥ïÔºåÂπ∂‰∏î‰∏çÂÜçÊòæÁ§∫Ë≠¶ÂëäÔºöÁé∞Âú®ÂΩì‰Ω†ÊúÄÁªàÊé®Âá∫Êõ¥ÊîπÊó∂Ôºå‰ªñ‰ª¨Â∞±‰∏ç‰ºöÂØüËßâÂà∞‰ªª‰Ωï‰∫ãÊÉÖ‰∫Ü„ÄÇ
- en: '**Changing output for humans is usually OK.** The only way to make an interface
    easy to use is to iterate on it, and if the output is considered an interface,
    then you can‚Äôt iterate on it. Encourage your users to use `--plain` or `--json`
    in scripts to keep output stable (see [Output](#output)).'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: '**Êõ¥Êîπ‰∫∫Á±ªËæìÂá∫ÈÄöÂ∏∏ÊòØÂèØ‰ª•Êé•ÂèóÁöÑ„ÄÇ** ‰ΩøÊé•Âè£Êòì‰∫é‰ΩøÁî®ÁöÑÂîØ‰∏ÄÊñπÊ≥ïÊòØÂØπÂÖ∂ËøõË°åËø≠‰ª£ÔºåÂ¶ÇÊûúËæìÂá∫Ë¢´ËÆ§‰∏∫ÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÈÇ£‰πà‰Ω†‰∏çËÉΩÂØπÂÖ∂ËøõË°åËø≠‰ª£„ÄÇÈºìÂä±‰Ω†ÁöÑÁî®Êà∑Âú®ËÑöÊú¨‰∏≠‰ΩøÁî®`--plain`Êàñ`--json`Êù•‰øùÊåÅËæìÂá∫Á®≥ÂÆöÔºàÂèÇËßÅ[ËæìÂá∫](#output)Ôºâ„ÄÇ'
- en: '**Don‚Äôt have a catch-all subcommand.** If you have a subcommand that‚Äôs likely
    to be the most-used one, you might be tempted to let people omit it entirely for
    brevity‚Äôs sake. For example, say you have a `run` command that wraps an arbitrary
    shell command:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏çË¶ÅÊúâ‰∏Ä‰∏™ÊçïËé∑ÊâÄÊúâÂ≠êÂëΩ‰ª§ÁöÑÂëΩ‰ª§„ÄÇ** Â¶ÇÊûú‰Ω†Êúâ‰∏Ä‰∏™Â≠êÂëΩ‰ª§ÂèØËÉΩÊòØÊúÄÂ∏∏Áî®ÁöÑÔºå‰Ω†ÂèØËÉΩ‰ºöÂõ†‰∏∫ÁÆÄÊ¥ÅËµ∑ËßÅËÄåËÆ©‰∫∫‰ª¨ÂÆåÂÖ®ÁúÅÁï•ÂÆÉ„ÄÇ‰æãÂ¶ÇÔºåÂÅáËÆæ‰Ω†Êúâ‰∏Ä‰∏™`run`ÂëΩ‰ª§ÔºåÁî®Êù•ÂåÖË£Ö‰ªªÊÑèÁöÑshellÂëΩ‰ª§Ôºö'
- en: '[PRE14]'
  id: totrans-282
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'You could make it so that if the first argument to `mycmd` isn‚Äôt the name of
    an existing subcommand, you assume the user means `run`, so they can just type
    this:'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: ‰Ω†ÂèØ‰ª•ËÆ©Â¶ÇÊûú`mycmd`ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏çÊòØ‰∏Ä‰∏™Áé∞ÊúâÂ≠êÂëΩ‰ª§ÁöÑÂêçÁß∞Ôºå‰Ω†ÂÅáËÆæÁî®Êà∑ÊòØÊåá`run`ÔºåËøôÊ†∑‰ªñ‰ª¨ÂèØ‰ª•Áõ¥Êé•ËæìÂÖ•Ëøô‰∏™Ôºö
- en: '[PRE15]'
  id: totrans-284
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'This has a serious drawback, though: now you can never add a subcommand named
    `echo`‚Äîor *anything at all*‚Äîwithout risking breaking existing usages. If there‚Äôs
    a script out there that uses `mycmd echo`, it will do something entirely different
    after that user upgrades to the new version of your tool.'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: ‰ΩÜËøôÊúâ‰∏Ä‰∏™‰∏•ÈáçÁöÑÁº∫ÁÇπÔºöÁé∞Âú®‰Ω†Ê∞∏Ëøú‰∏çËÉΩÊ∑ªÂä†‰∏Ä‰∏™Âêç‰∏∫`echo`ÁöÑÂ≠êÂëΩ‰ª§‚ÄîÊàñËÄÖ*‰ªª‰Ωï‰∏úË•ø*‚ÄîËÄå‰∏çËá≥‰∫éÂÜíÁùÄÁ†¥ÂùèÁé∞ÊúâÁî®Ê≥ïÁöÑÈ£éÈô©„ÄÇÂ¶ÇÊûúÊúâ‰∏Ä‰∏™ËÑöÊú¨‰ΩøÁî®‰∫Ü`mycmd
    echo`ÔºåÈÇ£‰πàÂΩìÁî®Êà∑ÂçáÁ∫ßÂà∞Â∑•ÂÖ∑ÁöÑÊñ∞ÁâàÊú¨ÂêéÔºåÂÆÉÂ∞ÜÂÅöÂÆåÂÖ®‰∏çÂêåÁöÑ‰∫ãÊÉÖ„ÄÇ
- en: '**Don‚Äôt allow arbitrary abbreviations of subcommands.** For example, say your
    command has an `install` subcommand. When you added it, you wanted to save users
    some typing, so you allowed them to type any non-ambiguous prefix, like `mycmd
    ins`, or even just `mycmd i`, and have it be an alias for `mycmd install`. Now
    you‚Äôre stuck: you can‚Äôt add any more commands beginning with `i`, because there
    are scripts out there that assume `i` means `install`.'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏çÂÖÅËÆ∏ÂØπÂ≠êÂëΩ‰ª§ËøõË°å‰ªªÊÑèÁº©ÂÜô„ÄÇ** ‰æãÂ¶ÇÔºåÂÅáËÆæ‰Ω†ÁöÑÂëΩ‰ª§Êúâ‰∏Ä‰∏™`install`Â≠êÂëΩ‰ª§„ÄÇÂΩì‰Ω†Ê∑ªÂä†ÂÆÉÊó∂Ôºå‰Ω†ÊÉ≥ËäÇÁúÅÁî®Êà∑‰∏Ä‰∫õËæìÂÖ•Êó∂Èó¥ÔºåÊâÄ‰ª•‰Ω†ÂÖÅËÆ∏‰ªñ‰ª¨ËæìÂÖ•‰ªª‰ΩïÈùûÊ®°Á≥äÁöÑÂâçÁºÄÔºåÊØîÂ¶Ç`mycmd
    ins`ÔºåÁîöËá≥Âè™ÊòØ`mycmd i`ÔºåÂπ∂Â∞ÜÂÖ∂‰Ωú‰∏∫`mycmd install`ÁöÑÂà´Âêç„ÄÇÁé∞Âú®‰Ω†Èô∑ÂÖ•Âõ∞Â¢ÉÔºö‰Ω†‰∏çËÉΩÂÜçÊ∑ªÂä†‰ª•`i`ÂºÄÂ§¥ÁöÑÂëΩ‰ª§ÔºåÂõ†‰∏∫Êúâ‰∏Ä‰∫õËÑöÊú¨ÂÅáÂÆö`i`Ë°®Á§∫`install`„ÄÇ'
- en: There‚Äôs nothing wrong with aliases‚Äîsaving on typing is good‚Äîbut they should
    be explicit and remain stable.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: Âà´ÂêçÊ≤°ÊúâÈóÆÈ¢ò‚Äî‚ÄîËäÇÁúÅËæìÂÖ•ÊòØÂ•Ω‰∫ã‚Äî‚Äî‰ΩÜÂÆÉ‰ª¨Â∫îËØ•ÊòØÊòéÁ°ÆÁöÑÂπ∂‰øùÊåÅÁ®≥ÂÆö„ÄÇ
- en: '**Don‚Äôt create a ‚Äútime bomb.‚Äù** Imagine it‚Äôs 20 years from now. Will your command
    still run the same as it does today, or will it stop working because some external
    dependency on the internet has changed or is no longer maintained? The server
    most likely to not exist in 20 years is the one that you are maintaining right
    now. (But don‚Äôt build in a blocking call to Google Analytics either.)'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏çË¶ÅÂà∂ÈÄ†‚ÄúÂÆöÊó∂ÁÇ∏Âºπ‚Äù„ÄÇ** ÊÉ≥Ë±°‰∏Ä‰∏ã20Âπ¥Âêé„ÄÇ‰Ω†ÁöÑÂëΩ‰ª§‰ºöÂÉè‰ªäÂ§©‰∏ÄÊ†∑ËøêË°åÂêóÔºåËøòÊòØ‰ºöÂÅúÊ≠¢Â∑•‰ΩúÔºåÂõ†‰∏∫‰∏Ä‰∫õ‰∫íËÅîÁΩë‰∏äÁöÑÂ§ñÈÉ®‰æùËµñÂ∑≤ÁªèÊîπÂèòÔºåÊàñËÄÖ‰∏çÂÜçÁª¥Êä§‰∫ÜÔºüÂú®20Âπ¥ÂêéÊúÄÊúâÂèØËÉΩ‰∏çÂ≠òÂú®ÁöÑÊúçÂä°Âô®ÔºåÊ≠£ÊòØ‰Ω†Áé∞Âú®Âú®Áª¥Êä§ÁöÑÈÇ£‰∏™„ÄÇÔºà‰ΩÜ‰πü‰∏çË¶ÅËá™Â∏¶ÈòªÂ°ûË∞ÉÁî®Google
    Analytics„ÄÇÔºâ'
- en: Signals and control characters
  id: totrans-289
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ‰ø°Âè∑ÂíåÊéßÂà∂Â≠óÁ¨¶
- en: '**If a user hits Ctrl-C (the INT signal), exit as soon as possible.** Say something
    immediately, before you start clean-up. Add a timeout to any clean-up code so
    it can‚Äôt hang forever.'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÁî®Êà∑Êåâ‰∏ãCtrl-CÔºàINT‰ø°Âè∑ÔºâÔºåÂ∞ΩÂø´ÈÄÄÂá∫„ÄÇ** Âú®ÂºÄÂßãÊ∏ÖÁêÜ‰πãÂâçÔºåÁ´ãÂç≥ËØ¥ÁÇπ‰ªÄ‰πà„ÄÇÁªô‰ªª‰ΩïÊ∏ÖÁêÜ‰ª£Á†ÅÊ∑ªÂä†‰∏Ä‰∏™Ë∂ÖÊó∂Ôºå‰ª•Èò≤ÂÆÉÊ∞∏ËøúÊåÇËµ∑„ÄÇ'
- en: '**If a user hits Ctrl-C during clean-up operations that might take a long time,
    skip them.** Tell the user what will happen when they hit Ctrl-C again, in case
    it is a destructive action.'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÁî®Êà∑Âú®ÂèØËÉΩÈúÄË¶ÅÂæàÈïøÊó∂Èó¥ÁöÑÊ∏ÖÁêÜÊìç‰ΩúÊúüÈó¥Êåâ‰∏ãCtrl-CÔºåÂ∞±Ë∑≥ËøáÂÆÉ‰ª¨„ÄÇ** ÂëäËØâÁî®Êà∑Âú®‰ªñ‰ª¨ÂÜçÊ¨°Êåâ‰∏ãCtrl-CÊó∂‰ºöÂèëÁîü‰ªÄ‰πàÔºå‰ª•Èò≤ÂÆÉÊòØ‰∏Ä‰∏™ÂÖ∑ÊúâÁ†¥ÂùèÊÄßÁöÑÊìç‰Ωú„ÄÇ'
- en: For example, when quitting Docker Compose, you can hit Ctrl-C a second time
    to force your containers to stop immediately instead of shutting them down gracefully.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: ‰æãÂ¶ÇÔºåÈÄÄÂá∫Docker ComposeÊó∂Ôºå‰Ω†ÂèØ‰ª•ÂÜçÊ¨°Êåâ‰∏ãCtrl-CÔºåÂº∫Âà∂‰Ω†ÁöÑÂÆπÂô®Á´ãÂç≥ÂÅúÊ≠¢ËÄå‰∏çÊòØ‰ºòÈõÖÂú∞ÂÖ≥Èó≠ÂÆÉ‰ª¨„ÄÇ
- en: '[PRE16]'
  id: totrans-293
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Your program should expect to be started in a situation where clean-up has
    not been run. (See [Crash-only software: More than meets the eye](https://lwn.net/Articles/191059/).)'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: ‰Ω†ÁöÑÁ®ãÂ∫èÂ∫îËØ•ÊúüÂæÖÂú®ËøòÊ≤°ÊúâËøêË°åÊ∏ÖÁêÜÁöÑÁä∂ÊÄÅ‰∏ãÂêØÂä®„ÄÇÔºàÂèÇËßÅ[‰ªÖÂ¥©Ê∫ÉËΩØ‰ª∂ÔºöË∂ÖÂá∫È¢ÑÊúüÁöÑÊõ¥Â§ö](https://lwn.net/Articles/191059/).)
- en: Configuration
  id: totrans-295
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÈÖçÁΩÆ
- en: Command-line tools have lots of different types of configuration, and lots of
    different ways to supply it (flags, environment variables, project-level config
    files). The best way to supply each piece of configuration depends on a few factors,
    chief among them *specificity*, *stability* and *complexity*.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
- en: 'Configuration generally falls into a few categories:'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
- en: Likely to vary from one invocation of the command to the next.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Examples:'
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Setting the level of debugging output
  id: totrans-300
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Enabling a safe mode or dry run of a program
  id: totrans-301
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Recommendation: **Use [flags](#arguments-and-flags).** [Environment variables](#environment-variables)
    may or may not be useful as well.'
  id: totrans-302
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Generally stable from one invocation to the next, but not always. Might vary
    between projects. Definitely varies between different users working on the same
    project.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This type of configuration is often specific to an individual computer.
  id: totrans-304
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Examples:'
  id: totrans-305
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Providing a non-default path to items needed for a program to start
  id: totrans-306
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Specifying how or whether color should appear in output
  id: totrans-307
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Specifying an HTTP proxy server to route all requests through
  id: totrans-308
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Recommendation: **Use [flags](#arguments-and-flags) and probably [environment
    variables](#environment-variables) too.** Users may want to set the variables
    in their shell profile so they apply globally, or in `.env` for a particular project.'
  id: totrans-309
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: If this configuration is sufficiently complex, it may warrant a configuration
    file of its own, but environment variables are usually good enough.
  id: totrans-310
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Stable within a project, for all users.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This is the type of configuration that belongs in version control. Files like
    `Makefile`, `package.json` and `docker-compose.yml` are all examples of this.
  id: totrans-312
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: 'Recommendation: **Use a command-specific, version-controlled file.**'
  id: totrans-313
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '**Follow the XDG-spec.** In 2010 the X Desktop Group, now [freedesktop.org](https://freedesktop.org),
    developed a specification for the location of base directories where config files
    may be located. One goal was to limit the proliferation of dotfiles in a user‚Äôs
    home directory by supporting a general-purpose `~/.config` folder. The XDG Base
    Directory Specification ([full spec](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html),
    [summary](https://wiki.archlinux.org/index.php/XDG_Base_Directory#Specification))
    is supported by yarn, fish, wireshark, emacs, neovim, tmux, and many other projects
    you know and love.'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
- en: '**If you automatically modify configuration that is not your program‚Äôs, ask
    the user for consent and tell them exactly what you‚Äôre doing.** Prefer creating
    a new config file (e.g. `/etc/cron.d/myapp`) rather than appending to an existing
    config file (e.g. `/etc/crontab`). If you have to append or modify to a system-wide
    config file, use a dated comment in that file to delineate your additions.'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
- en: '**Apply configuration parameters in order of precedence.** Here is the precedence
    for config parameters, from highest to lowest:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
- en: Flags
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The running shell‚Äôs environment variables
  id: totrans-318
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Project-level configuration (eg. `.env`)
  id: totrans-319
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: User-level configuration
  id: totrans-320
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: System wide configuration
  id: totrans-321
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Environment variables
  id: totrans-322
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: '**Environment variables are for behavior that *varies with the context* in
    which a command is run.** The ‚Äúenvironment‚Äù of an environment variable is the
    terminal session‚Äîthe context in which the command is running. So, an env var might
    change each time a command runs, or between terminal sessions on one machine,
    or between instantiations of one project across several machines.'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
- en: Environment variables may duplicate the functionality of flags or configuration
    parameters, or they may be distinct from those things. See [Configuration](#configuration)
    for a breakdown of common types of configuration and recommendations on when environment
    variables are most appropriate.
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
- en: '**For maximum portability, environment variable names must only contain uppercase
    letters, numbers, and underscores (and mustn‚Äôt start with a number).** Which means
    `O_O` and `OWO` are the only emoticons that are also valid environment variable
    names.'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
- en: '**Aim for single-line environment variable values.** While multi-line values
    are possible, they create usability issues with the `env` command.'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
- en: '**Avoid commandeering widely used names.** Here‚Äôs a [list of POSIX standard
    env vars](https://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap08.html).'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
- en: '**Check general-purpose environment variables for configuration values when
    possible:**'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
- en: '`NO_COLOR`, to disable color (see [Output](#output)) or `FORCE_COLOR` to enable
    it and ignore the detection logic'
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`DEBUG`, to enable more verbose output'
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`EDITOR`, if you need to prompt the user to edit a file or input more than
    a single line'
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`HTTP_PROXY`, `HTTPS_PROXY`, `ALL_PROXY` and `NO_PROXY`, if you‚Äôre going to
    perform network operations (The HTTP library you‚Äôre using might already check
    for these.)'
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`SHELL`, if you need to open up an interactive session of the user‚Äôs preferred
    shell (If you need to execute a shell script, use a specific interpreter like
    `/bin/sh`)'
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`TERM`, `TERMINFO` and `TERMCAP`, if you‚Äôre going to use terminal-specific
    escape sequences'
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`TMPDIR`, if you‚Äôre going to create temporary files'
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`HOME`, for locating configuration files'
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`PAGER`, if you want to automatically page output'
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`LINES` and `COLUMNS`, for output that‚Äôs dependent on screen size (e.g. tables)'
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Read environment variables from `.env` where appropriate.** If a command
    defines environment variables that are unlikely to change as long as the user
    is working in a particular directory, then it should also read them from a local
    `.env` file so users can configure it differently for different projects without
    having to specify them every time. Many languages have libraries for reading `.env`
    files ([Rust](https://crates.io/crates/dotenv), [Node](https://www.npmjs.com/package/dotenv),
    [Ruby](https://github.com/bkeepers/dotenv)).'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
- en: '**Don‚Äôt use `.env` as a substitute for a proper [configuration file](#configuration).**
    `.env` files have a lot of limitations:'
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
- en: A `.env` file is not commonly stored in source control
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: (Therefore, any configuration stored in it has no history)
  id: totrans-342
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'It has only one data type: string'
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It lends itself to being poorly organized
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It makes encoding issues easy to introduce
  id: totrans-345
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It often contains sensitive credentials & key material that would be better
    stored more securely
  id: totrans-346
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If it seems like these limitations will hamper usability or security, then a
    dedicated config file might be more appropriate.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
- en: '**Do not read secrets from environment variables.** While environment variables
    may be convenient for storing secrets, they have proven too prone to leakage:'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
- en: Exported environment variables are sent to every process, and from there can
    easily leak into logs or be exfiltrated
  id: totrans-349
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Shell substitutions like `curl -H "Authorization: Bearer $BEARER_TOKEN"` will
    leak into globally-readable process state. (cURL offers the `-H @filename` alternative
    for reading sensitive headers from a file.)'
  id: totrans-350
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Docker container environment variables can be viewed by anyone with Docker daemon
    access via `docker inspect`
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Environment variables in systemd units are globally readable via `systemctl
    show`
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Secrets should only be accepted via credential files, pipes, `AF_UNIX` sockets,
    secret management services, or another IPC mechanism.
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
- en: Naming
  id: totrans-354
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: ‚ÄúNote the obsessive use of abbreviations and avoidance of capital letters; [Unix]
    is a system invented by people to whom repetitive stress disorder is what black
    lung is to miners. Long names get worn down to three-letter nubbins, like stones
    smoothed by a river.‚Äù ‚Äî Neal Stephenson, *[In the Beginning was the Command Line](https://web.stanford.edu/class/cs81n/command.txt)*
  id: totrans-355
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: 'The name of your program is particularly important on the CLI: your users will
    be typing it all the time, and it needs to be easy to remember and type.'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
- en: '**Make it a simple, memorable word.** But not too generic, or you‚Äôll step on
    the toes of other commands and confuse users. For example, both ImageMagick and
    Windows used the command `convert`.'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
- en: '**Use only lowercase letters, and dashes if you really need to.** `curl` is
    a good name, `DownloadURL` is not.'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: '**Âè™‰ΩøÁî®Â∞èÂÜôÂ≠óÊØçÔºåÂ¶ÇÊûúÂèØËÉΩÁöÑËØùÂèØ‰ª•‰ΩøÁî®Á†¥ÊäòÂè∑„ÄÇ** `curl` ÊòØ‰∏Ä‰∏™Â•ΩÂêçÂ≠óÔºå`DownloadURL` ‰∏çÊòØ„ÄÇ'
- en: '**Keep it short.** Users will be typing it all the time. Don‚Äôt make it *too*
    short: the very shortest commands are best reserved for the common utilities used
    all the time, such as `cd`, `ls`, `ps`.'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰øùÊåÅÁÆÄÁü≠„ÄÇ** Áî®Êà∑‰ºö‰∏ÄÁõ¥ËæìÂÖ•„ÄÇ‰∏çË¶Å*Â§™*Áü≠ÔºöÊúÄÁü≠ÁöÑÂëΩ‰ª§ÊúÄÂ•Ω‰øùÁïôÁªô‰∏ÄÁõ¥‰ΩøÁî®ÁöÑÂü∫Êú¨Â∑•ÂÖ∑ÔºåÊØîÂ¶Ç`cd` `ls` `ps`„ÄÇ'
- en: '**Make it easy to type.** If you expect people to type your command name all
    day, make it easy on their hands.'
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: '**ËÆ©ÂÆÉÊõ¥ÂÆπÊòìËæìÂÖ•„ÄÇ** Â¶ÇÊûú‰Ω†ÊúüÊúõ‰∫∫‰ª¨Êï¥Â§©ÈÉΩ‰ºöËæìÂÖ•‰Ω†ÁöÑÂëΩ‰ª§ÔºåÂ∞±Ë¶ÅËÆ©‰ªñ‰ª¨ÁöÑÊâãÊõ¥ËΩªÊùæ„ÄÇ'
- en: 'A real-world example: long before Docker Compose was `docker compose`, it was
    [`plum`](https://github.com/aanand/fig/blob/0eb7d308615bae1ad4be1ca5112ac7b6b6cbfbaf/setup.py#L26).
    This turned out to be such an awkward, one-handed hopscotch that it was immediately
    renamed to [`fig`](https://github.com/aanand/fig/commit/0cafdc9c6c19dab2ef2795979dc8b2f48f623379),
    which ‚Äì as well as being shorter ‚Äì flows much more easily.'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: ‰∏Ä‰∏™ÁúüÂÆûÁöÑ‰æãÂ≠êÔºöÊó©Âú® Docker Compose ÂèòÊàê`docker compose`‰πãÂâçÔºåÂÆÉÂè´[`plum`](https://github.com/aanand/fig/blob/0eb7d308615bae1ad4be1ca5112ac7b6b6cbfbaf/setup.py#L26)„ÄÇ‰ΩÜËøô‰∏™ÂêçÂ≠óÊòØÂ¶ÇÊ≠§Âà´Êâ≠Ôºå‰∏ÄÊâãÁé©Ë∑≥ÊàøÂ≠êÔºåÊâÄ‰ª•Á´ãÂàªÊîπÂêç‰∏∫[`fig`](https://github.com/aanand/fig/commit/0cafdc9c6c19dab2ef2795979dc8b2f48f623379)ÔºåËÄå‰∏îÊõ¥Áü≠ÔºåÊµÅÁïÖÂ∫¶Êõ¥Â§ß„ÄÇ
- en: '*Further reading: [The Poetics of CLI Command Names](https://smallstep.com/blog/the-poetics-of-cli-command-names/)*'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: '*Êü•ÈòÖÊõ¥Â§öÔºö[CLIÂëΩ‰ª§ÂêçÁß∞ÁöÑÈüµÂæã](https://smallstep.com/blog/the-poetics-of-cli-command-names/)*'
- en: Distribution
  id: totrans-363
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÂèëÂ∏É
- en: '**If possible, distribute as a single binary.** If your language doesn‚Äôt compile
    to binary executables as standard, see if it has something like [PyInstaller](https://www.pyinstaller.org/).
    If you really can‚Äôt distribute as a single binary, use the platform‚Äôs native package
    installer so you aren‚Äôt scattering things on disk that can‚Äôt easily be removed.
    Tread lightly on the user‚Äôs computer.'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: '**Â¶ÇÊûúÂèØËÉΩÁöÑËØùÔºåÂàÜÂèëÊàê‰∏Ä‰∏™Âçï‰∏ÄÁöÑ‰∫åËøõÂà∂Êñá‰ª∂„ÄÇ** Â¶ÇÊûú‰Ω†ÁöÑËØ≠Ë®Ä‰∏çÁ¨¶ÂêàÊ†áÂáÜÁºñËØëÊàê‰∫åËøõÂà∂ÂèØÊâßË°åÊñá‰ª∂ÔºåËØ∑Êü•ÁúãÁ±ª‰ºº[PyInstaller](https://www.pyinstaller.org/)ÁöÑ‰∏úË•ø„ÄÇÂ¶ÇÊûúÁúüÁöÑÊó†Ê≥ï‰Ωú‰∏∫‰∏Ä‰∏™Âçï‰∏ÄÁöÑ‰∫åËøõÂà∂Êñá‰ª∂ÂàÜÂèëÔºå‰ΩøÁî®Âπ≥Âè∞ÁöÑÊú¨Âú∞ËΩØ‰ª∂ÂåÖÂÆâË£ÖÁ®ãÂ∫èÔºåËøôÊ†∑Â∞±‰∏ç‰ºöÊää‰∏úË•øÈöèÊÑèÊï£Â∏ÉÂú®ËÆ°ÁÆóÊú∫‰∏äÔºåÂæàÈöæÊ∏ÖÁêÜ„ÄÇÂØπÁî®Êà∑ÁöÑËÆ°ÁÆóÊú∫Â∞èÂøÉÁøºÁøº„ÄÇ'
- en: If you‚Äôre making a language-specific tool, such as a code linter, then this
    rule doesn‚Äôt apply‚Äîit‚Äôs safe to assume the user has an interpreter for that language
    installed on their computer.
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: Â¶ÇÊûú‰Ω†Âú®Âà∂‰Ωú‰∏ÄÁßçÁâπÂÆöËØ≠Ë®ÄÁöÑÂ∑•ÂÖ∑ÔºåÊØîÂ¶Ç‰ª£Á†ÅÊ£ÄÊü•Âô®ÔºåÈÇ£‰πàËøôÊù°ËßÑÂàô‰∏çÈÄÇÁî®‚Äî‚ÄîÂèØ‰ª•ÂÅáËÆæÁî®Êà∑ÁöÑËÆ°ÁÆóÊú∫ÈáåÂ∑≤ÁªèÂÆâË£ÖÂ•Ω‰∫ÜËØ•ËØ≠Ë®ÄÁöÑËß£ÈáäÂô®„ÄÇ
- en: '**Make it easy to uninstall.** If it needs instructions, put them at the bottom
    of the install instructions‚Äîone of the most common times people want to uninstall
    software is right after installing it.'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: '**ËÆ©Âç∏ËΩΩÂÆπÊòì„ÄÇ** Â¶ÇÊûúÈúÄË¶ÅËØ¥ÊòéÔºåÊääÂÆÉ‰ª¨ÊîæÂú®ÂÆâË£ÖËØ¥ÊòéÁöÑÊúÄÂêé‰∏ÄÈÉ®ÂàÜ‚Äî‚ÄîÂú®ÂÆâË£ÖÂÆåËΩØ‰ª∂ÂêéÔºå‰∫∫‰ª¨ÊúÄÂ∏∏ËßÅÁöÑÊó∂ÂÄô‰πã‰∏ÄÂ∞±ÊòØÊÉ≥Ë¶ÅÂç∏ËΩΩÂÆÉ„ÄÇ'
- en: Analytics
  id: totrans-367
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ÂàÜÊûê
- en: Usage metrics can be helpful to understand how users are using your program,
    how to make it better, and where to focus effort. But, unlike websites, users
    of the command-line expect to be in control of their environment, and it is surprising
    when programs do things in the background without telling them.
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: ‰ΩøÁî®Â∫¶ÈáèÊåáÊ†áÊúâÂä©‰∫é‰∫ÜËß£Áî®Êà∑Â¶Ç‰Ωï‰ΩøÁî®‰Ω†ÁöÑÁ®ãÂ∫èÔºåÂ¶Ç‰Ωï‰ΩøÂÆÉÊõ¥Â•ΩÔºå‰ª•ÂèäÂ∫îËØ•ÊääÂ∑•‰ΩúÈáçÁÇπÊîæÂú®Âì™Èáå„ÄÇ‰ΩÜÊòØÔºå‰∏éÁΩëÁ´ô‰∏çÂêåÔºåÂëΩ‰ª§Ë°åÁöÑÁî®Êà∑Â∏åÊúõÊéßÂà∂Ëá™Â∑±ÁöÑÁéØÂ¢ÉÔºåÁ®ãÂ∫èÂú®‰∏çÂëäÁü•‰ªñ‰ª¨ÁöÑÊÉÖÂÜµ‰∏ãÂÅö‰∫ãÊòØ‰ª§‰∫∫ÊÉäËÆ∂ÁöÑ„ÄÇ
- en: '**Do not phone home usage or crash data without consent.** Users will find
    out, and they will be angry. Be very explicit about what you collect, why you
    collect it, how anonymous it is and how you go about anonymizing it, and how long
    you retain it for.'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏çË¶ÅÊú™ÁªèÂêåÊÑèÂ∞±‰º†ÈÄÅ‰ΩøÁî®ÊÉÖÂÜµÊàñÂ¥©Ê∫ÉÊï∞ÊçÆ**„ÄÇÁî®Êà∑‰ºöÂèëÁé∞Ôºå‰ªñ‰ª¨‰ºöÁîüÊ∞î„ÄÇÈùûÂ∏∏ÊòéÁ°ÆÂú∞ËØ¥Êòé‰Ω†Êî∂ÈõÜ‰∫Ü‰ªÄ‰πàÔºå‰∏∫‰ªÄ‰πàÊî∂ÈõÜÂÆÉÔºåÂåøÂêçÁ®ãÂ∫¶Â¶Ç‰ΩïÔºåÂ¶Ç‰ΩïËøõË°åÂåøÂêçÂåñÔºå‰ª•Âèä‰øùÂ≠òÂ§ö‰πÖ„ÄÇ'
- en: Ideally, ask users whether they want to contribute data (‚Äúopt-in‚Äù). If you choose
    to do it by default (‚Äúopt-out‚Äù), then clearly tell users about it on your website
    or first run, and make it easy to disable.
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: ÊúÄÂ•ΩËØ¢ÈóÆÁî®Êà∑ÊòØÂê¶ÊÑøÊÑèË¥°ÁåÆÊï∞ÊçÆÔºà‚ÄúÈÄâÊã©Âä†ÂÖ•‚ÄùÔºâ„ÄÇÂ¶ÇÊûú‰Ω†ÈÄâÊã©ÈªòËÆ§ËøõË°åÔºà‚ÄúÈÄâÊã©ÈÄÄÂá∫‚ÄùÔºâÔºåÈÇ£‰πàÂú®‰Ω†ÁöÑÁΩëÁ´ôÊàñËÄÖÈ¶ñÊ¨°ËøêË°åÊó∂Ë¶ÅÊòéÁ°ÆÂëäÁü•Áî®Êà∑ÔºåÂπ∂Êèê‰æõÁÆÄÂçïÁöÑÁ¶ÅÁî®ÊñπÊ≥ï„ÄÇ
- en: 'Examples of projects that collect usage statistics:'
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: Êî∂ÈõÜ‰ΩøÁî®ÁªüËÆ°ÁöÑÈ°πÁõÆËåÉ‰æãÔºö
- en: '**Consider alternatives to collecting analytics.**'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: '**ËÄÉËôëÊî∂ÈõÜÂàÜÊûêÁöÑÊõø‰ª£ÊñπÊ≥ï„ÄÇ**'
- en: Instrument your web docs. If you want to know how people are using your CLI
    tool, make a set of docs around the use cases you‚Äôd like to understand best, and
    see how they perform over time. Look at what people search for within your docs.
  id: totrans-373
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ÂØπ‰Ω†ÁöÑÁΩëÁªúÊñáÊ°£ËøõË°åË∞ÉÊü•„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥‰∫ÜËß£‰∫∫‰ª¨Â¶Ç‰Ωï‰ΩøÁî®‰Ω†ÁöÑCLIÂ∑•ÂÖ∑ÔºåÂà∂‰Ωú‰∏ÄÁªÑÂõ¥Áªï‰Ω†ÊúÄÊÉ≥‰∫ÜËß£ÁöÑÁî®‰æãÁöÑÊñáÊ°£ÔºåÂπ∂Êü•ÁúãÂÆÉ‰ª¨ÈöèÁùÄÊó∂Èó¥ÁöÑË°®Áé∞„ÄÇÊü•Áúã‰∫∫‰ª¨Âú®ÊñáÊ°£‰∏≠ÊêúÁ¥¢‰∫Ü‰ªÄ‰πà„ÄÇ
- en: Instrument your downloads. This can be a rough metric to understand usage and
    what operating systems your users are running.
  id: totrans-374
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ÂØπ‰Ω†ÁöÑ‰∏ãËΩΩËøõË°åË∞ÉÊü•„ÄÇËøôÂèØ‰ª•ÊòØ‰∫ÜËß£Áî®Êà∑‰ΩøÁî®Á®ãÂ∫¶ÂíåÁî®Êà∑Ê≠£Âú®‰ΩøÁî®ÁöÑÊìç‰ΩúÁ≥ªÁªüÁöÑ‰∏Ä‰∏™Á≤óÁï•ÊåáÊ†á„ÄÇ
- en: Talk to your users. Reach out and ask people how they‚Äôre using your tool. Encourage
    feedback and feature requests in your docs and repos, and try to draw out more
    context from those who submit feedback.
  id: totrans-375
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ‰∏éÁî®Êà∑‰∫§ÊµÅ„ÄÇ‰∏ªÂä®Âá∫ÂáªÔºåËØ¢ÈóÆ‰∫∫‰ª¨Â¶Ç‰Ωï‰ΩøÁî®‰Ω†ÁöÑÂ∑•ÂÖ∑„ÄÇÂú®‰Ω†ÁöÑÊñáÊ°£ÂíåÂ≠òÂÇ®Â∫ì‰∏≠ÈºìÂä±ÂèçÈ¶àÂíåÂäüËÉΩËØ∑Ê±ÇÔºåÂπ∂Â∞ùËØï‰ªéÊèê‰∫§ÂèçÈ¶àÁöÑ‰∫∫ÈÇ£ÈáåËé∑ÂèñÊõ¥Â§ö‰∏ä‰∏ãÊñá„ÄÇ
- en: '*Further reading: [Open Source Metrics](https://opensource.guide/metrics/)*'
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: '*Êü•ÈòÖÊõ¥Â§öÔºö[ÂºÄÊ∫êÂ∫¶Èáè](https://opensource.guide/metrics/)*'
- en: Further reading
  id: totrans-377
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Êõ¥Â§öÈòÖËØª
- en: </main>
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: '**‰∏ªË¶ÅÈ°µ'

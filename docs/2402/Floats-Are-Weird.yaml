- en: <!--yml
  id: totrans-split-0
  prefs: []
  type: TYPE_NORMAL
  zh: <!--yml
- en: 'category: æœªåˆ†ç±»'
  id: totrans-split-1
  prefs: []
  type: TYPE_NORMAL
  zh: 'category: æœªåˆ†ç±»'
- en: 'date: 2024-05-27 15:00:41'
  id: totrans-split-2
  prefs: []
  type: TYPE_NORMAL
  zh: 'date: 2024-05-27 15:00:41'
- en: -->
  id: totrans-split-3
  prefs: []
  type: TYPE_NORMAL
  zh: -->
- en: Floats Are Weird
  id: totrans-split-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: æµ®ç‚¹æ•°æ˜¯å¥‡æ€ªçš„
- en: æ¥æºï¼š[https://a.exozy.me/posts/floats-weird/](https://a.exozy.me/posts/floats-weird/)
  id: totrans-split-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: æ¥æºï¼š[https://a.exozy.me/posts/floats-weird/](https://a.exozy.me/posts/floats-weird/)
- en: 'Floats are weird. Anyways, hereâ€™s a basic calculus exercise:'
  id: totrans-split-6
  prefs: []
  type: TYPE_NORMAL
  zh: æµ®ç‚¹æ•°å¾ˆå¥‡æ€ªã€‚æ— è®ºå¦‚ä½•ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªåŸºæœ¬çš„å¾®ç§¯åˆ†ç»ƒä¹ ï¼š
- en: \[\lim_{x \to 0} \frac{e^x-1}{x} = 1\]
  id: totrans-split-7
  prefs: []
  type: TYPE_NORMAL
  zh: \[\lim_{x \to 0} \frac{e^x-1}{x} = 1\]
- en: However, I wonâ€™t prove that limit here, because this is a post about floats
    being weird, not a post about calculus. Instead, letâ€™s try to approximate this
    limit numerically using Python, because whatâ€™s the worst that could happen? Letâ€™s
    write that fraction as a Python function and plug in smaller and smaller $x$.
  id: totrans-split-8
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œåœ¨è¿™é‡Œæˆ‘ä¸ä¼šè¯æ˜è¿™ä¸ªæé™ï¼Œå› ä¸ºè¿™ç¯‡æ–‡ç« æ˜¯å…³äºæµ®ç‚¹æ•°å¥‡æ€ªæ€§ï¼Œè€Œä¸æ˜¯å¾®ç§¯åˆ†æ–‡ç« ã€‚ç›¸åï¼Œè®©æˆ‘ä»¬å°è¯•ä½¿ç”¨Pythonå¯¹è¿™ä¸ªæé™è¿›è¡Œæ•°å€¼è¿‘ä¼¼ï¼Œå› ä¸ºæœ€åçš„æƒ…å†µæ˜¯ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬å°†è¯¥åˆ†æ•°å†™æˆä¸€ä¸ªPythonå‡½æ•°ï¼Œå¹¶æ’å…¥è¶Šæ¥è¶Šå°çš„$x$ã€‚
- en: '[PRE0]'
  id: totrans-split-9
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '`f(1e-9)` returns 1.000000082740371 and `f(1e-12)` returns 1.000088900582341,
    which is already weird. Shouldnâ€™t the approximation get better with smaller $x$?
    However, trouble really strikes with `f(1e-15)`. It returns a shocking 1.1102230246251565,
    which has a more than 10% error!'
  id: totrans-split-10
  prefs: []
  type: TYPE_NORMAL
  zh: '`f(1e-9)`è¿”å›1.000000082740371ï¼Œè€Œ`f(1e-12)`è¿”å›1.000088900582341ï¼Œè¿™å·²ç»å¾ˆå¥‡æ€ªäº†ã€‚éšç€è¾ƒå°çš„$x$ï¼Œè¿‘ä¼¼å€¼éš¾é“ä¸åº”è¯¥å˜å¾—æ›´å¥½å—ï¼Ÿç„¶è€Œï¼ŒçœŸæ­£çš„éº»çƒ¦å‡ºç°åœ¨`f(1e-15)`ã€‚å®ƒè¿”å›ä¸€ä¸ªæƒŠäººçš„1.1102230246251565ï¼Œè¿™æœ‰è¶…è¿‡10%çš„è¯¯å·®ï¼'
- en: But, with this one weird trick&mldr;
  id: totrans-split-11
  prefs: []
  type: TYPE_NORMAL
  zh: ä½†æ˜¯ï¼Œæœ‰äº†è¿™ä¸ªå¥‡æ€ªçš„æŠ€å·§&mldr;
- en: '[PRE1]'
  id: totrans-split-12
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '`g(1e-9)` returns 1.0000000005, `g(1e-12)` returns 1.0000000000005, and `g(1e-15)`
    returns 1.0000000000000004, giving us exactly what we want! ğŸ¤¯'
  id: totrans-split-13
  prefs: []
  type: TYPE_NORMAL
  zh: '`g(1e-9)`è¿”å›1.0000000005ï¼Œ`g(1e-12)`è¿”å›1.0000000000005ï¼Œè€Œ`g(1e-15)`è¿”å›1.0000000000000004ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼
    ğŸ¤¯'
- en: Wait a minute! This new function is doing redundant computation! Why should
    we take $\log(e^x)$ when we can simply divide by $x$? How does this reduce the
    error so effectively?
  id: totrans-split-14
  prefs: []
  type: TYPE_NORMAL
  zh: ç­‰ä¸€ä¸‹ï¼è¿™ä¸ªæ–°å‡½æ•°æ­£åœ¨åšå†—ä½™è®¡ç®—ï¼ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å–$\log(e^x)$ï¼Œè€Œä¸æ˜¯ç®€å•åœ°é™¤ä»¥$x$ï¼Ÿè¿™æ˜¯å¦‚ä½•å¦‚æ­¤æœ‰æ•ˆåœ°å‡å°‘é”™è¯¯çš„ï¼Ÿ
- en: An assumption
  id: totrans-split-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: å‡è®¾
- en: To explain this phenomenon, we need to make a huge simplifying assumption. For
    some operation like $x+y$ when done using floating-point arithmetic, the final
    answer wonâ€™t be exactly equal to the exact value of $x+y$. Letâ€™s use $fl(x+y)$
    to denote the value of this floating-point calculation. Then we will assume that
    $fl(x+y) = (x+y)(1+\delta)$ for some small $\delta$. The upper bound on $\delta$
    depends on what kind of floating-point numbers weâ€™re using. Python uses IEEE 754
    double-precision floats, which have a $\delta$ with magnitude at most $2^{-53}$.
  id: totrans-split-16
  prefs: []
  type: TYPE_NORMAL
  zh: è¦è§£é‡Šè¿™ç§ç°è±¡ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªå·¨å¤§çš„ç®€åŒ–å‡è®¾ã€‚å¯¹äºåƒ$x+y$è¿™æ ·çš„æŸäº›æ“ä½œï¼Œä½¿ç”¨æµ®ç‚¹è¿ç®—æ—¶ï¼Œæœ€ç»ˆç­”æ¡ˆä¸ä¼šå®Œå…¨ç­‰äº$x+y$çš„ç²¾ç¡®å€¼ã€‚è®©æˆ‘ä»¬ç”¨$fl(x+y)$è¡¨ç¤ºè¿™ä¸ªæµ®ç‚¹è®¡ç®—çš„å€¼ã€‚ç„¶åï¼Œæˆ‘ä»¬å‡è®¾$fl(x+y)
    = (x+y)(1+\delta)$ï¼Œå…¶ä¸­$\delta$å¾ˆå°ã€‚$\delta$çš„ä¸Šç•Œå–å†³äºæˆ‘ä»¬ä½¿ç”¨çš„æµ®ç‚¹æ•°ç±»å‹ã€‚Pythonä½¿ç”¨IEEE 754åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œå…¶$\delta$çš„å¤§å°æœ€å¤šä¸º$2^{-53}$ã€‚
- en: You might be wondering why we didnâ€™t choose a different assumption that $|fl(x+y)
    - (x+y)| < \epsilon$ for some small $\epsilon$. This is because floating-point
    numbers become spaced out farther apart as they get larger, so $fl(x+y)$ for large
    $x, y$ might have a large absolute difference from $x+y$, but the relative difference
    of $\frac{fl(x+y)}{x+y}$ will still be small. Thus, our original assumption is
    indeed the correct one to make.
  id: totrans-split-17
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½ä¼šæƒ³ä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰é€‰æ‹©ä¸€ä¸ªä¸åŒçš„å‡è®¾ï¼Œå³$|fl(x+y) - (x+y)| < \epsilon$ï¼Œå…¶ä¸­$\epsilon$å¾ˆå°ã€‚è¿™æ˜¯å› ä¸ºéšç€æµ®ç‚¹æ•°å˜å¾—è¶Šæ¥è¶Šå¤§ï¼Œå®ƒä»¬ä¹‹é—´çš„é—´éš”ä¹Ÿå˜å¾—æ›´å¤§ï¼Œå› æ­¤å¯¹äºå¤§çš„$x,
    y$ï¼Œ$fl(x+y)$å¯èƒ½ä¸$x+y$æœ‰å¾ˆå¤§çš„ç»å¯¹å·®å¼‚ï¼Œä½†å…¶ç›¸å¯¹å·®å¼‚$\frac{fl(x+y)}{x+y}$ä»ç„¶å¾ˆå°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ€åˆçš„å‡è®¾ç¡®å®æ˜¯æ­£ç¡®çš„ã€‚
- en: We will also assume that this $1+\delta$ assumption holds for other operations
    like subtraction, multiplication, exponentiation, and logarithms. Now we have
    the necessary tools to tackle the problem!
  id: totrans-split-18
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬è¿˜å‡è®¾è¿™ç§$1+\delta$å‡è®¾å¯¹å‡æ³•ã€ä¹˜æ³•ã€æŒ‡æ•°è¿ç®—å’Œå¯¹æ•°è¿ç®—ç­‰å…¶ä»–æ“ä½œåŒæ ·æˆç«‹ã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†è§£å†³é—®é¢˜çš„å¿…è¦å·¥å…·ï¼
- en: Analyzing f
  id: totrans-split-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ†æf
- en: First, letâ€™s find $fl\left(\frac{e^x-1}{x}\right)$. Using our $1+\delta$ assumption
    repeatedly, we have
  id: totrans-split-20
  prefs: []
  type: TYPE_NORMAL
  zh: é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ‰¾å‡º$fl\left(\frac{e^x-1}{x}\right)$ã€‚ä½¿ç”¨æˆ‘ä»¬çš„$1+\delta$å‡è®¾ï¼Œæˆ‘ä»¬æœ‰
- en: \[fl\left(\frac{e^x-1}{x}\right) = \frac{(e^x(1+\delta_1)-1)(1+\delta_2)}{x}(1+\delta_3).\]
  id: totrans-split-21
  prefs: []
  type: TYPE_NORMAL
  zh: \[fl\left(\frac{e^x-1}{x}\right) = \frac{(e^x(1+\delta_1)-1)(1+\delta_2)}{x}(1+\delta_3).\]
- en: You might remember from calculus that $e^x = 1+x+\frac{x^2}{2!}+\frac{x^3}{3!}+\dots$,
    which is a Taylor series. Since we are only plugging in very small values of $x$,
    $x^2$ and $x^3$ and other higher powers are very, very small numbers so we can
    simply ignore them. Weâ€™ll just say $e^x \approx 1+x$. This is a common trick in
    math and physics. We now get
  id: totrans-split-22
  prefs: []
  type: TYPE_NORMAL
  zh: ä½ å¯èƒ½è¿˜è®°å¾—ä»å¾®ç§¯åˆ†ä¸­$e^x = 1+x+\frac{x^2}{2!}+\frac{x^3}{3!}+\dots$ï¼Œè¿™æ˜¯ä¸€ä¸ªæ³°å‹’çº§æ•°ã€‚å› ä¸ºæˆ‘ä»¬åªæ’å…¥äº†éå¸¸å°çš„$x$å€¼ï¼Œ$x^2$ã€$x^3$å’Œå…¶ä»–æ›´é«˜æ¬¡å¹‚éƒ½æ˜¯éå¸¸éå¸¸å°çš„æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å•åœ°å¿½ç•¥å®ƒä»¬ã€‚æˆ‘ä»¬åªè¯´$e^x
    \approx 1+x$ã€‚è¿™åœ¨æ•°å­¦å’Œç‰©ç†ä¸­æ˜¯ä¸€ä¸ªå¸¸è§çš„æŠ€å·§ã€‚ç°åœ¨æˆ‘ä»¬å¾—åˆ°
- en: \[fl\left(\frac{e^x-1}{x}\right) = \frac{((1+x)(1+\delta_1)-1)(1+\delta_2)}{x}(1+\delta_3)
    = \frac{(x+\delta_1+x\delta_1)(1+\delta_2)}{x}(1+\delta_3).\]
  id: totrans-split-23
  prefs: []
  type: TYPE_NORMAL
  zh: \[fl\left(\frac{e^x-1}{x}\right) = \frac{((1+x)(1+\delta_1)-1)(1+\delta_2)}{x}(1+\delta_3)
    = \frac{(x+\delta_1+x\delta_1)(1+\delta_2)}{x}(1+\delta_3).\]
- en: Again, since $x$ is small, $x\delta_1$ will be absolutely tiny, so we can also
    ignore it. Thus, the whole thing simplifies to
  id: totrans-split-24
  prefs: []
  type: TYPE_NORMAL
  zh: å†æ¬¡ï¼Œç”±äº $x$ å¾ˆå°ï¼Œ$x\delta_1$ å°†éå¸¸å¾®å°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥å¿½ç•¥å®ƒã€‚å› æ­¤ï¼Œæ•´ä¸ªè¿‡ç¨‹ç®€åŒ–ä¸º
- en: \[fl\left(\frac{e^x-1}{x}\right) = (1+\frac{\delta_1}{x})(1+\delta_2)(1+\delta_3).\]
  id: totrans-split-25
  prefs: []
  type: TYPE_NORMAL
  zh: \[fl\left(\frac{e^x-1}{x}\right) = (1+\frac{\delta_1}{x})(1+\delta_2)(1+\delta_3).\]
- en: 'If we plug in $x = 10^{-15}, \delta_1 = 2^{-53}$, we get $1+\frac{\delta_1}{x}
    = 1.1110$ which is pretty similar to the actual error that we got at the beginning!
    Cool, now we can see the source of the error: $x$ is in the denominator, so as
    it gets smaller, the error grows.'
  id: totrans-split-26
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘ä»¬å°† $x = 10^{-15}, \delta_1 = 2^{-53}$ ä»£å…¥ï¼Œæˆ‘ä»¬å¾—åˆ° $1+\frac{\delta_1}{x} = 1.1110$ï¼Œè¿™ä¸ä¸€å¼€å§‹å¾—åˆ°çš„å®é™…è¯¯å·®éå¸¸ç›¸ä¼¼ï¼å¾ˆæ£’ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é”™è¯¯çš„æºå¤´äº†ï¼š$x$
    åœ¨åˆ†æ¯ä¸­ï¼Œæ‰€ä»¥éšç€ $x$ å˜å°ï¼Œè¯¯å·®å¢å¤§ã€‚
- en: Analyzing g
  id: totrans-split-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: åˆ†æ g
- en: Next, letâ€™s find $fl\left(\frac{e^x-1}{\log(e^x)}\right)$. Using our favorite
    assumption again, we get
  id: totrans-split-28
  prefs: []
  type: TYPE_NORMAL
  zh: æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ‰¾å‡º $fl\left(\frac{e^x-1}{\log(e^x)}\right)$ã€‚å†æ¬¡ä½¿ç”¨æˆ‘ä»¬æœ€å–œæ¬¢çš„å‡è®¾ï¼Œæˆ‘ä»¬å¾—åˆ°
- en: \[fl\left(\frac{e^x-1}{\log(e^x)}\right) = \frac{(e^x(1+\delta_1)-1)(1+\delta_2)}{\log(e^x(1+\delta_1))(1+\delta_4)}(1+\delta_3).\]
  id: totrans-split-29
  prefs: []
  type: TYPE_NORMAL
  zh: \[fl\left(\frac{e^x-1}{\log(e^x)}\right) = \frac{(e^x(1+\delta_1)-1)(1+\delta_2)}{\log(e^x(1+\delta_1))(1+\delta_4)}(1+\delta_3).\]
- en: This looks pretty scary, but we can use our $e^x \approx 1+x$ and $x\delta_1
    \approx 0$ approximations to reduce it down to
  id: totrans-split-30
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™çœ‹èµ·æ¥ç›¸å½“å¯æ€•ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ $e^x \approx 1+x$ å’Œ $x\delta_1 \approx 0$ çš„è¿‘ä¼¼å°†å…¶ç®€åŒ–ä¸º
- en: \[fl\left(\frac{e^x-1}{\log(e^x)}\right) = \frac{(x+\delta_1)(1+\delta_2)}{\log(1+x+\delta_1)(1+\delta_4)}(1+\delta_3).\]
  id: totrans-split-31
  prefs: []
  type: TYPE_NORMAL
  zh: \[fl\left(\frac{e^x-1}{\log(e^x)}\right) = \frac{(x+\delta_1)(1+\delta_2)}{\log(1+x+\delta_1)(1+\delta_4)}(1+\delta_3).\]
- en: 'Now we need one last Taylor series, for $\log(x)$. Since this post isnâ€™t about
    calculus (although it kind of is), Iâ€™m just going to give you the Taylor series
    that we need: $\log(x) = (x-1) - \frac{(x-1)^2}{2} + \frac{(x-1)^3}{3} - \frac{(x-1)^4}{4}
    + \dots$ (this series doesnâ€™t converge for all $x$, but whatever). The important
    thing is that $(x-1)^2$ and the higher powers are going to be very small, since
    our $x$ that weâ€™re plugging into $\log(x)$ is $1+x+\delta_1$. Thus, we can just
    ignore them and conclude $\log(x) \approx x-1$.'
  id: totrans-split-32
  prefs: []
  type: TYPE_NORMAL
  zh: ç°åœ¨æˆ‘ä»¬éœ€è¦æœ€åä¸€ä¸ª Taylor çº§æ•°ï¼Œç”¨äº $\log(x)$ã€‚ç”±äºè¿™ç¯‡æ–‡ç« ä¸æ˜¯å…³äºå¾®ç§¯åˆ†çš„ï¼ˆå°½ç®¡å®ƒæœ‰ç‚¹ï¼‰ï¼Œæˆ‘åªæ˜¯ç»™ä½ æˆ‘ä»¬éœ€è¦çš„ Taylor çº§æ•°ï¼š$\log(x)
    = (x-1) - \frac{(x-1)^2}{2} + \frac{(x-1)^3}{3} - \frac{(x-1)^4}{4} + \dots$ï¼ˆè¿™ä¸ªçº§æ•°å¹¶ä¸å¯¹æ‰€æœ‰
    $x$ æ”¶æ•›ï¼Œä½†æ— æ‰€è°“ï¼‰ã€‚é‡è¦çš„æ˜¯ï¼Œ$(x-1)^2$ å’Œæ›´é«˜é˜¶çš„å¹‚ä¼šéå¸¸å°ï¼Œå› ä¸ºæˆ‘ä»¬å°† $x$ æ’å…¥ $\log(x)$ çš„ $1+x+\delta_1$ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¿½ç•¥å®ƒä»¬ï¼Œå¹¶å¾—å‡ºç»“è®º
    $\log(x) \approx x-1$ã€‚
- en: Something magical happens when we plug that approximation in. The $x+\delta_1$
    in the numerator and the denominator cancel out! Weâ€™re just left with
  id: totrans-split-33
  prefs: []
  type: TYPE_NORMAL
  zh: å½“æˆ‘ä»¬å°†è¿™ä¸ªè¿‘ä¼¼å€¼ä»£å…¥æ—¶ï¼Œä¸€äº›ç¥å¥‡çš„äº‹æƒ…å‘ç”Ÿäº†ã€‚åˆ†å­ä¸­çš„ $x+\delta_1$ å’Œåˆ†æ¯ä¸­çš„ $x$ æŠµæ¶ˆäº†ï¼æˆ‘ä»¬åªå‰©ä¸‹
- en: \[fl\left(\frac{e^x-1}{\log(e^x)}\right) = \frac{1+\delta_2}{1+\delta_4}(1+\delta_3).\]
  id: totrans-split-34
  prefs: []
  type: TYPE_NORMAL
  zh: \[fl\left(\frac{e^x-1}{\log(e^x)}\right) = \frac{1+\delta_2}{1+\delta_4}(1+\delta_3).\]
- en: Awesome! Now we can clearly see that for small $x$, the resulting error is tiny.
    You might be wondering why there isnâ€™t an $x$ in this answer. When we plugged
    in $x = 10^{-6}$, it wasnâ€™t all that close to 1\. This is because with $x = 10^{-6}$,
    our approximations of $e^x \approx 1+x$ and $\log(x) \approx x-1$ arenâ€™t exactly
    valid since the squared terms do contribute a bit. Basically, our answer is only
    true for when $x$ is very small and close to $10^{-15}$.
  id: totrans-split-35
  prefs: []
  type: TYPE_NORMAL
  zh: å¤ªæ£’äº†ï¼ç°åœ¨æˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œå¯¹äºå°çš„ $x$ï¼Œå¾—åˆ°çš„è¯¯å·®æ˜¯å¾®å°çš„ã€‚ä½ å¯èƒ½ä¼šæƒ³çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ªç­”æ¡ˆä¸­æ²¡æœ‰ $x$ã€‚å½“æˆ‘ä»¬æ’å…¥ $x = 10^{-6}$
    æ—¶ï¼Œå®ƒå¹¶ä¸æ¥è¿‘äº 1ã€‚è¿™æ˜¯å› ä¸ºå½“ $x = 10^{-6}$ æ—¶ï¼Œæˆ‘ä»¬å¯¹ $e^x \approx 1+x$ å’Œ $\log(x) \approx x-1$
    çš„è¿‘ä¼¼å¹¶ä¸å®Œå…¨æœ‰æ•ˆï¼Œå› ä¸ºå¹³æ–¹é¡¹ç¡®å®ä¼šæœ‰æ‰€è´¡çŒ®ã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬çš„ç­”æ¡ˆåªå¯¹ $x$ éå¸¸å°ä¸”æ¥è¿‘ $10^{-15}$ æ—¶æ‰æˆç«‹ã€‚
- en: Intuitively, `g` is more accurate than `f` because the errors of the $e^x$ in
    the numerator and denominator end up cancelling each other out, but this is actually
    a pretty misleading explanation. The only way to see why this happens is to crunch
    through the analysis.
  id: totrans-split-36
  prefs: []
  type: TYPE_NORMAL
  zh: ç›´è§‰ä¸Šï¼Œ`g` æ¯” `f` æ›´å‡†ç¡®ï¼Œå› ä¸ºåˆ†å­å’Œåˆ†æ¯ä¸­çš„ $e^x$ çš„è¯¯å·®æœ€ç»ˆæŠµæ¶ˆäº†ï¼Œä½†è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªç›¸å½“è¯¯å¯¼äººçš„è§£é‡Šã€‚è¦çœ‹åˆ°ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå”¯ä¸€çš„æ–¹æ³•æ˜¯ä»”ç»†åˆ†æã€‚
- en: Anyways, floats are weird.
  id: totrans-split-37
  prefs: []
  type: TYPE_NORMAL
  zh: æ€»ä¹‹ï¼Œæµ®ç‚¹æ•°å¾ˆå¥‡æ€ªã€‚

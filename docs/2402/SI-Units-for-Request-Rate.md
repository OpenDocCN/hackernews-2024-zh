<!--yml

category: 未分类

date: 2024-05-27 14:33:59

-->

# 请求率的国际单位

> 来源：[https://two-wrongs.com/si-units-for-request-rate](https://two-wrongs.com/si-units-for-request-rate)

*请求率*是在某段时间内到达、服务或离开的请求数量。

令人惊讶的是，人们经常谈论请求率，却没有指定周期的长度。我甚至看过一些仪表板没有固定的周期用于度量查询 - 请求率变成了在任何窗口大小时合适的聚合间隔。如果放大，您将获得更高的请求率。如果将窗口移至高分辨率屏幕，请求率将降低。

我们应该在查询度量数据库时指定周期长度，以便每个人在任何时间都能看到相同的请求率，而不管他们的仪表板占用了多少像素。

使用的好周期长度是秒。请求率应该以每秒请求的数量来衡量。¹ 我遇到过一些人测量每分钟的请求数。不要成为那些人。这听起来像应该有一个国际单位，即我们应该能够说类似“我们的请求率是57 瓦特”。当然，不是瓦特。

* * *

原来有两个可能适用的国际单位：

+   赫兹（Hz）是频率的国际单位，定义为每秒一个事件。

+   贝克勒尔（Bq）是（放射）活性的国际单位。它也被定义为每秒一个事件。

为什么同一物理量会有两个单位？一个物理学家听到事件发生频率为4 Hz，会认为每250 毫秒确实有一个事件。赫兹单位与周期性行为密切相关。放射性衰变并不那么规律，可能只是在给定频率的平均下发生。一个4 Bq的样本可能在一秒内衰变零次，然后在下一秒衰变9次。² 假设符合泊松分布，这些事件很少，但如果您观察一个小时的样本，您有超过50%的机会观察到这些精确的衰变序列。

因此，当我们讨论高度规则的负载测试时，请求率为500 Hz是有意义的，每2 ms发出一个请求。但如果是有机流量，平均每秒到达500次，那么说500 Bq可能更合适。

当我们接近静态网页服务器或缓存处理的请求率时，这也很方便。说“九十千贝克勒尔”并写“90 kBq”比说“九十千请求每秒”和“90,000 请求/s”更方便。³ 一个读者建议改用“rips”作为单位，我很喜欢这个想法和声音，但我是个顺从标准的人。

* * *

*除非*！看起来，与普通单位赫兹相反，贝克勒尔专门用于描述放射性衰变。没有一个国际单位适用于平均频率下的任意事件。我将继续使用贝克勒尔来表示请求率，并希望50年后，我们会忘记这个愚蠢的错误，即认为它仅仅与核衰变有关。

- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 14:54:50'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: UI = f(statesⁿ) - daverupert.com
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://daverupert.com/2024/02/ui-states/](https://daverupert.com/2024/02/ui-states/)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: “UI is a function of state” is a pretty popular saying in the front-end world.
    In context (*pun intended*), that’s typically referring to application or component
    state. I thought I’d pull that thread a little further and explore all the states
    that can effect the UI layer…
  prefs: []
  type: TYPE_NORMAL
- en: First-party application states
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Every application whether it’s a to-do list or a shopping cart or some radically
    complex app will have some state. State isn’t uniform and typically exists at
    a variety of different levels. We’ll start at the top and drill down…
  prefs: []
  type: TYPE_NORMAL
- en: Global state
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Data stores and feature gating that typically happens at the application level.
  prefs: []
  type: TYPE_NORMAL
- en: Stores - different locations for storing data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Application store - Redux, Vuex, Mobx, Signals
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Browser store - localStorage, sessionStorage, cookies, IndexedDB
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Data - different types of global data
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Access control data - authentication tokens, paid/unpaid, geolocated, age, verified,
    member, etc.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: User data - name, icon, etc
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Collections - e.g. list of posts
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Session data
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: … etc
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Page/Component state
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Vince Speelman’s wonderful [Nine States of Design](https://medium.com/swlh/the-nine-states-of-design-5bfe9b3d6d85)
    do a great job summing up all the states that a page or component might exist
    in.
  prefs: []
  type: TYPE_NORMAL
- en: Nothing - An empty element
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Loading - A `fetch` is happening
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: None - No items returned
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: One - A single item comes back
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Some - A few items comes back
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Too Many - Too many items, need pagination (or similar)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Incorrect - An error occurred
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Correct - A success happened
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Done - The operation finished
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Vince’s list is perfect to me and keeps being relevant after all these years,
    I would add two items.
  prefs: []
  type: TYPE_NORMAL
- en: Custom states - Any bespoke or custom states relevant to your application
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Realtime multi-player event mesages - Picture the constant updating state in
    a chat app or realtime stock ticker. Stored at the component level or thrown into
    global state.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scroll-position - Pages and components often need to know if they’re scrolled
    in or out of viewport.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In my experience both the page and each component will contain some mixture
    of these states as well as being reactive to global state changes.
  prefs: []
  type: TYPE_NORMAL
- en: Element state
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Individual elements can (and will) have their own states. At this layer, features
    of HTML, CSS, and ARIA start to reveal themselves.
  prefs: []
  type: TYPE_NORMAL
- en: '[Cursor](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor) state'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`default, pointer, wait, text, move, grab, crosshair, zoom-in, zoom-out`, …
    etc'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Custom cursors
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[IntersectionObserverEntry](https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry/isIntersecting)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: isIntersecting = true, false
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Stacking context
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Attribute states - states reflected in HTML
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Visibility = `hidden, visible`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Language = `dir, lang`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Functionaltiy = `contenteditable, draggable, invoketarget`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Display = `inert, open, popover`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Loading = `lazy, eager`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[Pseudo-class](https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes)
    states - states reflected in CSS'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Action = `:hover, :active, :focus, :focus-visible, :focus-within`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Input = `:autofill, :checked, :disabled, :valid, :invalid, :user-valid, :user-invalid,
    :required`, … etc.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Display = `:fullscreen, :modal, :picture-in-picture`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Language = `:dir(), :lang()`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Location = `:link, :visited, :target`, … etc.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Resource = `:playing, :paused`
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[CustomStateSet](https://developer.mozilla.org/en-US/docs/Web/API/CustomStateSet)
    = custom states for web components'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: … etc
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '[ARIA states](https://developer.mozilla.org/en-US/docs/web/Accessibility/ARIA/Attributes)
    - [user-facing states](https://css-tricks.com/user-facing-state/) reflected in
    ARIA'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`aria-current`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`aria-expanded`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`aria-pressed`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`aria-hidden`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: … etc
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Second-party user (or device) states
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The user of the application and their device, peripherals, and browser have
    a lot of say in how the final application renders. This is by design and [built
    into the foundations of the web](https://www.w3.org/TR/html-design-principles/#priority-of-constituencies).
  prefs: []
  type: TYPE_NORMAL
- en: Language and localization
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Surprise! Not all users live in US-West-2.
  prefs: []
  type: TYPE_NORMAL
- en: Text direction = `ltr, rtl`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Writing mode = `horizontal-tb, vertical-lr, vertical-rl`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Distance to server/CDN (latency)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Auto-translations
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Words are long (e.g. German)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Words are short (e.g. Chinese)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Device constraints
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: A user’s device has a lot of variation and customization and may be your biggest
    unknown bottleneck for rendering to glass.
  prefs: []
  type: TYPE_NORMAL
- en: Network connection = Fiber, cable, wi-fi, 5G, 4G, 3G, “[lie-fi](https://web.dev/articles/performance-poor-connectivity#lie-fi)”
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Viewport = `height, width, initial-scale, horizontal-viewport-segments, vertical-viewport-segments,
    viewport-segment-width, viewport-segment-height`, … etc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Environment contstants = `safe-area-inset-*`, `titlebar-area-*`, `keyboard-inset-*`(e.g,
    [iPhone Notch](https://css-tricks.com/the-notch-and-css/), rounded corners, [installed
    apps](https://alistapart.com/article/breaking-out-of-the-box/))
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pixel density = 1x, 2x (Retina), 3x, … etc.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Low-power mode
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Screen brightness
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CPU speed
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: GPU/dGPU
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: L1/L2/L3 cache
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CPU/GPU/Memory contention (e.g., other apps open)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Color-gamut support = Rec2020, P3, sRGB, …etc
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Keyboard = Embedded, External, [T9](https://en.wikipedia.org/wiki/T9_(predictive_text)),
    Virtual On-screen, Touchbar, … etc
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: XR support = `inline, immersive-vr, immersive-ar`
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Modalities
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Users aren’t uniform in how they interact with their devices and may be using
    one or any combination of inputs and outputs all at once.
  prefs: []
  type: TYPE_NORMAL
- en: Inputs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Mouse = one-button, two-button, mousewheel, trackball, touchpad, high/low DPI
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Keyboard = 100%, 60%, 10-key, querty, colemak, Ergonomic, split, mechanical,
    … etc
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Touch/Tap = coarse pointer, no hover
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Stylus = fine pointer, hover, pressure sensitivity
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Gestures = pinch-zoom, two/three/four-finger swipe
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Motion = accelleration, shake-to-undo, bump, … etc
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Orientation = landscape, portrait, alpha/beta/gamma (360º/180º/90º, respectively)
    rotation
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Speech recognition = Dragon NaturallySpeaking, voice assistants
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Switches = button, sip, puff
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Eye-tracking
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Gamepad
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: XR = 3 DOF, 6 DOF
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Outputs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Screen
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Text-to-speech
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Screen reader
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Braille
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Screen magnifier
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Vibration
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: RSS?
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Browser states
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Finally, a user’s browser choice and preferred plugins determines a lot about
    how they experience (or would prefer to experience) your UI and your application
    can be responsive to some of those preferences.
  prefs: []
  type: TYPE_NORMAL
- en: User preferences
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: prefers-color-scheme = light, dark, forced-colors
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: prefers-reduced-motion = reduce, no-preference
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: prefers-reduced-transparency = reduce, no-preference
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: user zoom = 100% to 400%
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: text size = small to x-large
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Features and functionality
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Browser version = latest version, last 2 versions, older
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Feature detection = `@support` or polyfills
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Color-gamut support = Rec2020, P3, sRGB, …etc
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Browser cache hit
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Service worker hit
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Display mode = fullscreen | standalone | minimal-ui | browser
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`beforeinstallprompt`'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Print mode
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Reader mode
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: JavaScript disabled = yes, I actually know people who do this.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Sleeping tabs
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Permissions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Camera = true, false
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Microphone = true, false
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Geolocation = allowed, not allowed, only while using the app
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Notifications = true, false
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: File access = true, false
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Plugins
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Ad blockers - UBlock, Safari ITP, Ghostery, … etc
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Custom plugins/Boosts
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: User states
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Thus far we’ve talked about technology, now let’s consider the actual human
    being at the other end of the transaction. A user’s physical or mental state impact
    their cognitive or literal bandwidth to enjoy your experience.
  prefs: []
  type: TYPE_NORMAL
- en: Third-party service states
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Third parties have an outsized impact on the user experience of a UI.
  prefs: []
  type: TYPE_NORMAL
- en: Availability/Status
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The status/availability/uptime of other servers is the biggest surface area
    for failure for a UI.
  prefs: []
  type: TYPE_NORMAL
- en: Server hardware status = online, offline, partial availability
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Database status = online, offline, transaction locked
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: API status = online, offline, partial availability
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Web font service = online, offline, partial availability
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DNS status = may take up to 72 hours to resolve
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Package dependencies = working, broken, malicious injection, protestware, …
    etc
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Asset delivery and caching status
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Script injections
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Third-party script injections are the biggest contributor to performance degradation
    on a UI. Some services even take over the user experience of an application. This
    is often out of your control.
  prefs: []
  type: TYPE_NORMAL
- en: Analytics/tracking services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: User session recording services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A/B test injections
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Instructional overlays
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Accessibility overlays
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Third-party authentication (OAuth) services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Captcha/verification services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You haven’t truly lived life until one of these unchecked services takes down
    an application.
  prefs: []
  type: TYPE_NORMAL
- en: There’s more to UI than just state…
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: I’m sure I’ve forgotten whole categories of state. I haven’t even gotten into
    the hundreds of CSS properties and the thousands of values and their potential
    conflicts. I didn’t talk about the intricacies of styling form controls or building
    dropdowns with the required ARIA property combinations. I didn’t touch on [the
    decision matrix required to put an image on the page](https://cloudfour.com/thinks/responsive-images-101-definitions/).
    Nor does this get into [setting all the proper tags in the `head`](https://github.com/joshbuchea/HEAD)
    [in the right order](https://rviscomi.github.io/capo.js/). Nor does this discuss
    [microformats](https://microformats.org/) for SEO or all the code you need to
    properly setup a UI to send analtyics data.
  prefs: []
  type: TYPE_NORMAL
- en: In closing, hire people who are good at UI.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: '*Edit 2/16/24*'
  prefs: []
  type: TYPE_NORMAL

- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-29 13:25:04'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: Avoid bot detectors with our new /unblock API for Browserless
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://www.browserless.io/blog/2024/02/26/unblock-api/?apcid=00620de59ffc742367908900&utm_campaign=unblock-api-announcement&utm_content=unblock-api-announcement&utm_medium=email&utm_source=ortto](https://www.browserless.io/blog/2024/02/26/unblock-api/?apcid=00620de59ffc742367908900&utm_campaign=unblock-api-announcement&utm_content=unblock-api-announcement&utm_medium=email&utm_source=ortto)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: The cat-and-mouse between bots and WAFs requires increasingly sophisticates
    solutions.
  prefs: []
  type: TYPE_NORMAL
- en: Traditional methods often rely on "mocking" JavaScript APIs or setting Chrome
    flags, but these are becoming less reliable due to advances in protections from
    Cloudflare. Even plugins like `puppeteer-extra-plugin-stealth` fails to mask fundamental
    aspects of how Puppeteer effects a browser.
  prefs: []
  type: TYPE_NORMAL
- en: It's why we've taken a new deeper approach to humanizing traffic.
  prefs: []
  type: TYPE_NORMAL
- en: When was the last time you loaded a browser at 800x600 pixels?
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: That's what Puppeteer does. Every time you run a script with Puppeteer, it creates
    a 800x600px browsers.
  prefs: []
  type: TYPE_NORMAL
- en: Even if you use `Page.setViewport()`, it will only change resize the browser
    once it's been instantiated at the default size. This behavior is just one of
    the many dead giveaways that the traffic is coming from a bot, not a human.
  prefs: []
  type: TYPE_NORMAL
- en: To hide fingerprints like these, our /unblock API runs modifies behavior at
    the CDP layer.
  prefs: []
  type: TYPE_NORMAL
- en: For this browser size example, the API creates the browser at a more typical
    1920x1080 pixels. Only once that's done is Puppeteer allowed to connect to it.
    By feeding Chrome modified instructions with the Chrome DevTools Protocol, we're
    able to tidy away all the breadcrumbs like these which bot detectors pick up on.
  prefs: []
  type: TYPE_NORMAL
- en: Launching Chrome like a human would
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The aim of this /unblock API is to launch Chrome with settings that are what
    you'd expect on a normal computer. Bot detectors can't start filtering out traffic
    using a 1920x1080 browser, as that would start blocking authentic traffic.
  prefs: []
  type: TYPE_NORMAL
- en: While there will still be some amount of cat and mouse as we find increasingly
    subtle fingerprints, we expect that once changed that each one will permanently
    help with avoiding bot blockers.
  prefs: []
  type: TYPE_NORMAL
- en: Ask and you shall receive (a site)
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Whether you're looking to connect Puppeteer to an "unblocked" browser, or you're
    simply after cookies, our JSON-based API is designed to cater to a wide range
    of needs. This flexibility is crucial for developers with different setups.
  prefs: []
  type: TYPE_NORMAL
- en: 'The experience using the Unblock API is as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: You provide a URL of the website that's difficult to access.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We'll instantiate the browser leaving as few breadcrumbs as possible and bypass
    bot detection depending on mechanisms identified on the site.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Once the site is accessed, the API will return the data of that site.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Unless cookies content or screenshot are set to false in the POST’ed payload,
    it’ll generate those.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: If browserWSEndpoint is set to true, it’ll generate a custom one-time link for
    puppeteer or any other CDP-like library to reconnect to.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: It’ll return these values above in a JSON response.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You shouldn't need to setup stealth libraries, test chrome flags combinations,
    or implement bot-solving technologies. However, you might still want to use our
    usual [bypassing bot detection mechanisms](https://docs.browserless.io/Recipes/bypass-bot-detection)
    such as residential proxies.
  prefs: []
  type: TYPE_NORMAL
- en: Staying ahead of bot detection mechanisms
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Looking ahead, we commit to continuously improving. This means we'll constantly
    update and fixes for new detection mechanisms. We're always open to knowing what
    sites you're having a problem bypassing because we can use those as samples of
    sites we need to analyze and setup bypassing mechanisms on.
  prefs: []
  type: TYPE_NORMAL
- en: Some sites enforce Captchas 100% even on our real human computers, which means
    we're also working on supporting Captcha auto-solving soon.
  prefs: []
  type: TYPE_NORMAL
- en: Try the /unblock API yourself
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To use the API you''ll need to use our new V2 service, which is currently only
    available for [Starter and Scale plans](https://www.browserless.io/pricing) and
    will be soon rolled out to clients on Enterprise offerings with dedicated fleets.
    That means the code becomes:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Or use production-lon.browserless.io for the London server.
  prefs: []
  type: TYPE_NORMAL
- en: The API is now publicly available for our users. Sign up for a 7-day trial of
    browserless to test it with your existing Puppeteer scripts.
  prefs: []
  type: TYPE_NORMAL
- en: '[7-Day Browserless Trial](https://www.browserless.io/pricing)'
  prefs: []
  type: TYPE_NORMAL
- en: '*Note: as this process is resource intensive, it will use extra Units, and
    is not available for our legacy free tier users.*'
  prefs: []
  type: TYPE_NORMAL

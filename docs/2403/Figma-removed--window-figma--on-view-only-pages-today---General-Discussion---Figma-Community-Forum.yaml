- en: <!--yml
  id: totrans-split-0
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  id: totrans-split-1
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-29 12:29:43'
  id: totrans-split-2
  prefs: []
  type: TYPE_NORMAL
- en: -->
  id: totrans-split-3
  prefs: []
  type: TYPE_NORMAL
- en: Figma removed `window.figma` on view-only pages today - General Discussion -
    Figma Community Forum
  id: totrans-split-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://forum.figma.com/t/figma-removed-window-figma-on-view-only-pages-today/67292](https://forum.figma.com/t/figma-removed-window-figma-on-view-only-pages-today/67292)
  id: totrans-split-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Let’s start with some background.
  id: totrans-split-6
  prefs: []
  type: TYPE_NORMAL
- en: Our team of designers began using Figma for design and delivery last year, for
    which we have purchased over 200 enterprise seats. Initially, the delivery process
    was quite pleasant, up until Figma started charging for Dev Mode. Before the existence
    of Dev Mode, engineers using the Inspect Panel’s viewing functionality was sufficient
    for us. We did not anticipate Figma making “minor adjustments” to the Inspect
    Panel for view-only users to make Dev Mode more appealing. Engineers have been
    complaining that they can no longer efficiently view design drafts or copy CSS
    code as before (not referring to Dev Mode beta, but the original Inspect Panel
    before Dev Mode). Some engineering teams have even asked if the designers could
    switch back to Sketch, as the delivery efficiency in view-only mode has severely
    deteriorated. However, with many designers in our team and significant effort
    invested in building component libraries on Figma, and all business design drafts
    being produced with it, as written in this article, [our design assets have now
    become hostages forcing users to purchase Dev Mode seats](https://medium.com/@devolve/the-coming-figma-apocalypse-nobody-is-talking-about-0d6ea29976ce#:~:text=If%20you%20don%E2%80%99t%20pay%20up%2C%20your%20designs%20are%20now%20hostage.).
  id: totrans-split-7
  prefs: []
  type: TYPE_NORMAL
- en: 'I’ve always believed that selling Dev Mode in this manner would not work well
    with teams like ours: engineers are spread across various teams, making it hard
    to convince all engineering teams why switching to a better design tool means
    they have to pay extra to maintain their efficiency (previously, tools like Sketch
    + Sketch Measure were sufficient).'
  id: totrans-split-8
  prefs: []
  type: TYPE_NORMAL
- en: It’s not that Dev Mode is useless; it offers many useful features. However,
    compared to the original Inspect panel, it doesn’t offer significant advantages
    for our scenario. Instead, functionalities like viewing/copying CSS are critical
    for delivery, which were available when we first tried Figma. And some features
    we really wanted, like running our own Figma plugins. Figma only provides a runtime
    environment for our extensively developed plugins, which are used 95%+ of the
    time in design mode (which we paid quite a lot), yet requires all engineers to
    pay, which is absurd.
  id: totrans-split-9
  prefs: []
  type: TYPE_NORMAL
- en: Of course, Figma “kindly” recorded [tutorial videos](https://www.youtube.com/watch?v=t7Tk3080CyY)
    guiding users on how to use functionalities like copying CSS in read-only mode,
    knowing well that what users need is to have this functionality back in the Inspect
    Panel, not hidden behind several layers of context menus. These barriers are **deliberately
    designed**, and the Figma team knows better than anyone which features are essential
    and which are just nice-to-haves.
  id: totrans-split-10
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，Figma “友善地”录制了[教程视频](https://www.youtube.com/watch?v=t7Tk3080CyY)来指导用户如何在只读模式下复制
    CSS 等功能，他们清楚用户需要的是将这些功能重新引入到检查面板中，而不是隐藏在几层上下文菜单后面。这些障碍是**故意设计**的，Figma 团队比任何人都更清楚哪些功能是必不可少的，哪些只是不错的功能。
- en: Switching to Figma has been a great improvement for designers, which we all
    acknowledge. However, crippling free users (engineers) to semi-forcefully sell
    Dev Mode has already harmed your paying users.
  id: totrans-split-11
  prefs: []
  type: TYPE_NORMAL
  zh: 切换到 Figma 对设计师来说是一个巨大的改进，我们都承认这一点。然而，削弱免费用户（工程师）以准强制方式推广 Dev 模式已经损害了你们的付费用户。
- en: Back to the post title.
  id: totrans-split-12
  prefs: []
  type: TYPE_NORMAL
  zh: 返回到帖子标题。
- en: After encountering the issues mentioned above, and having experience developing
    Figma plugins, we knew from Figma’s documentation that [every page has a global
    `window.figma` object](https://www.figma.com/plugin-docs/api/global-objects/#:~:text=The%20figma%20global%20object%20is%20available%20in%20every%20Figma%20window.),
    and the community had some attempts to optimize engineers’ experience in view-only
    mode based on this loophole. So, we developed a browser extension that brings
    the hidden copy CSS functionality directly accessible through the browser extension
    panel, and made outputs from our own Figma plugins more user-friendly. After providing
    the plugin to engineers, they found these functionalities very useful (actually
    just shortening the operation path of functionalities that should have been readily
    available but were hidden), and were able to coexist peacefully with Figma again.
    Of course, we considered that if Figma one day removes this global object, the
    plugin would become unusable. However, we thought Figma wouldn’t be so petty.
    If they were confident in the value provided by Dev Mode, why would they block
    a browser extension that was developed in just a few days? Is merely providing
    output/copy CSS functionalities, which were free for every user before Dev Mode,
    enough to make Dev Mode unsellable? If so, the Figma team should reflect on the
    actual value of Dev Mode.
  id: totrans-split-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在遇到上述问题并具有开发 Figma 插件经验后，我们从 Figma 的文档中了解到[每个页面都有一个全局的`window.figma`对象](https://www.figma.com/plugin-docs/api/global-objects/#:~:text=The%20figma%20global%20object%20is%20available%20in%20every%20Figma%20window.)，社区曾试图优化工程师在只读模式下的体验，基于这个漏洞。因此，我们开发了一个浏览器扩展，直接通过浏览器扩展面板将隐藏的复制
    CSS 功能变得直接可访问，并使我们自己的 Figma 插件输出更加用户友好。在向工程师提供了插件后，他们发现这些功能非常有用（实际上只是缩短了本应直接可用但被隐藏的功能操作路径），并且能够再次与
    Figma 和平共处。当然，我们考虑过如果 Figma 有一天移除这个全局对象，插件将变得无法使用。然而，我们认为 Figma 不会如此小气。如果他们对 Dev
    模式提供的价值有信心，为什么要封锁一个几天内开发的浏览器扩展？仅仅提供输出/复制 CSS 功能足以使 Dev 模式难以销售吗？如果是这样，Figma 团队应该反思
    Dev 模式的实际价值。
- en: But it turns out we were too optimistic. Whether Figma noticed this or other
    similar plugins, starting today, Figma has removed the `window.figma` from all
    pages in view-only mode, making it impossible for us to use this API to obtain
    current selected node information, rendering a browser extension that was only
    born a few days ago practically unusable. I can’t help but ask the Figma team,
    we can currently use “Duplicate to your drafts” in our own editing mode to use
    the browser plugin to get CSS codes, are you planning to block this as well?
  id: totrans-split-14
  prefs: []
  type: TYPE_NORMAL
  zh: 但事实证明我们过于乐观了。无论是 Figma 还是其他类似的插件，从今天开始，在只读模式下，Figma 已从所有页面中移除了`window.figma`，使得我们无法使用此
    API 获取当前选定节点的信息，使得几天前才诞生的浏览器扩展几乎无法使用。我不禁问 Figma 团队，我们目前能在自己的编辑模式下使用“复制到草稿箱”来使用浏览器插件获取
    CSS 代码，你们打算也封锁这个功能吗？

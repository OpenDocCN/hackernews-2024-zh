["```\n        135168 bytes in 1 allocations from stack\n                0x0000ffff7fb7ede8      sysmalloc_mmap.isra.0+0x74 [libc.so.6]\n                0x0000ffff7fb7fc40      sysmalloc+0x200 [libc.so.6]\n                0x0000ffff7fb80fbc      _int_malloc+0xdfc [libc.so.6]\n                0x0000ffff7fb81c50      __malloc+0x22c [libc.so.6]\n                0x0000fffffffff000      [unknown] [[uprobes]]\n                0x0000000000927714      palloc+0x40 [postgres]\n                0x00000000007df2f4      PostgresMain+0x1ac [postgres]\n                0x0000000000755f34      report_fork_failure_to_client+0x0 [postgres]\n                0x0000000000757e94      BackendStartup+0x1b8 [postgres]\n                0x000000000075805c      ServerLoop+0xfc [postgres]\n                0x00000000007592f8      PostmasterMain+0xed4 [postgres]\n                0x00000000006927d8      main+0x230 [postgres]\n                0x0000ffff7fb109dc      __libc_start_call_main+0x7c [libc.so.6]\n                0x0000ffff7fb10ab0      __libc_start_main@GLIBC_2.17+0x9c [libc.so.6]\n                0x00000000004912f0      _start+0x30 [postgres]\n\n```", "```\n#include \"stdio.h\"\n#include \"string.h\"\n\nint main() {\n  char* x = strdup(\"flubber\");\n  printf(\"%s\\n\", x);\n  return 1;\n}\n\n```", "```\n$ gcc main.c\n$ valgrind --leak-check=full ./a.out\n==203008== Memcheck, a memory error detector\n==203008== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.\n==203008== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info\n==203008== Command: ./a.out\n==203008==\nflubber\n==203008==\n==203008== HEAP SUMMARY:\n==203008==     in use at exit: 8 bytes in 1 blocks\n==203008==   total heap usage: 2 allocs, 1 frees, 1,032 bytes allocated\n==203008==\n==203008== 8 bytes in 1 blocks are definitely lost in loss record 1 of 1\n==203008==    at 0x48C0860: malloc (vg_replace_malloc.c:442)\n==203008==    by 0x49A8FB3: strdup (strdup.c:42)\n==203008==    by 0x4101FB: main (in /home/phil/tmp/a.out)\n==203008==\n==203008== LEAK SUMMARY:\n==203008==    definitely lost: 8 bytes in 1 blocks\n==203008==    indirectly lost: 0 bytes in 0 blocks\n==203008==      possibly lost: 0 bytes in 0 blocks\n==203008==    still reachable: 0 bytes in 0 blocks\n==203008==         suppressed: 0 bytes in 0 blocks\n==203008==\n==203008== For lists of detected and suppressed errors, rerun with: -s\n==203008== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)\n\n```", "```\n#include \"stdio.h\"\n#include \"string.h\"\n#include \"stdlib.h\"\n\nint main() {\n  char* x = strdup(\"flubber\");\n  printf(\"%s\\n\", x);\n  free(x);\n  return 1;\n}\n\n```", "```\n$ gcc main.c\n$ valgrind --leak-check=full ./a.out\n==203099== Memcheck, a memory error detector\n==203099== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.\n==203099== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info\n==203099== Command: ./a.out\n==203099==\nflubber\n==203099==\n==203099== HEAP SUMMARY:\n==203099==     in use at exit: 0 bytes in 0 blocks\n==203099==   total heap usage: 2 allocs, 2 frees, 1,032 bytes allocated\n==203099==\n==203099== All heap blocks were freed -- no leaks are possible\n==203099==\n==203099== For lists of detected and suppressed errors, rerun with: -s\n==203099== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n\n```", "```\nMemoryContextStats(TopMemoryContext);\n```", "```\n$ git clone https://github.com/postgres/postgres\n$ cd postgres\n$ git checkout REL_16_2\n$ ./configure \\\n    CFLAGS=\"-ggdb -Og -g3 -fno-omit-frame-pointer -DUSE_VALGRIND\" \\\n    --prefix=$(pwd)/build \\\n    --libdir=$(pwd)/build/lib \\\n    --enable-debug\n$ make && make install\n\n```", "```\n$ ./build/bin/initdb test-db\nThe files belonging to this database system will be owned by user \"phil\".\nThis user must also own the server process.\n\nThe database cluster will be initialized with locale \"en_US.UTF-8\".\nThe default database encoding has accordingly been set to \"UTF8\".\nThe default text search configuration will be set to \"english\".\n\nData page checksums are disabled.\n\ncreating directory test-db ... ok\ncreating subdirectories ... ok\nselecting dynamic shared memory implementation ... posix\nselecting default max_connections ... 100\nselecting default shared_buffers ... 128MB\nselecting default time zone ... America/New_York\ncreating configuration files ... ok\nrunning bootstrap script ... ok\nperforming post-bootstrap initialization ... ok\nsyncing data to disk ... ok\n\ninitdb: warning: enabling \"trust\" authentication for local connections\ninitdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.\n\nSuccess. You can now start the database server using:\n\n    build/bin/pg_ctl -D test-db -l logfile start\n\n```", "```\n$ ./build/bin/postgres --config-file=$(pwd)/test-db/postgresql.conf -D $(pwd)/test-db -k $(pwd)/test-db\n2024-03-21 16:08:10.984 EDT [213083] LOG:  starting PostgreSQL 16.2 on aarch64-unknown-linux-gnu, compiled by gcc (GCC) 13.2.1 20231205 (Red Hat 13.2.1-6), 64-bit\n2024-03-21 16:08:10.986 EDT [213083] LOG:  listening on IPv6 address \"::1\", port 5432\n2024-03-21 16:08:10.986 EDT [213083] LOG:  listening on IPv4 address \"127.0.0.1\", port 5432\n2024-03-21 16:08:10.987 EDT [213083] LOG:  listening on Unix socket \"/home/phil/tmp/postgres/test-db/.s.PGSQL.5432\"\n2024-03-21 16:08:10.989 EDT [213086] LOG:  database system was shut down at 2024-03-21 16:07:20 EDT\n2024-03-21 16:08:10.992 EDT [213083] LOG:  database system is ready to accept connections\n\n```", "```\n./build/bin/psql -h localhost postgres\npsql (16.2)\nType \"help\" for help.\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\n```", "```\n 4417     /*\n 4418      * Non-error queries loop here.\n 4419      */\n 4420\n 4421     for (;;)\n 4422     {\n 4423         int         firstchar;\n 4424         StringInfoData input_message;\n 4425\n 4426         #define CHUNKSIZE 4096\n 4427         char* waste = palloc(CHUNKSIZE);\n 4428         printf(\"%d from %d\", CHUNKSIZE, getpid());\n\n```", "```\ndiff --git a/src/backend/tcop/postgres.c b/src/backend/tcop/postgres.c\nindex 36cc99ec9c..28d08f3b11 100644\n--- a/src/backend/tcop/postgres.c\n+++ b/src/backend/tcop/postgres.c\n@@ -4423,6 +4423,10 @@ PostgresMain(const char *dbname, const char *username)\n                int                     firstchar;\n                StringInfoData input_message;\n\n+               #define CHUNKSIZE 4096\n+               char* waste = palloc(CHUNKSIZE);\n+               printf(\"%d from %d\\n\", CHUNKSIZE, getpid());\n+\n                /*\n                 * At top of loop, reset extended-query-message flag, so that any\n                 * errors encountered in \"idle\" state don't provoke skip.\n\n```", "```\n$ make && make install\n```", "```\n#!/usr/bin/env bash\n\nmkdir -p $HOME/valgrind-logs\n\nSCRIPT_DIR=$( cd -- \"$( dirname -- \"${BASH_SOURCE[0]}\" )\" &> /dev/null && pwd )\n\nexec valgrind \\\n     --quiet \\\n     --show-leak-kinds=all \\\n     --track-origins=yes \\\n     --verbose \\\n     --suppressions=$(realpath $SCRIPT_DIR/../../)/src/tools/valgrind.supp \\\n     --time-stamp=yes --error-exitcode=128 --trace-children=yes \\\n     --log-file=$HOME/valgrind-logs/%p.log \\\n     $SCRIPT_DIR/postgres.orig \"$@\"\n\n```", "```\n$ mv build/bin/postgres build/bin/postgres.orig\n$ chmod +x postgres.valgrind\n$ cp postgres.valgrind build/bin/postgres\n\n```", "```\n$ ./build/bin/postgres --config-file=$(pwd)/test-db/postgresql.conf -D $(pwd)/test-db -k $(pwd)/test-db\n2024-03-21 16:18:28.233 EDT [216336] LOG:  starting PostgreSQL 16.2 on aarch64-unknown-linux-gnu, compiled by gcc (GCC) 13.2.1 20231205 (Red Hat 13.2.1-6), 64-bit\n2024-03-21 16:18:28.234 EDT [216336] LOG:  listening on IPv6 address \"::1\", port 5432\n2024-03-21 16:18:28.234 EDT [216336] LOG:  listening on IPv4 address \"127.0.0.1\", port 5432\n2024-03-21 16:18:28.234 EDT [216336] LOG:  listening on Unix socket \"/home/phil/tmp/postgres/test-db/.s.PGSQL.5432\"\n2024-03-21 16:18:28.236 EDT [216336] LOG:  database system was shut down at 2024-03-21 16:18:00 EDT\n2024-03-21 16:18:28.238 EDT [216336] LOG:  database system is ready to accept connections\n\n```", "```\n$ ./build/bin/psql -h localhost postgres\npsql (16.2)\nType \"help\" for help.\n\npostgres=#\n\n```", "```\n4096 from 216344\n```", "```\n$ ./build/bin/psql -h localhost postgres\npsql (16.2)\nType \"help\" for help.\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\n```", "```\n... omitted ...\n2024-03-21 16:18:28.238 EDT [216336] LOG:  database system is ready to accept connections\n4096 from 216344\n4096 from 216344\n4096 from 216344\n4096 from 216344\n4096 from 216344\n\n```", "```\n$ cat ~/valgrind-logs/*\n==00:00:00:00.000 216336== Memcheck, a memory error detector\n==00:00:00:00.000 216336== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.\n==00:00:00:00.000 216336== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info\n==00:00:00:00.000 216336== Command: /home/phil/tmp/postgres/build/bin/postgres.orig --config-file=/home/phil/tmp/postgres/test-db/postgresql.conf -D /home/phil/tmp/postgres/test-db -k /home/phil/tmp/postgres/test-db\n==00:00:00:00.000 216336== Parent PID: 143066\n==00:00:00:00.000 216336==\n==00:00:00:14.925 216336==\n==00:00:00:14.925 216336== HEAP SUMMARY:\n==00:00:00:14.925 216336==     in use at exit: 218,493 bytes in 75 blocks\n==00:00:00:14.925 216336==   total heap usage: 1,379 allocs, 353 frees, 1,325,653 bytes allocated\n==00:00:00:14.925 216336==\n==00:00:00:14.926 216336== LEAK SUMMARY:\n==00:00:00:14.926 216336==    definitely lost: 410 bytes in 5 blocks\n==00:00:00:14.926 216336==    indirectly lost: 3,331 bytes in 45 blocks\n==00:00:00:14.926 216336==      possibly lost: 102,984 bytes in 8 blocks\n==00:00:00:14.926 216336==    still reachable: 47,148 bytes in 182 blocks\n==00:00:00:14.926 216336==         suppressed: 0 bytes in 0 blocks\n==00:00:00:14.926 216336== Rerun with --leak-check=full to see details of leaked memory\n==00:00:00:14.926 216336==\n==00:00:00:14.926 216336== For lists of detected and suppressed errors, rerun with: -s\n==00:00:00:14.926 216336== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)\n\n```", "```\n$ cat main.c\n#include \"stdio.h\"\n#include \"string.h\"\n#include \"stdlib.h\"\n\nint main() {\n  char* x = strdup(\"flubber\");\n  printf(\"%s\\n\", x);\n  return 1;\n}\n\n```", "```\n$ gcc -fsanitize=address main.c\n$ ./a.out\nflubber\n=================================================================\n==223338==ERROR: LeakSanitizer: detected memory leaks\n\nDirect leak of 8 byte(s) in 1 object(s) allocated from:\n    #0 0xffff90c817d4 in __interceptor_strdup (/lib64/libasan.so.8+0x817d4) (BuildId: 3109905b64795755dad05d7bb29ad23633a06660)\n    #1 0x410238 in main (/home/phil/tmp/a.out+0x410238) (BuildId: e98d3e4308c692d5fedef8494d1a925d8f40759a)\n    #2 0xffff90a609d8 in __libc_start_call_main (/lib64/libc.so.6+0x309d8) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #3 0xffff90a60aac in __libc_start_main@@GLIBC_2.34 (/lib64/libc.so.6+0x30aac) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #4 0x41012c in _start (/home/phil/tmp/a.out+0x41012c) (BuildId: e98d3e4308c692d5fedef8494d1a925d8f40759a)\n\nSUMMARY: AddressSanitizer: 8 byte(s) leaked in 1 allocation(s).\n\n```", "```\ndiff --git a/src/backend/tcop/postgres.c b/src/backend/tcop/postgres.c\nindex 36cc99ec9c..28d08f3b11 100644\n--- a/src/backend/tcop/postgres.c\n+++ b/src/backend/tcop/postgres.c\n@@ -4423,6 +4423,10 @@ PostgresMain(const char *dbname, const char *username)\n                int                     firstchar;\n                StringInfoData input_message;\n\n+               #define CHUNKSIZE 4096\n+               char* waste = palloc(CHUNKSIZE);\n+               printf(\"%d from %d\\n\", CHUNKSIZE, getpid());\n+\n                /*\n                 * At top of loop, reset extended-query-message flag, so that any\n                 * errors encountered in \"idle\" state don't provoke skip.\n```", "```\n$ make clean\n$ ./configure \\\n    CFLAGS=\"-ggdb -Og -g3 -fno-omit-frame-pointer -fsanitize=address\" \\\n    --prefix=$(pwd)/build \\\n    --libdir=$(pwd)/build/lib \\\n    --enable-debug\n$ make && make install\n\n```", "```\n./build/bin/postgres --config-file=$(pwd)/test-db/postgresql.conf -D $(pwd)/test-db -k $(pwd)/test-db\n2024-03-22 10:31:54.724 EDT [233257] LOG:  starting PostgreSQL 16.2 on aarch64-unknown-linux-gnu, compiled by gcc (GCC) 13.2.1 20231205 (Red Hat 13.2.1-6), 64-bit\n2024-03-22 10:31:54.725 EDT [233257] LOG:  listening on IPv6 address \"::1\", port 5432\n2024-03-22 10:31:54.725 EDT [233257] LOG:  listening on IPv4 address \"127.0.0.1\", port 5432\n2024-03-22 10:31:54.727 EDT [233257] LOG:  listening on Unix socket \"/home/phil/tmp/postgres/test-db/.s.PGSQL.5432\"\n2024-03-22 10:31:54.731 EDT [233260] LOG:  database system was interrupted; last known up at 2024-03-22 10:28:56 EDT\n2024-03-22 10:31:54.740 EDT [233260] LOG:  database system was not properly shut down; automatic recovery in progress\n2024-03-22 10:31:54.741 EDT [233260] LOG:  invalid record length at 0/1531B08: expected at least 24, got 0\n2024-03-22 10:31:54.741 EDT [233260] LOG:  redo is not required\n2024-03-22 10:31:54.742 EDT [233258] LOG:  checkpoint starting: end-of-recovery immediate wait\n2024-03-22 10:31:54.793 EDT [233258] LOG:  checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.050 s, sync=0.001 s, total=0.052 s; sync files=2, longest=0.001 s, average=0.001 s; distance=0 kB, estimate=0 kB; lsn=0/1531B08, redo lsn=0/1531B08\n\n=================================================================\n==233260==ERROR: LeakSanitizer: detected memory leaks\nDirect leak of 328 byte(s) in 1 object(s) allocated from:\n    #0 0xffffaa8e57b0 in malloc (/lib64/libasan.so.8+0xc57b0) (BuildId: 3109905b64795755dad05d7bb29ad23633a06660)\n    #1 0x10104ac in save_ps_display_args /home/phil/tmp/postgres/src/backend/utils/misc/ps_status.c:165\n    #2 0x9aed7c in main /home/phil/tmp/postgres/src/backend/main/main.c:91\n    #3 0xffffa9fb09d8 in __libc_start_call_main (/lib64/libc.so.6+0x309d8) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #4 0xffffa9fb0aac in __libc_start_main@@GLIBC_2.34 (/lib64/libc.so.6+0x30aac) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #5 0x4a15ac in _start (/home/phil/tmp/postgres/build/bin/postgres+0x4a15ac) (BuildId: 4cede14f9b35edbb8bf598d2efbc883c4ace6797)\n\nSUMMARY: AddressSanitizer: 328 byte(s) leaked in 1 allocation(s).\n2024-03-22 10:31:54.831 EDT [233257] LOG:  startup process (PID 233260) exited with exit code 1\n2024-03-22 10:31:54.831 EDT [233257] LOG:  terminating any other active server processes\n2024-03-22 10:31:54.831 EDT [233257] LOG:  shutting down due to startup process failure\n2024-03-22 10:31:54.832 EDT [233257] LOG:  database system is shut down\n\n=================================================================\n==233257==ERROR: LeakSanitizer: detected memory leaks\n\nDirect leak of 328 byte(s) in 1 object(s) allocated from:\n    #0 0xffffaa8e57b0 in malloc (/lib64/libasan.so.8+0xc57b0) (BuildId: 3109905b64795755dad05d7bb29ad23633a06660)\n    #1 0x10104ac in save_ps_display_args /home/phil/tmp/postgres/src/backend/utils/misc/ps_status.c:165\n    #2 0x9aed7c in main /home/phil/tmp/postgres/src/backend/main/main.c:91\n    #3 0xffffa9fb09d8 in __libc_start_call_main (/lib64/libc.so.6+0x309d8) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #4 0xffffa9fb0aac in __libc_start_main@@GLIBC_2.34 (/lib64/libc.so.6+0x30aac) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #5 0x4a15ac in _start (/home/phil/tmp/postgres/build/bin/postgres+0x4a15ac) (BuildId: 4cede14f9b35edbb8bf598d2efbc883c4ace6797)\n\nSUMMARY: AddressSanitizer: 328 byte(s) leaked in 1 allocation(s).\n\n```", "```\n$ ASAN_OPTIONS=\"halt_on_error=false\" ./build/bin/postgres --config-file=$(pwd)/test-db/postgresql.conf -D $(pwd)/test-db -k $(pwd)/test-db\n2024-03-22 10:38:07.588 EDT [233554] LOG:  starting PostgreSQL 16.2 on aarch64-unknown-linux-gnu, compiled by gcc (GCC) 13.2.1 20231205 (Red Hat 13.2.1-6), 64-bit\n2024-03-22 10:38:07.589 EDT [233554] LOG:  listening on IPv6 address \"::1\", port 5432\n2024-03-22 10:38:07.589 EDT [233554] LOG:  listening on IPv4 address \"127.0.0.1\", port 5432\n2024-03-22 10:38:07.591 EDT [233554] LOG:  listening on Unix socket \"/home/phil/tmp/postgres/test-db/.s.PGSQL.5432\"\n2024-03-22 10:38:07.595 EDT [233557] LOG:  database system was shut down at 2024-03-22 10:38:06 EDT\n\n=================================================================\n==233557==ERROR: LeakSanitizer: detected memory leaks\n\nDirect leak of 336 byte(s) in 1 object(s) allocated from:\n    #0 0xffffbc6957b0 in malloc (/lib64/libasan.so.8+0xc57b0) (BuildId: 3109905b64795755dad05d7bb29ad23633a06660)\n    #1 0x10104ac in save_ps_display_args /home/phil/tmp/postgres/src/backend/utils/misc/ps_status.c:165\n    #2 0x9aed7c in main /home/phil/tmp/postgres/src/backend/main/main.c:91\n    #3 0xffffbbd609d8 in __libc_start_call_main (/lib64/libc.so.6+0x309d8) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #4 0xffffbbd60aac in __libc_start_main@@GLIBC_2.34 (/lib64/libc.so.6+0x30aac) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #5 0x4a15ac in _start (/home/phil/tmp/postgres/build/bin/postgres+0x4a15ac) (BuildId: 4cede14f9b35edbb8bf598d2efbc883c4ace6797)\n\nSUMMARY: AddressSanitizer: 336 byte(s) leaked in 1 allocation(s).\n2024-03-22 10:38:07.651 EDT [233554] LOG:  database system is ready to accept connections\n\n```", "```\n$ ./build/bin/psql -h localhost postgres\npsql (16.2)\nType \"help\" for help.\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\n```", "```\n2024-03-22 10:38:07.651 EDT [233554] LOG:  database system is ready to accept connections\n4096 from 233705\n4096 from 233705\n4096 from 233705\n4096 from 233705\n4096 from 233705\n\n=================================================================\n==233710==ERROR: LeakSanitizer: detected memory leaks\nDirect leak of 336 byte(s) in 1 object(s) allocated from:\n    #0 0xffffbc6957b0 in malloc (/lib64/libasan.so.8+0xc57b0) (BuildId: 3109905b64795755dad05d7bb29ad23633a06660)\n    #1 0x10104ac in save_ps_display_args /home/phil/tmp/postgres/src/backend/utils/misc/ps_status.c:165\n    #2 0x9aed7c in main /home/phil/tmp/postgres/src/backend/main/main.c:91\n    #3 0xffffbbd609d8 in __libc_start_call_main (/lib64/libc.so.6+0x309d8) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #4 0xffffbbd60aac in __libc_start_main@@GLIBC_2.34 (/lib64/libc.so.6+0x30aac) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #5 0x4a15ac in _start (/home/phil/tmp/postgres/build/bin/postgres+0x4a15ac) (BuildId: 4cede14f9b35edbb8bf598d2efbc883c4ace6797)\n\nSUMMARY: AddressSanitizer: 336 byte(s) leaked in 1 allocation(s).\n\n=================================================================\n==233705==ERROR: LeakSanitizer: detected memory leaks\n\nDirect leak of 336 byte(s) in 1 object(s) allocated from:\n    #0 0xffffbc6957b0 in malloc (/lib64/libasan.so.8+0xc57b0) (BuildId: 3109905b64795755dad05d7bb29ad23633a06660)\n    #1 0x10104ac in save_ps_display_args /home/phil/tmp/postgres/src/backend/utils/misc/ps_status.c:165\n    #2 0x9aed7c in main /home/phil/tmp/postgres/src/backend/main/main.c:91\n    #3 0xffffbbd609d8 in __libc_start_call_main (/lib64/libc.so.6+0x309d8) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #4 0xffffbbd60aac in __libc_start_main@@GLIBC_2.34 (/lib64/libc.so.6+0x30aac) (BuildId: 8adf04071ee0060cbf618c401e50c21b9070755f)\n    #5 0x4a15ac in _start (/home/phil/tmp/postgres/build/bin/postgres+0x4a15ac) (BuildId: 4cede14f9b35edbb8bf598d2efbc883c4ace6797)\n\nSUMMARY: AddressSanitizer: 336 byte(s) leaked in 1 allocation(s).\n\n```", "```\n$ sudo find / -name '*memleak*'\n/tmp/kheaders-6.5.6-300.fc39.aarch64/include/linux/kmemleak.h\n/usr/share/man/man3/curs_memleaks.3x.gz\n/usr/share/man/man8/bcc-memleak.8.gz\n/usr/share/bcc/tools/doc/memleak_example.txt\n/usr/share/bcc/tools/memleak\n/usr/src/kernels/6.7.9-200.fc39.aarch64/include/linux/kmemleak.h\n/usr/src/kernels/6.7.9-200.fc39.aarch64/samples/kmemleak\n\n```", "```\n$ make clean\n$ ./configure \\\n    CFLAGS=\"-ggdb -Og -g3 -fno-omit-frame-pointer\" \\\n    --prefix=$(pwd)/build \\\n    --libdir=$(pwd)/build/lib \\\n    --enable-debug\n$ make && make install\n\n```", "```\n$ ./build/bin/postgres --config-file=$(pwd)/test-db/postgresql.conf -D $(pwd)/test-db -k $(pwd)/test-db\n2024-03-22 11:36:06.364 EDT [245850] LOG:  starting PostgreSQL 16.2 on aarch64-unknown-linux-gnu, compiled by gcc (GCC) 13.2.1 20231205 (Red Hat 13.2.1-6), 64-bit\n2024-03-22 11:36:06.364 EDT [245850] LOG:  listening on IPv6 address \"::1\", port 5432\n2024-03-22 11:36:06.364 EDT [245850] LOG:  listening on IPv4 address \"127.0.0.1\", port 5432\n2024-03-22 11:36:06.365 EDT [245850] LOG:  listening on Unix socket \"/home/phil/tmp/postgres/test-db/.s.PGSQL.5432\"\n2024-03-22 11:36:06.368 EDT [245853] LOG:  database system was shut down at 2024-03-22 11:36:05 EDT\n2024-03-22 11:36:06.370 EDT [245850] LOG:  database system is ready to accept connections\n```", "```\n$ ./build/bin/psql -h localhost postgres\npsql (16.2)\nType \"help\" for help.\n\npostgres=# select pg_backend_pid();\n pg_backend_pid\n----------------\n         245858\n(1 row)\n\n```", "```\n$ sudo /usr/share/bcc/tools/memleak -p 245858\nAttaching to pid 245858, Ctrl+C to quit.\n[11:37:19] Top 10 stacks with outstanding allocations:\n[11:37:24] Top 10 stacks with outstanding allocations:\n\n```", "```\n$ ./build/bin/psql -h localhost postgres\npsql (16.2)\nType \"help\" for help.\n\npostgres=# select pg_backend_pid();\n pg_backend_pid\n----------------\n         245858\n(1 row)\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\npostgres=# select 1;\n ?column?\n----------\n        1\n(1 row)\n\n```", "```\n        135168 bytes in 1 allocations from stack\n                0x0000ffff7fb7ede8      sysmalloc_mmap.isra.0+0x74 [libc.so.6]\n                0x0000ffff7fb7fc40      sysmalloc+0x200 [libc.so.6]\n                0x0000ffff7fb80fbc      _int_malloc+0xdfc [libc.so.6]\n                0x0000ffff7fb81c50      __malloc+0x22c [libc.so.6]\n                0x0000fffffffff000      [unknown] [[uprobes]]\n                0x0000000000927714      palloc+0x40 [postgres]\n                0x00000000007df2f4      PostgresMain+0x1ac [postgres]\n                0x0000000000755f34      report_fork_failure_to_client+0x0 [postgres]\n                0x0000000000757e94      BackendStartup+0x1b8 [postgres]\n                0x000000000075805c      ServerLoop+0xfc [postgres]\n                0x00000000007592f8      PostmasterMain+0xed4 [postgres]\n                0x00000000006927d8      main+0x230 [postgres]\n                0x0000ffff7fb109dc      __libc_start_call_main+0x7c [libc.so.6]\n                0x0000ffff7fb10ab0      __libc_start_main@GLIBC_2.17+0x9c [libc.so.6]\n                0x00000000004912f0      _start+0x30 [postgres]\n\n```"]
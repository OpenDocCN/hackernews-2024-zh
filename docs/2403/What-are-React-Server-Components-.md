<!--yml

category: 未分类

date: 2024-05-27 14:44:58

-->

# 什么是React服务器组件？

> 来源：[https://www.builder.io/blog/why-react-server-components](https://www.builder.io/blog/why-react-server-components)

服务器组件代表一种专门设计用于在服务器上独占运行的React组件类型。与客户端组件不同，它们的代码保留在服务器上，永远不会下载到客户端。这种设计选择为React应用程序带来了多重好处。让我们更详细地了解这些好处。

**零捆绑大小**

首先，在捆绑大小方面，服务器组件不会向客户端发送代码，允许大型依赖项保持在服务器端。这有利于那些网络连接较慢或设备性能较差的用户，因为对于这些组件，无需下载、解析和执行JavaScript。此外，它还去除了水合步骤，加快了应用程序的加载和交互速度。

**直接访问服务器端资源**

第二，通过直接访问服务器端资源（如数据库或文件系统），服务器组件使得数据获取和渲染更加高效，无需额外的客户端处理。利用服务器的计算能力和数据源的接近性，它们管理计算密集型渲染任务，并仅向客户端发送交互式代码片段。

**增强的安全性**

第三，服务器组件的独占服务器端执行增强了安全性，通过将敏感数据和逻辑（包括令牌和API密钥）远离客户端。

**改进的数据获取**

第四，服务器组件提升了数据获取效率。通常情况下，使用`useEffect`在客户端获取数据时，子组件只有在父组件完成加载数据后才能开始加载自己的数据。这种顺序获取数据常常导致性能不佳。

主要问题不在于往返旅行本身，而在于这些往返旅行是从客户端到服务器端进行的。服务器组件使应用程序能够将这些顺序往返旅行移到服务器端。通过将此逻辑移到服务器端，减少了请求延迟，并提高了整体性能，消除了客户端服务器瀑布现象。

**缓存**

第五，服务器端渲染使结果可以缓存，可以在后续请求和不同用户之间重复使用。这种方法可以显著提高性能，并通过最小化每个请求所需的渲染和数据获取来降低成本。

**更快的初始页面加载和首次内容绘制**

第六，通过服务器组件，初始页面加载和首次内容绘制（FCP）显著改善。通过在服务器上生成HTML，页面立即渲染，无需下载、解析和执行JavaScript而导致的延迟。

**改进的SEO**

第七，关于搜索引擎优化（SEO），服务器渲染的HTML对搜索引擎爬虫完全可访问，增强了页面的可索引性。

**高效的流式传输**

最后是流式传输。服务器组件允许将渲染过程分成可管理的块，然后在准备好时将其流式传输到客户端。这种方法使用户可以更早地看到页面的部分内容，消除了在服务器上等待整个页面渲染完成的必要性。

这里有一个`ProductList`页面服务器组件的示例：

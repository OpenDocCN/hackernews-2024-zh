<!--yml

类别：未分类

日期：2024-05-27 14:31:46

<!--

# FreeBSD 如何在数据中心中部署安普 Arm64 服务器

> 来源：[https://amperecomputing.com/blogs/ampere-in-the-wild](https://amperecomputing.com/blogs/ampere-in-the-wild)

自 2020 年末起，[安普](https://amperecomputing.com/company/about-us) 捐赠了五台服务器给 FreeBSD 社区，而 FreeBSD 基金会为社区另购买了两台服务器以支持 FreeBSD 的开发。

这些服务器位于新泽西州布里奇沃特的 365 数据中心，与 Arm64 指令集兼容，并且专为大型云平台用户优化。安普是一家云原生处理器供应商，其芯片以密度、能效和性能广为人知，这使其成为 FreeBSD 的理想配置之一，因为 FreeBSD 也以相同的属性而闻名。这些组合的安普系统在四个关键领域为 FreeBSD 提供价值：

**包构建机器**

在布里奇沃特 365 数据中心中，三台安普系统作为 FreeBSD 的包构建机器运行。它们提供在 FreeBSD 13、14 和 15 中可用的所有 Arm64 生产包，并构建两种类型的包：最新和季度：

最新包基于持续进行中的基础构建，也称为“滚动发布”。本质上，这意味着每当端口（即包蓝图）发生更改时，就会构建一个新的包。最新包适用于那些喜欢或需要即时获取最新软件的用户。

季度包是根据每个季度初的端口树快照构建的。这些包适用于那些喜欢每隔几个月更新一次包的用户。安全补丁和更新从最新包版本回溯到季度包。这意味着安全修复程序是从上游软件的最新版本中获取，并应用于较旧的版本，即季度更新版本。

**安全构建和测试**

桥水数据中心的第四台安普系统专门供安全团队使用，用于在所有支持的 FreeBSD 分支上构建和测试 Arm64 的安全更新。

FreeBSD 严肃对待安全问题。开发人员持续加强操作系统的硬化。这反过来有助于保护其他项目开发人员的工作。毫无疑问，必须采用分层保护措施来抵御现代安全威胁。FreeBSD 安全团队不断努力确保操作系统水平的防御尽可能强大。为了实现这一目标，FreeBSD 安全策略专注于三个主要领域和组：

1.  **产品安全事件响应团队（PSIRT）**。PSIRT负责处理安全问题报告。其最终目标是通过识别问题并提供修复方案来响应已发现和报告的安全漏洞。

1.  **积极的安全工作**。与事件响应相对立的积极安全工作包括积极搜索以识别安全漏洞缓解措施和总体架构安全审查。这个团队由安全团队成员和专业领域专家组成，他们还涵盖了随机数生成器和FreeBSD中的总体设计时安全性。

1.  **加固FreeBSD基础设施的安全性**，包括FreeBSD网站、源代码仓库及所有FreeBSD运行的服务。有几个团队致力于这方面的安全工作，并不仅限于安全团队成员。

**下载服务器**

FreeBSD作为互联网服务器，其最为人所知的优势之一是无与伦比的可靠性和性能。在Bridgewater数据中心的第五台Ampere机器正在运行，即ftp0.freebsd.org，这是FreeBSD生成的所有镜像文件的主要分发节点。一个现代的FTP服务器早已超越了其名称。因此，大多数从ftp.freebsd.org/ftp0.freebsd.org传输的文件都是通过HTTP或HTTPS协议进行的。然而，这些服务器的目的仍然相同，即在服务器之间和通过云进行文件的快速传输。通过这种方式简化和加快分发，用户可以快速轻松地下载和上传他们所需的文件和镜像。

**运行参考监狱**

FreeBSD为开发者社区提供参考平台，支持在FreeBSD支持的架构上移植和测试应用程序。在Bridgewater数据中心，第六台Ampere机器（即将加入第七台）为多个FreeBSD版本提供了参考监狱。FreeBSD端口维护者使用这些Arm64服务器测试其端口的更新。

**未来发展**

这些服务器还支持在Arm64架构上优化bhyve和高核心数量的可扩展性的开发工作。这对于希望向客户提供多个实例大小的云服务提供商和托管公司，以及希望通过确保工作负载获得所需资源并且不过剩来优化硬件利用率的企业用户尤其有用。总之，Ampere原生云处理器与最新服务器硬件的结合提升了FreeBSD的功能和使用，同时也为FreeBSD社区带来了强大的潜力和支持。

<!--yml

类别：未分类

日期：2024-05-27 15:02:07

-->

# E.W.Dijkstra Archive: A Parabel (EWD 365)

> 来源：[https://www.cs.utexas.edu/users/EWD/transcriptions/EWD03xx/EWD365.html](https://www.cs.utexas.edu/users/EWD/transcriptions/EWD03xx/EWD365.html)

一则寓言

"多年前，一家铁路公司成立了，其中一位董事 -- 可能是商业家 -- 发现如果只有百分之五十的车辆配备了厕所，那么初始投资可以显著减少，于是便如此决定。

"公司刚刚开始运营不久，但是，关于厕所的投诉却纷至沓来。经过调查发现，显而易见的事情发生了：尽管公司年轻，但内部沟通问题已经显现，因为总经理对厕所的决定并未传达到调车场，所有的车辆都被视为等同，结果有时候列车几乎没有任何厕所。

"为了解决问题，每辆车都关联了一些信息，告知其是否带有厕所，并且调车场被指示组成尽可能数量相等的两种类型的车辆的列车。这对调车场来说是一个复杂化，但一旦问题解决了，负责调车程序的人们感到非常自豪。

"然而，当新的调车程序生效后，关于厕所的投诉继续涌入。进行了新的调查，结果发现，尽管每列火车大约有一半的车辆确实配备了厕所，但有时候列车几乎全都集中在列车的一半区域内。为了解决这一问题，发布了新的指示，要求带有厕所和没有厕所的车辆交替排列。这对调车人员来说是更严重的复杂化，但经过一些初步的抱怨后，他们最终还是解决了。

"然而，投诉仍在继续，原因是配有厕所的车辆一个端头有一个厕所，因此在列车上两个相邻厕所之间的距离仍然可能接近三个车身长度，对于急需上厕所的母亲们 -- 也许甚至还有堆积在走廊上的行李 -- 这可能导致灾难。因此，配有厕所的车辆又附加了另一部分信息，使它们成为定向对象，并且新的指示是，在每列列车中，配有厕所的车辆应该具有相同的方向。这次，新的指示收到的热情不如以往，因为转盘的数量几乎不够；要完全公平对待调车人员，我们必须甚至承认，按照所有合理的标准，转盘的数量是不足的，只是凭借最狡猾的智慧，他们才能勉强处理。

"尽管所有的卫生间都均匀分布在火车上，公司确信现在一切都好了，但乘客们仍在抱怨：尽管没有一个乘客距离最近的卫生间超过一个车厢的距离，但有紧急需求的乘客并不知道应该朝哪个方向开始他们摇晃的行程！为了解决这个问题，在所有走廊上都固定了写有“卫生间”的箭头，使另一半车厢也成为应该通过编组程序正确定向的定向对象。

"当新指令到达编组场时，它们制造了从绝望到反抗的气氛：这根本办不到！正是在那个关键时刻，一个名字已被遗忘且将永远不会被追溯的人，做出了以下观察。如果每辆带有卫生间的车厢都与一辆没有卫生间的车厢从现在直到永远连接在其带有卫生间的一端，那么，从现在开始，编组场不再需要处理两种类型的N个定向车辆，而可以处理N/2个可视为对称的相同单位。这个解决方案以极小的代价解决了所有编组问题，首先是只使用车厢数为偶数的列车——这几辆额外的车可以用节省的初始费用支付！其次是稍微在卫生间的等间距上稍作弊。但毕竟，谁在乎最后三英尺呢？

"尽管在这个故事发生的时候，人类还没有被自动计算机祝福，我们匿名的发现解决方案的人理应被称为世界上第一个称职的程序员。"

我曾向不同的听众讲过这个故事。程序员通常对此感到高兴，而经理们则在故事进展中变得越来越恼火；然而真正的数学家却看不出其中的要点。

<!--yml

类别：未分类

日期：2024年05月29日 12:29:43

-->

# Figma 今天在只有视图的页面上移除 `window.figma` - Figma 社区论坛的一般讨论

> 来源：[https://forum.figma.com/t/figma-removed-window-figma-on-view-only-pages-today/67292](https://forum.figma.com/t/figma-removed-window-figma-on-view-only-pages-today/67292)

让我们先介绍一些背景。

我们的设计团队去年开始使用 Figma 进行设计和交付，在这一过程中，我们已经购买了超过 200 个企业席位。最初，交付过程是非常愉快的，直到 Figma 开始收费开发模式。在开发模式存在之前，使用检视面板的查看功能对我们来说就已经足够了。我们没有预料到 Figma 会对检视面板进行“微小调整”，使视图唯读用户更有可能购买开发模式。工程师们一直在抱怨他们无法像以前一样高效地查看设计草案或复制 CSS 代码（指的不是开发模式 beta，而是开发模式之前的原始检视面板）。一些工程团队甚至询问设计师是否可以换回 Sketch，因为视图唯读模式下的交付效率严重恶化。但是，由于我们团队中有许多设计师，并且在 Figma 上构建组件库已经投入了大量精力，并且所有业务设计草案都是用它制作的，正如本文所述， [我们的设计资产现在已成为迫使用户购买开发模式席位的人质](https://medium.com/@devolve/the-coming-figma-apocalypse-nobody-is-talking-about-0d6ea29976ce#:~:text=If%20you%20don%E2%80%99t%20pay%20up%2C%20your%20designs%20are%20now%20hostage.)。

我一直相信以这种方式销售开发模式在我们这样的团队中不会取得好效果：工程师分散在各个团队，很难说服所有工程团队为何切换到更好的设计工具意味着他们必须额外付费以维持他们的效率（以前，像 Sketch + Sketch Measure 这样的工具已经足够了）。

并不是说开发模式没用，它提供了很多有用的功能。然而，与原始的检视面板相比，在我们的情况下，它并没有显著的优势。相反，像查看/复制 CSS 这样的功能对交付非常关键，而这些功能在我们初次尝试 Figma 时是可用的。而我们真正想要的一些功能，比如运行自己的 Figma 插件。Figma 只提供了我们广泛开发的插件的运行时环境，这些插件在设计模式下使用了 95% 以上的时间（我们支付了相当多的费用），但却要求所有工程师付费，这是荒谬的。

当然，Figma “友善地”录制了[教程视频](https://www.youtube.com/watch?v=t7Tk3080CyY)来指导用户如何在只读模式下复制 CSS 等功能，他们清楚用户需要的是将这些功能重新引入到检查面板中，而不是隐藏在几层上下文菜单后面。这些障碍是**故意设计**的，Figma 团队比任何人都更清楚哪些功能是必不可少的，哪些只是不错的功能。

切换到 Figma 对设计师来说是一个巨大的改进，我们都承认这一点。然而，削弱免费用户（工程师）以准强制方式推广 Dev 模式已经损害了你们的付费用户。

返回到帖子标题。

在遇到上述问题并具有开发 Figma 插件经验后，我们从 Figma 的文档中了解到[每个页面都有一个全局的`window.figma`对象](https://www.figma.com/plugin-docs/api/global-objects/#:~:text=The%20figma%20global%20object%20is%20available%20in%20every%20Figma%20window.)，社区曾试图优化工程师在只读模式下的体验，基于这个漏洞。因此，我们开发了一个浏览器扩展，直接通过浏览器扩展面板将隐藏的复制 CSS 功能变得直接可访问，并使我们自己的 Figma 插件输出更加用户友好。在向工程师提供了插件后，他们发现这些功能非常有用（实际上只是缩短了本应直接可用但被隐藏的功能操作路径），并且能够再次与 Figma 和平共处。当然，我们考虑过如果 Figma 有一天移除这个全局对象，插件将变得无法使用。然而，我们认为 Figma 不会如此小气。如果他们对 Dev 模式提供的价值有信心，为什么要封锁一个几天内开发的浏览器扩展？仅仅提供输出/复制 CSS 功能足以使 Dev 模式难以销售吗？如果是这样，Figma 团队应该反思 Dev 模式的实际价值。

但事实证明我们过于乐观了。无论是 Figma 还是其他类似的插件，从今天开始，在只读模式下，Figma 已从所有页面中移除了`window.figma`，使得我们无法使用此 API 获取当前选定节点的信息，使得几天前才诞生的浏览器扩展几乎无法使用。我不禁问 Figma 团队，我们目前能在自己的编辑模式下使用“复制到草稿箱”来使用浏览器插件获取 CSS 代码，你们打算也封锁这个功能吗？

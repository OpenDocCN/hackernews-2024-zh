- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-29 12:50:30'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: Sunshine
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://toaster.llc/blog/sunshine/index.html](https://toaster.llc/blog/sunshine/index.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: '<center-column>Zero to Photon:'
  prefs: []
  type: TYPE_NORMAL
- en: Sunshine
  prefs: []
  type: TYPE_NORMAL
- en: 2024 . 3 . 21
  prefs: []
  type: TYPE_NORMAL
- en: In the process of making a camera, inevitably you're going to be taking a lot
    of pictures. While capturing imagery with [Photon](/photon), there were two sunlight-related
    phenomena that I found surprising and interesting.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Transparency
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The first phenomenon occurred in Kentucky while I was visiting my father.
  prefs: []
  type: TYPE_NORMAL
- en: 'I was streaming images from a prototype while working in the living room of
    my childhood home. I picked up the prototype and the back side of the PCB caught
    a ray of sunlight shining through the windows. Immediately the imagery transformed
    — it showed not only the living room, but the living room with wiring traces superimposed:'
  prefs: []
  type: TYPE_NORMAL
- en: I'm pretty sure I didn't accidentally implement a wire trace renderer in the
    imaging pipeline...
  prefs: []
  type: TYPE_NORMAL
- en: 'At first I assumed these were the metal traces of Photon''s PCB:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Left**'
  prefs: []
  type: TYPE_NORMAL
- en: ': PCB layout; the outer rectangle is the bounds of the image sensor IC. The
    inner rectangle is the pixel array region of the image sensor.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Right**: the actual PCB under a microscope.'
  prefs: []
  type: TYPE_NORMAL
- en: 'But a closer inspection shows that the traces on the PCB don''t match the mystery
    traces:'
  prefs: []
  type: TYPE_NORMAL
- en: Not a match!
  prefs: []
  type: TYPE_NORMAL
- en: '**Left**: PCB layout; zoomed and cropped to the bounds of the image sensor
    pixel array.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Right**: mystery traces; captured while covering the lens so that the only
    light entering the image sensor is from its back side.'
  prefs: []
  type: TYPE_NORMAL
- en: If the mystery traces aren't PCB traces, what are they?
  prefs: []
  type: TYPE_NORMAL
- en: 'When I returned to San Jose, I was able to look at the back side of a spare
    image sensor under a microscope:'
  prefs: []
  type: TYPE_NORMAL
- en: Back side of a spare image sensor
  prefs: []
  type: TYPE_NORMAL
- en: 'Enhance:'
  prefs: []
  type: TYPE_NORMAL
- en: Bingo!
  prefs: []
  type: TYPE_NORMAL
- en: '**Left**: back side of image sensor; desaturated and cropped to the bounds
    of the image sensor''s pixel array.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Right**: same mystery traces.'
  prefs: []
  type: TYPE_NORMAL
- en: It's a match! The mystery traces are the BGA circuitry on the back side of the
    image sensor.
  prefs: []
  type: TYPE_NORMAL
- en: 'The phenomenon appears to be particularly sensitive to light in the UV spectrum.
    For example, the mere ambient UV from having an open window in my living room
    triggers it for a device without a backplate:'
  prefs: []
  type: TYPE_NORMAL
- en: </uv-traces-living-room.06918f22.mp4>
  prefs: []
  type: TYPE_NORMAL
- en: The traces appear when opening a window, even with the device out of direct
    sunlight.
  prefs: []
  type: TYPE_NORMAL
- en: Note the distinct purple hue of the traces, suggesting the UV spectrum.
  prefs: []
  type: TYPE_NORMAL
- en: Compared to the visible spectrum of light, I'm guessing UV can more easily penetrate
    the FR-4 of the PCB due to its higher energy.
  prefs: []
  type: TYPE_NORMAL
- en: Fortunately Photon has an aluminum enclosure which prevents this phenomenon
    from occurring in the field; if Photon had a plastic enclosure, light shielding
    would be necessary.
  prefs: []
  type: TYPE_NORMAL
- en: '* * *'
  prefs: []
  type: TYPE_NORMAL
- en: Cosmic Glitch
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The second phenomenon happened in San Jose while streaming images from a Photon
    prototype. As soon as I walked out the door to test the imaging outside, the streaming
    images halted.
  prefs: []
  type: TYPE_NORMAL
- en: 'Probably just a bug in my USB stack, I figured. I went back inside and got
    images streaming again, but the instant I stepped outside it happened again. As
    crazy as it seemed at the time, the consistency was undeniable: something about
    being outdoors was glitching the prototype.'
  prefs: []
  type: TYPE_NORMAL
- en: 'A few more experiments confirmed it: the problem didn''t occur when the prototype
    was outdoors but in the shade, and wrapping the board in electrical tape also
    prevented it. (This was before I had metal enclosures to test with.)'
  prefs: []
  type: TYPE_NORMAL
- en: 'To narrow the problem down to specific components, I made an aluminum-foil
    mask and taped it to the side of my kitchen table, and configured my computer
    to beep when the glitch occurred. Now I could move the board around to direct
    the tiny sun beam:'
  prefs: []
  type: TYPE_NORMAL
- en: </glitches.0675a26c.mov>
  prefs: []
  type: TYPE_NORMAL
- en: 'The sunbeam easily identified the two chips that are disrupted by sunlight:
    a 16 MHz clock, and a 3.3V LDO.'
  prefs: []
  type: TYPE_NORMAL
- en: Enable audio to hear when the glitches occur.
  prefs: []
  type: TYPE_NORMAL
- en: 'This strategy made it very clear which components are affected, and they all
    have one thing in common: [chip-scale packaging!](https://en.wikipedia.org/wiki/Chip-scale_package)
    These types of chips aren''t encased in black plastic, which allows light to enter
    the silicon die and disrupt normal operation.'
  prefs: []
  type: TYPE_NORMAL
- en: Photon is apparently an excellent sunlight detector!</center-column>
  prefs: []
  type: TYPE_NORMAL

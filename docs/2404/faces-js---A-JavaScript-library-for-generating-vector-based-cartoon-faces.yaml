- en: <!--yml
  id: totrans-split-0
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  id: totrans-split-1
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 12:57:57'
  id: totrans-split-2
  prefs: []
  type: TYPE_NORMAL
- en: -->
  id: totrans-split-3
  prefs: []
  type: TYPE_NORMAL
- en: faces.js - A JavaScript library for generating vector-based cartoon faces
  id: totrans-split-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://zengm.com/facesjs/](https://zengm.com/facesjs/)
  id: totrans-split-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: A JavaScript library for generating vector-based cartoon faces
  id: totrans-split-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To load new random faces, click here or press "r" on your keyboard.
  id: totrans-split-7
  prefs: []
  type: TYPE_NORMAL
- en: faces.js is a JavaScript library that generates and displays cartoon faces,
    somewhat reminiscent of Nintendo's Miis. Faces are drawn as SVGs and are also
    represented by a small JavaScript object, which allows you to store that object
    and then draw the same face again later.
  id: totrans-split-8
  prefs: []
  type: TYPE_NORMAL
- en: Originally faces.js was made for [Basketball GM](https://basketball-gm.com/)
    and other games by [ZenGM](https://zengm.com/), but now it is used in several
    other projects.
  id: totrans-split-9
  prefs: []
  type: TYPE_NORMAL
- en: For users
  id: totrans-split-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can use the [face editor](/facesjs/editor/) to generate a custom face, and
    then export in JSON/SVG/PNG format.
  id: totrans-split-11
  prefs: []
  type: TYPE_NORMAL
- en: For developers
  id: totrans-split-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: (This is just a copy of
  id: totrans-split-13
  prefs: []
  type: TYPE_NORMAL
- en: '[the README from the GitHub repo](https://github.com/zengm-games/facesjs)'
  id: totrans-split-14
  prefs: []
  type: TYPE_NORMAL
- en: .)
  id: totrans-split-15
  prefs: []
  type: TYPE_NORMAL
- en: Installation
  id: totrans-split-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-split-17
  prefs: []
  type: TYPE_PRE
- en: Use
  id: totrans-split-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Import it with ES modules:'
  id: totrans-split-19
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-split-20
  prefs: []
  type: TYPE_PRE
- en: 'or CommonJS:'
  id: totrans-split-21
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-split-22
  prefs: []
  type: TYPE_PRE
- en: 'Then, generate a random face:'
  id: totrans-split-23
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-split-24
  prefs: []
  type: TYPE_PRE
- en: 'And display it:'
  id: totrans-split-25
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-split-26
  prefs: []
  type: TYPE_PRE
- en: If you’d like a non-random face, look inside the `face` variable and you’ll
    see all the available options for a manually constructed face.
  id: totrans-split-27
  prefs: []
  type: TYPE_NORMAL
- en: Overrides
  id: totrans-split-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'Both `display` and `generate` accept an optional argument, specifying values
    to override either the randomly generated face (for `generate`) or the supplied
    face (for `display`). For instance:'
  id: totrans-split-29
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-split-30
  prefs: []
  type: TYPE_PRE
- en: Options
  id: totrans-split-31
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: The `generate` function takes a second optional argument, which takes in extra
    parameters for player creation, in the form of an object.
  id: totrans-split-32
  prefs: []
  type: TYPE_NORMAL
- en: 'Generate a female/male face (default is male):'
  id: totrans-split-33
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-split-34
  prefs: []
  type: TYPE_PRE
- en: 'Assign a race attribute that can be white, black, asian, or brown (default
    is random):'
  id: totrans-split-35
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-split-36
  prefs: []
  type: TYPE_PRE
- en: 'Or both together:'
  id: totrans-split-37
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-split-38
  prefs: []
  type: TYPE_PRE
- en: Exporting SVGs
  id: totrans-split-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: API
  id: totrans-split-40
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can use `faceToSvgString` to convert a face object to an SVG string.
  id: totrans-split-41
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-split-42
  prefs: []
  type: TYPE_PRE
- en: 'You can also specify overrides, similar to `display`:'
  id: totrans-split-43
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  id: totrans-split-44
  prefs: []
  type: TYPE_PRE
- en: '`faceToSvgString` is intended to be used in Node.js If you are doing client-side
    JS, it would be more efficient to render a face to the DOM using `display` and
    then [convert it to a blob like this](https://github.com/zengm-games/facesjs/blob/19ce236af6adbf76db29c4e669210b30e1de0e1a/public/editor/downloadFace.ts#L61-L64).'
  id: totrans-split-45
  prefs: []
  type: TYPE_NORMAL
- en: CLI
  id: totrans-split-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: You can also use `facesjs` as a CLI program. All of the functionality from `generate`
    and `display` are available on the CLI too.
  id: totrans-split-47
  prefs: []
  type: TYPE_NORMAL
- en: Examples
  id: totrans-split-48
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: 'Output a random face to stdout:'
  id: totrans-split-49
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  id: totrans-split-50
  prefs: []
  type: TYPE_PRE
- en: 'Generate a blue female face and output to stdout:'
  id: totrans-split-51
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  id: totrans-split-52
  prefs: []
  type: TYPE_PRE
- en: 'Generate a male white face and save it to test.svg:'
  id: totrans-split-53
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  id: totrans-split-54
  prefs: []
  type: TYPE_PRE
- en: Options
  id: totrans-split-55
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
- en: '[PRE14]'
  id: totrans-split-56
  prefs: []
  type: TYPE_PRE
- en: '`--input-file` and `--input-json` can specify either an entire face object
    or a partial face object. If it’s a partial face object, the other features will
    be random.'
  id: totrans-split-57
  prefs: []
  type: TYPE_NORMAL
- en: Development
  id: totrans-split-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Running `yarn run dev` will do a few things:'
  id: totrans-split-59
  prefs: []
  type: TYPE_NORMAL
- en: Give you a URL to open the face editor UI in your browser
  id: totrans-split-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Watch for changes to the code
  id: totrans-split-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Watch for changes to the facial feature SVG files
  id: totrans-split-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Update the face editor UI when any code or SVG changes
  id: totrans-split-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This lets you immediately see your changes as you work.
  id: totrans-split-64
  prefs: []
  type: TYPE_NORMAL
- en: Adding new facial features
  id: totrans-split-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Each face is assembled from multiple SVGs. You can see them within the “svg”
    folder. If you want to add another feature, just create an SVG (using a vector
    graphics editor like [Inkscape](https://inkscape.org/)) and put it in the appropriate
    folder. It should automatically work. If not, it’s a bug, please let me know!
  id: totrans-split-66
  prefs: []
  type: TYPE_NORMAL
- en: When creating SVGs, assume the size of the canvas is 400x600\. For most features,
    it doesn’t matter where you draw on the canvas because it will automatically identify
    your object and position it in the appropriate place. But for head and hair SVGs,
    position does matter. For those you do need to make sure they are in the correct
    place on a 400x600 canvas, same as the existing head and hair SVGs. Otherwise
    it won’t know where to place the other facial features relative to the head and
    hair.
  id: totrans-split-67
  prefs: []
  type: TYPE_NORMAL
- en: If you find it not quite placing a facial feature exactly where you want, it’s
    because by default it finds the center of the eye/eyebrow/mouth/nose SVG and places
    that in a specific location. If that’s not good for a certain facial feature,
    that behavior can be overridden in code. For instance, see how it’s done in display.js
    for the “pinocchio” nose which uses the left side of the SVG rather than the center
    to place it.
  id: totrans-split-68
  prefs: []
  type: TYPE_NORMAL
- en: If you want a brand new “class” of facial features (like facial hair, or earrings,
    or hats) you’ll have to create a new subfolder within the “svg” folder and edit
    the code to recognize your new feature.
  id: totrans-split-69
  prefs: []
  type: TYPE_NORMAL
- en: If you find any of this confusing, feel free to reach out to me for help! I
    would love for someone to help me make better looking faces :)
  id: totrans-split-70
  prefs: []
  type: TYPE_NORMAL
- en: Credits
  id: totrans-split-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '[dumbmatter](https://github.com/dumbmatter) wrote most of the code, [TravisJB89](https://github.com/TravisJB89)
    made most of the graphics, [Lia Cui](https://liacui.carrd.co/) made most of the
    female graphics, [gurushida](https://github.com/gurushida) wrote the code to export
    faces as SVG strings, and [tomkennedy22](https://github.com/tomkennedy22) wrote
    most of the editor UI code.'
  id: totrans-split-72
  prefs: []
  type: TYPE_NORMAL

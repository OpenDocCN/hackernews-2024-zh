- en: <!--yml
  id: totrans-split-0
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  id: totrans-split-1
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 13:05:07'
  id: totrans-split-2
  prefs: []
  type: TYPE_NORMAL
- en: -->
  id: totrans-split-3
  prefs: []
  type: TYPE_NORMAL
- en: soutade/libgourou - libgourou - Forge soutade
  id: totrans-split-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://forge.soutade.fr/soutade/libgourou](https://forge.soutade.fr/soutade/libgourou)
  id: totrans-split-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Introduction
  id: totrans-split-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: libgourou is a free implementation of Adobe's ADEPT protocol used to add DRM
    on ePub/PDF files. It overcomes the lack of Adobe support for Linux platforms.
  id: totrans-split-7
  prefs: []
  type: TYPE_NORMAL
- en: Architecture
  id: totrans-split-8
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Like RMSDK, libgourou has a client/server scheme. All platform specific functions
    (crypto, network...) have to be implemented in a client class (that derives from
    DRMProcessorClient) while server implements ADEPT protocol. A reference implementation
    using cURL, OpenSSL and libzip is provided (in *utils* directory).
  id: totrans-split-9
  prefs: []
  type: TYPE_NORMAL
- en: 'Main functions to use from gourou::DRMProcessor are:'
  id: totrans-split-10
  prefs: []
  type: TYPE_NORMAL
- en: 'Get an ePub from an ACSM file : *fulfill()* and *download()*'
  id: totrans-split-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Create a new device : *createDRMProcessor()*'
  id: totrans-split-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Register a new device : *signIn()* and *activateDevice()*'
  id: totrans-split-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Remove DRM : *removeDRM()*'
  id: totrans-split-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Return loaned book : *returnLoan()*'
  id: totrans-split-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'You can import configuration from (at least):'
  id: totrans-split-16
  prefs: []
  type: TYPE_NORMAL
- en: 'Kobo device : .adept/device.xml, .adept/devicesalt and .adept/activation.xml'
  id: totrans-split-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Bookeen device : .adobe-digital-editions/device.xml, root/devkey.bin and .adobe-digital-editions/activation.xml'
  id: totrans-split-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Or create a new one. Be careful: there is a limited number of devices that
    can be created by one account.'
  id: totrans-split-19
  prefs: []
  type: TYPE_NORMAL
- en: 'ePub are encrypted using a shared key: one account / multiple devices, so you
    can create and register a device into your computer and read downloaded (and encrypted)
    ePub file with your eReader configured using the same AdobeID account.'
  id: totrans-split-20
  prefs: []
  type: TYPE_NORMAL
- en: For those who want to remove DRM without adept_remove, you can export your private
    key and import it within [Calibre](https://calibre-ebook.com/) an its DeDRM plugin.
  id: totrans-split-21
  prefs: []
  type: TYPE_NORMAL
- en: Dependencies
  id: totrans-split-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'For libgourou:'
  id: totrans-split-23
  prefs: []
  type: TYPE_NORMAL
- en: '*externals* :'
  id: totrans-split-24
  prefs: []
  type: TYPE_NORMAL
- en: '*internals*:'
  id: totrans-split-25
  prefs: []
  type: TYPE_NORMAL
- en: 'For utils:'
  id: totrans-split-26
  prefs: []
  type: TYPE_NORMAL
- en: libcurl
  id: totrans-split-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: OpenSSL
  id: totrans-split-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: libzip
  id: totrans-split-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: libpugixml
  id: totrans-split-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Internal libraries are automatically fetched and statically compiled during
    the first run. When you update libgourou''s repository, **don''t forget to update
    internal libraries** with:'
  id: totrans-split-31
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-split-32
  prefs: []
  type: TYPE_PRE
- en: Compilation
  id: totrans-split-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Use *make* command
  id: totrans-split-34
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-split-35
  prefs: []
  type: TYPE_PRE
- en: CROSS can define a cross compiler prefix (ie arm-linux-gnueabihf-)
  id: totrans-split-36
  prefs: []
  type: TYPE_NORMAL
- en: DEBUG can be set to compile in DEBUG mode
  id: totrans-split-37
  prefs: []
  type: TYPE_NORMAL
- en: BUILD_UTILS to build utils or not
  id: totrans-split-38
  prefs: []
  type: TYPE_NORMAL
- en: STATIC_UTILS to build utils with static library (libgourou.a) instead of default
    dynamic one (libgourou.so)
  id: totrans-split-39
  prefs: []
  type: TYPE_NORMAL
- en: BUILD_STATIC build libgourou.a if 1, nothing if 0, can be combined with BUILD_SHARED
  id: totrans-split-40
  prefs: []
  type: TYPE_NORMAL
- en: BUILD_SHARED build libgourou.so if 1, nothing if 0, can be combined with BUILD_STATIC
  id: totrans-split-41
  prefs: []
  type: TYPE_NORMAL
- en: other variables are DESTDIR and PREFIX to handle destination install directory
  id: totrans-split-42
  prefs: []
  type: TYPE_NORMAL
- en: Utils
  id: totrans-split-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: First, add libgourou.so to your LD_LIBRARY_PATH
  id: totrans-split-44
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-split-45
  prefs: []
  type: TYPE_PRE
- en: You can optionaly specify your .adept directory
  id: totrans-split-46
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-split-47
  prefs: []
  type: TYPE_PRE
- en: 'Then, use utils as following:'
  id: totrans-split-48
  prefs: []
  type: TYPE_NORMAL
- en: 'You can import configuration from your eReader or create a new one with *utils/adept_activate*:'
  id: totrans-split-49
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-split-50
  prefs: []
  type: TYPE_PRE
- en: Then a */home//.config/adept* directory is created with all configuration file
  id: totrans-split-51
  prefs: []
  type: TYPE_NORMAL
- en: 'To download an ePub/PDF:'
  id: totrans-split-52
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-split-53
  prefs: []
  type: TYPE_PRE
- en: 'To export your private key (for DeDRM software):'
  id: totrans-split-54
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-split-55
  prefs: []
  type: TYPE_PRE
- en: 'To remove ADEPT DRM:'
  id: totrans-split-56
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-split-57
  prefs: []
  type: TYPE_PRE
- en: 'To list loaned books:'
  id: totrans-split-58
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-split-59
  prefs: []
  type: TYPE_PRE
- en: 'To return a loaned book:'
  id: totrans-split-60
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-split-61
  prefs: []
  type: TYPE_PRE
- en: You can get utils full options description with -h or --help switch
  id: totrans-split-62
  prefs: []
  type: TYPE_NORMAL
- en: Docker
  id: totrans-split-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A docker image (by bcliang) is available at [https://github.com/bcliang/docker-libgourou/](https://github.com/bcliang/docker-libgourou/)
  id: totrans-split-64
  prefs: []
  type: TYPE_NORMAL
- en: Copyright
  id: totrans-split-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Grégory Soutadé
  id: totrans-split-66
  prefs: []
  type: TYPE_NORMAL
- en: License
  id: totrans-split-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'libgourou : LGPL v3 or later'
  id: totrans-split-68
  prefs: []
  type: TYPE_NORMAL
- en: 'utils : BSD'
  id: totrans-split-69
  prefs: []
  type: TYPE_NORMAL
- en: Special thanks
  id: totrans-split-70
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '*Jens* for all test samples and utils testing'
  id: totrans-split-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Milian* for debug & code'
  id: totrans-split-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Berwyn H* for all test samples, feedbacks, patches and kind donation'
  id: totrans-split-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL

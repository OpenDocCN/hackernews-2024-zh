- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 13:05:07'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: soutade/libgourou - libgourou - Forge soutade
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://forge.soutade.fr/soutade/libgourou](https://forge.soutade.fr/soutade/libgourou)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Introduction
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: libgourou is a free implementation of Adobe's ADEPT protocol used to add DRM
    on ePub/PDF files. It overcomes the lack of Adobe support for Linux platforms.
  prefs: []
  type: TYPE_NORMAL
- en: Architecture
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Like RMSDK, libgourou has a client/server scheme. All platform specific functions
    (crypto, network...) have to be implemented in a client class (that derives from
    DRMProcessorClient) while server implements ADEPT protocol. A reference implementation
    using cURL, OpenSSL and libzip is provided (in *utils* directory).
  prefs: []
  type: TYPE_NORMAL
- en: 'Main functions to use from gourou::DRMProcessor are:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Get an ePub from an ACSM file : *fulfill()* and *download()*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Create a new device : *createDRMProcessor()*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Register a new device : *signIn()* and *activateDevice()*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Remove DRM : *removeDRM()*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Return loaned book : *returnLoan()*'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'You can import configuration from (at least):'
  prefs: []
  type: TYPE_NORMAL
- en: 'Kobo device : .adept/device.xml, .adept/devicesalt and .adept/activation.xml'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Bookeen device : .adobe-digital-editions/device.xml, root/devkey.bin and .adobe-digital-editions/activation.xml'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Or create a new one. Be careful: there is a limited number of devices that
    can be created by one account.'
  prefs: []
  type: TYPE_NORMAL
- en: 'ePub are encrypted using a shared key: one account / multiple devices, so you
    can create and register a device into your computer and read downloaded (and encrypted)
    ePub file with your eReader configured using the same AdobeID account.'
  prefs: []
  type: TYPE_NORMAL
- en: For those who want to remove DRM without adept_remove, you can export your private
    key and import it within [Calibre](https://calibre-ebook.com/) an its DeDRM plugin.
  prefs: []
  type: TYPE_NORMAL
- en: Dependencies
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'For libgourou:'
  prefs: []
  type: TYPE_NORMAL
- en: '*externals* :'
  prefs: []
  type: TYPE_NORMAL
- en: '*internals*:'
  prefs: []
  type: TYPE_NORMAL
- en: 'For utils:'
  prefs: []
  type: TYPE_NORMAL
- en: libcurl
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: OpenSSL
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: libzip
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: libpugixml
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Internal libraries are automatically fetched and statically compiled during
    the first run. When you update libgourou''s repository, **don''t forget to update
    internal libraries** with:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Compilation
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Use *make* command
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: CROSS can define a cross compiler prefix (ie arm-linux-gnueabihf-)
  prefs: []
  type: TYPE_NORMAL
- en: DEBUG can be set to compile in DEBUG mode
  prefs: []
  type: TYPE_NORMAL
- en: BUILD_UTILS to build utils or not
  prefs: []
  type: TYPE_NORMAL
- en: STATIC_UTILS to build utils with static library (libgourou.a) instead of default
    dynamic one (libgourou.so)
  prefs: []
  type: TYPE_NORMAL
- en: BUILD_STATIC build libgourou.a if 1, nothing if 0, can be combined with BUILD_SHARED
  prefs: []
  type: TYPE_NORMAL
- en: BUILD_SHARED build libgourou.so if 1, nothing if 0, can be combined with BUILD_STATIC
  prefs: []
  type: TYPE_NORMAL
- en: other variables are DESTDIR and PREFIX to handle destination install directory
  prefs: []
  type: TYPE_NORMAL
- en: Utils
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: First, add libgourou.so to your LD_LIBRARY_PATH
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: You can optionaly specify your .adept directory
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'Then, use utils as following:'
  prefs: []
  type: TYPE_NORMAL
- en: 'You can import configuration from your eReader or create a new one with *utils/adept_activate*:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Then a */home//.config/adept* directory is created with all configuration file
  prefs: []
  type: TYPE_NORMAL
- en: 'To download an ePub/PDF:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: 'To export your private key (for DeDRM software):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: 'To remove ADEPT DRM:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: 'To list loaned books:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: 'To return a loaned book:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: You can get utils full options description with -h or --help switch
  prefs: []
  type: TYPE_NORMAL
- en: Docker
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A docker image (by bcliang) is available at [https://github.com/bcliang/docker-libgourou/](https://github.com/bcliang/docker-libgourou/)
  prefs: []
  type: TYPE_NORMAL
- en: Copyright
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Grégory Soutadé
  prefs: []
  type: TYPE_NORMAL
- en: License
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'libgourou : LGPL v3 or later'
  prefs: []
  type: TYPE_NORMAL
- en: 'utils : BSD'
  prefs: []
  type: TYPE_NORMAL
- en: Special thanks
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '*Jens* for all test samples and utils testing'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Milian* for debug & code'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '*Berwyn H* for all test samples, feedbacks, patches and kind donation'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL

<!--yml

分类：未分类

date: 2024-05-27 13:08:37

-->

# 家庭网络布线指南

> 来源：[https://saagarjha.com/blog/2024/04/12/wiring-your-house-for-networking/](https://saagarjha.com/blog/2024/04/12/wiring-your-house-for-networking/)

从阅读我的[关于页面](https://saagarjha.com/)你可能不会知道，但我不再住在库比蒂诺。多年来我都没有更新它 —— 我在南加州的时间也不多了。总有一天我应该抽时间去更新它。

当然，我现在居住的地方并不是这篇博客文章的主题 —— 顺便提一下，那是圣何塞 —— 而是我搬到了新房子，可以以正确的方式设置家庭网络™。关于我的ISP，我没太多办法（尽管现在有光纤，这很好，除了我要把灵魂卖给AT&T的部分）。然而，从调制解调器到我的电脑之间的一切 *是* 我可以控制的事情，如果我没有充分利用我付费的对称千兆速度，那我真是失败了。所以我做了一些有太多闲暇时间的技术迷会做的事情：我付钱让问题消失。在这种情况下，这就是在墙上放置[类别6电缆](https://en.wikipedia.org/wiki/Category_6_cable)的形式。可以把这看作是关于家庭网络的白痴指南，来自一个开始时是白痴，最后变成了有些10千兆骨干网的白痴的人。

## 背景

关于网络的一个普遍经验法则是，有线总是比无线更好。当然，也有例外情况 —— 我们会讨论到 —— 但如果你想要速度快，那么你通常应该尽可能直接地运行线路。当然，你不会把Lightning转以太网插入你的iPhone（你可以在互联网上买到任何东西）。但如果你像我一样大部分时间坐在办公桌前，你可以处理一些电缆。而且你通常也希望在你的网络设备之间使用电缆连接。那些时髦的即插即用无线Mesh AP？那些基本上总是骗局。真的，除非你真的不在意你的网络速度，不要买它们。如果你在它们之间运行一条直接的线路，你将获得更好的性能。

在我写这篇文章的时候，网络正处于一个即将变得有点奇怪的悬崖边缘。但从历史上看，事情一直非常清晰，而且由于今天大多数情况仍然如此，我们可以从这里开始。

当谈到网络时，有线是 *快速* 和 *便宜* 的。今天你可以买到铜质Cat6电缆，对于任何你家里合理长度的线路，每米只需几分钱，就能实现10千兆每秒的传输速度。你甚至可以奢侈一点选用Cat6a或Cat7（我模糊地感觉这些不是标准，所以我尽量避免使用？）可能是两倍的价格。Cat8有更短的长度限制（但对于大多数房子来说可能足够了），据说可以实现40 Gbps或类似的速度，你可以找到的价格只是多出一点点。

无线通信，反过来说，基本上一直比有线慢，更昂贵，而且明显更易出问题。[Wi-Fi 6](https://en.wikipedia.org/wiki/IEEE_802.11ax) ，在好的硬件上已经开始广泛采用（比如笔记本电脑、平板电脑：你的物联网设备将永远停留在802.11b/g……），具有一些疯狂的“理论”速度，但是在好的日子里，如果你在接入点（AP）附近的一两个房间内，可能会获得几百兆位的速度。当然，如果你走得更远或月相不对，你可能会看到远低于这个速度。如果你想选择Wi-Fi 6e或者刚刚进入市场的Wi-Fi 7，你将需要花费大量金钱，并且只能从所有高端选项中做出独占选择。

这基本上是过去几十年的情况，那么，*今天*，2024年，发生了什么？

### 新的更新

多年来，网络基本上只是变得更好，每个人都使用相同的有线。我们从10BASE-T过渡到100BASE-TX，再到1000BASE-T，所有这些都可以在[Cat5](https://en.wikipedia.org/wiki/Category_5_cable)电缆上正常运行，如果你小心的话。如果你想要安全或进行长距离传输，你可以选择Cat5e，对于许多电缆来说，这只是“哎呀！我们实际上比Cat5电缆的要求稍微好一点，所以它被称为Cat5e！” Cat6将你的速度从2.5 Gbps提升到10 Gbps，支持10GBASE-T，依此类推。所有这些通常都是纯铜电缆，你几乎可以免费获得。

这不是当今高速网络的运行方式。那些关心的人（想想Google，或者你当地的疯狂网络爱好者）都在使用光纤。他们不使用~~[RJ45](https://en.wikipedia.org/wiki/Registered_jack)~~，而是使用[8P8C](https://en.wikipedia.org/wiki/Modular_connector)，他们有SFP+适配器，可以达到100 Gbps的速度。我不完全了解这里的历史，但事实证明，所有直接使用铜材的硬件会变得非常热或者其他问题。或者也许是因为没有人费心为这些东西制造良好的ASIC？但是这意味着交换机通常是庞大的，发热严重，并且如果你选择2.5 Gbps则会贵两到三倍，选择10 Gbps则贵五倍。同样，每个人都会在他们的硬件上放置1 GbE端口，但很少有东西会配备2.5 Gbps或10 Gbps以太网端口。有时，这意味着你会得到非常愚蠢的产品，比如[这个](https://store.google.com/product/nest_wifi_pro_specs)，它根据其无线功能来宣传网络速度，但实际上*根本无法输入设备*，因为其有线端口速度不够快。但是现在甚至“半专业”硬件也要小心了：其中许多产品仍然只提供千兆接口。

总体而言，这实际上意味着，如果你现在想要一个常规超过千兆的网络，你可能应该开始考虑光纤了。随着你提升速度，成本实际上开始变得可比。另一方面，我认为，除非我们看到铜线有重大变化，否则无线实际上将在几年内超越它，尽管这会很烦人。它的其他可靠性问题大多会保留，但实际上可能更便宜的做法是通过Wi-Fi 8回程或类似的方式将你的网络连接发送出去，而不是将所有硬件升级到10 Gbps。早期的无线网格系统会削减你的带宽来中继数据，但新系统几乎总是保留高质量的专用天线用于此目的。因此，也许这些将是未来普通高级用户的策略。

## 我的计划

那么说到这一点，为什么我在家里选择了Cat6呢？嗯，首先，我没有比千兆速度更快的硬件。几乎所有的设备都没有2.5或10 GbE端口，或者使用的Wi-Fi标准不能超越这个速度。虽然我旧房子的墙壁里没有以太网线路，但我实际上很幸运地有一个[MoCA](https://en.wikipedia.org/wiki/Multimedia_over_Coax_Alliance)设置，给了我一个2.5 Gbps的主干网，我在上面安装了一堆千兆交换机。所以我现在在新房子里也只是重新使用了所有这些。另外，虽然我现在可以从我的ISP获取更快的互联网（高达5 Gbps！），但我其实还不想为此支付费用（$$$！）。

然而，真正的原因——一个我实际上并不经常听到的原因——是我的电缆实际上并不是“未来证明”的。当然，在某种程度上它们是的——我选择了Cat6而不是Cat5e，因为它几乎没有更多的成本，如果未来几年我真的更新了交换机和硬件，提供了充足的余地——但事情比这复杂一些。但这实际上并不是我在这里考虑的唯一因素，因此很重要去了解实际的安装过程。

### 安装细节

进入这个项目时，我基本上不知道人们如何在墙壁里布线。结果比我预期的简单得多。在较高层面上，你需要做以下几点：

1.  规划你想要布线的位置。确保你的房子覆盖良好。请记住，仅仅因为你在一个房间里有以太网并不一定意味着它就是你想要的位置：除非你希望看到一根难看的电缆横穿你的房间，否则你可能需要考虑在房间里具体放置拖线管。根据你的房子，你可能会通过地下室、阁楼或房屋外运行电缆。尽量避免没有理由的超长跑。

1.  购买供应品。特别是：

    +   你的以太网电缆。在我家，我把它穿过爬行空间。如果你想花更多的钱，你可以选择购买防火性能更佳的“隔离通道电缆”（大致地，如果你在运行电缆时通过空气流通的地方，那么在发生火灾时它不会释放出有毒气体毒害你，但你可能不会在有空气流动的地方走你的电缆）或“屏蔽电缆”（听起来是这样但我可能不需要），但据我所知在这里它并不重要而且会使你的价格翻倍，所以我没有必要选择它。

    +   连接器插座。如果你不熟悉这些（就像我以前一样），可以将其视为“笔记本端口在墙上的框架”，你拥有一个以太网母插孔并将其放入适合任何连接器插座的插槽中。它们非常巧妙实用，看起来干净专业。

    +   带有连接器插座孔的墙面面板。最经济有效的布线方式可能是设置一个中央点让所有的线路汇聚然后开通到每个房间的线路，因此你可能想要一个有六个端口和十二个端口的面板以及其他房间的单一或两个端口面板，同时在手上准备一些“空白”连接器插座以填补你未使用的孔洞。

    +   低压箱。这些安装到你在墙上打的洞中并为墙面板提供固定位置而不是灰泥后面的空旷空间。

    +   线缆切割器和剥线器。显而易见，你会需要这个来处理网线。

    +   打线工具。当你连接电缆时，你需要取出导线中的每一对扭绞线并按特定顺序将其插入到连接器插座中（当然是在一定顺序下。我选择T568B线序排列方式，但实际上并不重要）。你应该观看一个关于如何做到这一点的视频，但打线工具会让它变得简单得多。同时使用一把插座连接器夹持器。

    +   线缆测试仪。你可以找到一个像十元店便宜的测试仪。你不需要它，但它会让你感觉每个接触点都很坚固。

1.  考虑是否需要有人为你完成脏活累活。我找人跑电缆是因为我们已经有人在爬行空间为汽车充电器布线了，我绝对不敢碰它。如果不是这样，你可能需要购买材料并学习如何在墙上打孔、使用修补漆、克服对房屋下蜘蛛的恐惧等。

1.  铺设所有线缆。在两端留下几英尺的空间以便终止电线。特别是如果你搞砸了想要减少损失（直接剪掉失败的尝试）并再次尝试。你会把多余的电线推入墙壁里。

1.  在关闭之前终止所有操作并进行测试。在你将所有电线引入的中央位置你可能想要标记所有的电线。

1.  一切就绪后，放入所有面板并进行清理。

这是相当多的工作（大部分时间都花在这上面），但令人惊讶的是，相对来说它并不*那么*昂贵。你可以用大约$100买到所有这些材料。你可以花几百美元请人来布线。这实际上意味着你不必像人们告诉你那样未雨绸缪！当然，它比在亚马逊上点击一个按钮并设置一个应用要多做一些工作，但成本上它可以与更换网络硬件的任何其他部分相提并论。在过去几年里，我在路由器、适配器等方面花费了更多。

## 展望未来

有了这些，我得到了我想要的：只要插上就可以从房子里的基本任何地方获取千兆速度。而且我把端口放在了选择的位置，这样我可以直接将一些额外的AP连接到主干网上，以获取良好的无线覆盖，这点我非常满意。至少在现在和可预见的未来，我认为这对我的需求来说已经足够了。

不过，在那之后，情况就变得更复杂了。我铺设的线是Cat6，所以它们可以达到10 Gbps，假设两端都有正确的硬件。正如我之前提到的，这样的硬件今天似乎还不存在，并且还不清楚它是否会推出。如果它开始推出，我可以逐步升级 - 首先从最关键的设备开始，比如我的路由器和核心交换机，新的布线将真正是“未来证明”的，可能可以维持十年甚至更长时间。

另一个选择是高速有线网络在铜线上的普及并未真正起飞。它依然昂贵且不受欢迎，消费者基本上都倾向于更快的无线网络。在这种情况下，我认为只要可行，我会继续使用有线网络，然后再更新到无线网络，尽管这样做会感到不舒服。为此，我可能只能利用不到十年的时间来使用这些电缆 - 但这基本上和我在网络设备上的支出速度相当，所以我对此并不感到太糟糕。

最后，可能未来仍然是有线连接（光纤或其他方式……），这意味着我的Cat6并不是最佳选择。现在我肯定可以安装光纤，但处理起来有点麻烦，而我还不太习惯。不过，也许10年后我会再回来安装光纤，那时我会更有信心，因为我已经知道如何比如说在墙上打洞，并可以专注于*光纤*部分。或者，根据情况，Cat6可能会以一种新技术的方便传输方式重见天日，我会在两端配备适配器来实现这种转变。我在旧房子中使用的MoCA适配器？基本上就是那些，除了它们在同轴电缆上传输数据，我没有用处但恰巧可以重复利用，因为它就在那里。它们仍在使用中，因为它们连接到我家中难以铺设以太网电缆的某一部分，这意味着无论我做什么新的布线工作，都可能需要进行某种类型的转换。

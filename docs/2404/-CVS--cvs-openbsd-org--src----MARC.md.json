["```\n[[prev in list](?l=openbsd-cvs&m=171199962910212&w=2)] [[next in list](?l=openbsd-cvs&m=171200380712333&w=2)] [[prev in thread](?l=openbsd-cvs&m=171199962910212&w=2)] [[next in thread](?l=openbsd-cvs&m=171200380712333&w=2)] \n List:       [openbsd-cvs](?l=openbsd-cvs&r=1&w=2)\nSubject:    [CVS: cvs.openbsd.org: src](?t=97834182900002&r=1&w=2)\nFrom:       [Scott Soule Cheloha <cheloha () cvs ! openbsd ! org>](?a=161055562800001&r=1&w=2)\nDate:       [2024-04-01 19:52:07](?l=openbsd-cvs&r=1&w=2&b=202404)\nMessage-ID: [3d329ff2b7df9749 () cvs ! openbsd ! org](?i=3d329ff2b7df9749%20()%20cvs%20!%20openbsd%20!%20org)\n[Download RAW [message](?l=openbsd-cvs&m=171200100510963&q=mbox) or [body](?l=openbsd-cvs&m=171200100510963&q=raw)]\n\nCVSROOT:\t/cvs\nModule name:\tsrc\nChanges by:\tcheloha@cvs.openbsd.org\t2024/04/01 14:48:02\n\nModified files:\n\tgnu/usr.bin    : Makefile\nAdded files:\n\tgnu/usr.bin/xz : AUTHORS CMakeLists.txt COPYING COPYING.0BSD\n\t                 COPYING.CC-BY-SA-4.0 COPYING.GPLv2 COPYING.GPLv3\n\t                 COPYING.LGPLv2.1 ChangeLog INSTALL INSTALL.generic\n\t                 Makefile.am NEWS PACKAGERS README THANKS TODO\n\t                 autogen.sh configure.ac\n\tgnu/usr.bin/xz/build-aux: ci_build.sh manconv.sh version.sh\n\tgnu/usr.bin/xz/cmake: remove-ordinals.cmake tuklib_common.cmake\n\t                      tuklib_cpucores.cmake tuklib_integer.cmake\n\t                      tuklib_large_file_support.cmake tuklib_mbstr.cmake\n\t                      tuklib_physmem.cmake tuklib_progname.cmake\n\tgnu/usr.bin/xz/debug: Makefile.am README crc32.c full_flush.c hex2bin.c\n\t                      known_sizes.c memusage.c repeat.c sync_flush.c\n\t                      translation.bash\n\tgnu/usr.bin/xz/doc: faq.txt history.txt lzma-file-format.txt\n\t                    xz-file-format.txt xz-logo.png\n\tgnu/usr.bin/xz/doc/examples: 00_README.txt 01_compress_easy.c\n\t                             02_decompress.c 03_compress_custom.c\n\t                             04_compress_easy_mt.c 11_file_info.c\n\t                             Makefile\n\tgnu/usr.bin/xz/dos: INSTALL.txt Makefile README.txt config.h\n\tgnu/usr.bin/xz/doxygen: Doxyfile footer.html update-doxygen\n\tgnu/usr.bin/xz/extra/7z2lzma: 7z2lzma.bash\n\tgnu/usr.bin/xz/extra/scanlzma: scanlzma.c\n\tgnu/usr.bin/xz/lib: Makefile.am getopt-cdefs.h getopt-core.h\n\t                    getopt-ext.h getopt-pfx-core.h getopt-pfx-ext.h\n\t                    getopt.c getopt.in.h getopt1.c getopt_int.h\n\tgnu/usr.bin/xz/m4: ax_pthread.m4 getopt.m4 posix-shell.m4\n\t                   tuklib_common.m4 tuklib_cpucores.m4\n\t                   tuklib_integer.m4 tuklib_mbstr.m4 tuklib_physmem.m4\n\t                   tuklib_progname.m4 visibility.m4\n\tgnu/usr.bin/xz/po: LINGUAS Makevars POTFILES.in ca.po cs.po da.po de.po\n\t                   eo.po es.po fi.po fr.po hr.po hu.po it.po ko.po pl.po\n\t                   pt.po pt_BR.po ro.po sr.po sv.po tr.po uk.po vi.po\n\t                   xz.pot-header zh_CN.po zh_TW.po\n\tgnu/usr.bin/xz/po4a: de.po fr.po ko.po po4a.conf pt_BR.po ro.po uk.po\n\t                     update-po\n\tgnu/usr.bin/xz/src: Makefile.am\n\tgnu/usr.bin/xz/src/common: common_w32res.rc mythread.h sysdefs.h\n\t                           tuklib_common.h tuklib_config.h\n\t                           tuklib_cpucores.c tuklib_cpucores.h\n\t                           tuklib_exit.c tuklib_exit.h tuklib_gettext.h\n\t                           tuklib_integer.h tuklib_mbstr.h\n\t                           tuklib_mbstr_fw.c tuklib_mbstr_width.c\n\t                           tuklib_open_stdxxx.c tuklib_open_stdxxx.h\n\t                           tuklib_physmem.c tuklib_physmem.h\n\t                           tuklib_progname.c tuklib_progname.h\n\tgnu/usr.bin/xz/src/liblzma: Makefile.am liblzma.pc.in\n\t                            liblzma_generic.map liblzma_linux.map\n\t                            liblzma_w32res.rc validate_map.sh\n\tgnu/usr.bin/xz/src/liblzma/api: Makefile.am lzma.h\n\tgnu/usr.bin/xz/src/liblzma/api/lzma: base.h bcj.h block.h check.h\n\t                                     container.h delta.h filter.h\n\t                                     hardware.h index.h index_hash.h\n\t                                     lzma12.h stream_flags.h version.h\n\t                                     vli.h\n\tgnu/usr.bin/xz/src/liblzma/check: Makefile.inc check.c check.h\n\t                                  crc32_arm64.h crc32_fast.c\n\t                                  crc32_small.c crc32_table.c\n\t                                  crc32_table_be.h crc32_table_le.h\n\t                                  crc32_tablegen.c crc32_x86.S\n\t                                  crc64_fast.c crc64_small.c\n\t                                  crc64_table.c crc64_table_be.h\n\t                                  crc64_table_le.h crc64_tablegen.c\n\t                                  crc64_x86.S crc_common.h\n\t                                  crc_x86_clmul.h sha256.c\n\tgnu/usr.bin/xz/src/liblzma/common: Makefile.inc alone_decoder.c\n\t                                   alone_decoder.h alone_encoder.c\n\t                                   auto_decoder.c block_buffer_decoder.c\n\t                                   block_buffer_encoder.c\n\t                                   block_buffer_encoder.h\n\t                                   block_decoder.c block_decoder.h\n\t                                   block_encoder.c block_encoder.h\n\t                                   block_header_decoder.c\n\t                                   block_header_encoder.c block_util.c\n\t                                   common.c common.h\n\t                                   easy_buffer_encoder.c index.c\n\t                                   easy_decoder_memusage.c\n\t                                   easy_encoder.c\n\t                                   easy_encoder_memusage.c easy_preset.c\n\t                                   easy_preset.h file_info.c\n\t                                   filter_buffer_decoder.c\n\t                                   filter_buffer_encoder.c\n\t                                   filter_common.c filter_common.h\n\t                                   filter_decoder.c filter_decoder.h\n\t                                   filter_encoder.c filter_encoder.h\n\t                                   filter_flags_decoder.c\n\t                                   filter_flags_encoder.c\n\t                                   hardware_cputhreads.c\n\t                                   hardware_physmem.c index.h\n\t                                   index_decoder.c index_decoder.h\n\t                                   index_encoder.c index_encoder.h\n\t                                   index_hash.c lzip_decoder.c\n\t                                   lzip_decoder.h memcmplen.h\n\t                                   microlzma_decoder.c\n\t                                   microlzma_encoder.c outqueue.c\n\t                                   outqueue.h stream_buffer_decoder.c\n\t                                   stream_buffer_encoder.c\n\t                                   stream_decoder.c stream_decoder.h\n\t                                   stream_decoder_mt.c stream_encoder.c\n\t                                   stream_encoder_mt.c\n\t                                   stream_flags_common.c\n\t                                   stream_flags_common.h\n\t                                   stream_flags_decoder.c\n\t                                   stream_flags_encoder.c\n\t                                   string_conversion.c vli_decoder.c\n\t                                   vli_encoder.c vli_size.c\n\tgnu/usr.bin/xz/src/liblzma/delta: Makefile.inc delta_common.c\n\t                                  delta_common.h delta_decoder.c\n\t                                  delta_decoder.h delta_encoder.c\n\t                                  delta_encoder.h delta_private.h\n\tgnu/usr.bin/xz/src/liblzma/lz: Makefile.inc lz_decoder.c lz_decoder.h\n\t                               lz_encoder.c lz_encoder.h\n\t                               lz_encoder_hash.h lz_encoder_hash_table.h\n\t                               lz_encoder_mf.c\n\tgnu/usr.bin/xz/src/liblzma/lzma: Makefile.inc fastpos.h fastpos_table.c\n\t                                 fastpos_tablegen.c lzma2_decoder.c\n\t                                 lzma2_decoder.h lzma2_encoder.c\n\t                                 lzma2_encoder.h lzma_common.h\n\t                                 lzma_decoder.c lzma_decoder.h\n\t                                 lzma_encoder.c lzma_encoder.h\n\t                                 lzma_encoder_optimum_fast.c\n\t                                 lzma_encoder_optimum_normal.c\n\t                                 lzma_encoder_presets.c\n\t                                 lzma_encoder_private.h\n\tgnu/usr.bin/xz/src/liblzma/rangecoder: Makefile.inc price.h\n\t                                       price_table.c price_tablegen.c\n\t                                       range_common.h range_decoder.h\n\t                                       range_encoder.h\n\tgnu/usr.bin/xz/src/liblzma/simple: Makefile.inc arm.c arm64.c armthumb.c\n\t                                   ia64.c powerpc.c riscv.c\n\t                                   simple_coder.c simple_coder.h\n\t                                   simple_decoder.c simple_decoder.h\n\t                                   simple_encoder.c simple_encoder.h\n\t                                   simple_private.h sparc.c x86.c\n\tgnu/usr.bin/xz/src/lzmainfo: Makefile.am lzmainfo.1 lzmainfo.c\n\t                             lzmainfo_w32res.rc\n\tgnu/usr.bin/xz/src/scripts: Makefile.am xzdiff.1 xzdiff.in xzgrep.1\n\t                            xzgrep.in xzless.1 xzless.in xzmore.1\n\t                            xzmore.in\n\tgnu/usr.bin/xz/src/xz: Makefile.am args.c args.h coder.c coder.h\n\t                       file_io.c file_io.h hardware.c hardware.h list.c\n\t                       list.h main.c main.h message.c message.h mytime.c\n\t                       mytime.h options.c options.h private.h sandbox.c\n\t                       sandbox.h signals.c signals.h suffix.c suffix.h\n\t                       util.c util.h xz.1 xz_w32res.rc\n\tgnu/usr.bin/xz/src/xzdec: Makefile.am lzmadec_w32res.rc xzdec.1 xzdec.c\n\t                          xzdec_w32res.rc\n\tgnu/usr.bin/xz/tests: Makefile.am bcj_test.c code_coverage.sh\n\t                      compress_prepared_bcj_sparc\n\t                      compress_prepared_bcj_x86 create_compress_files.c\n\t                      test_bcj_exact_size.c test_block_header.c\n\t                      test_check.c test_compress.sh\n\t                      test_compress_generated_abc\n\t                      test_compress_generated_random\n\t                      test_compress_generated_text\n\t                      test_compress_prepared_bcj_sparc\n\t                      test_compress_prepared_bcj_x86 test_files.sh\n\t                      test_filter_flags.c test_filter_str.c\n\t                      test_hardware.c test_index.c test_index_hash.c\n\t                      test_lzip_decoder.c test_memlimit.c\n\t                      test_microlzma.c test_scripts.sh\n\t                      test_stream_flags.c test_suffix.sh test_vli.c\n\t                      tests.h tuktest.h xzgrep_expected_output\n\tgnu/usr.bin/xz/tests/files: README bad-0-backward_size.xz\n\t                            bad-0-empty-truncated.xz\n\t                            bad-0-footer_magic.xz bad-0-header_magic.xz\n\t                            bad-0-nonempty_index.xz bad-0cat-alone.xz\n\t                            bad-0cat-header_magic.xz\n\t                            bad-0catpad-empty.xz bad-0pad-empty.xz\n\t                            bad-1-block_header-1.xz\n\t                            bad-1-block_header-2.xz\n\t                            bad-1-block_header-3.xz\n\t                            bad-1-block_header-4.xz\n\t                            bad-1-block_header-5.xz bad-1-vli-1.xz\n\t                            bad-1-block_header-6.xz\n\t                            bad-1-check-crc32-2.xz bad-1-check-crc32.xz\n\t                            bad-1-check-crc64.xz bad-1-check-sha256.xz\n\t                            bad-1-lzma2-1.xz bad-1-lzma2-10.xz\n\t                            bad-1-lzma2-11.xz bad-1-lzma2-2.xz\n\t                            bad-1-lzma2-3.xz bad-1-lzma2-4.xz\n\t                            bad-1-lzma2-5.xz bad-1-lzma2-6.xz\n\t                            bad-1-lzma2-7.xz bad-1-lzma2-8.xz\n\t                            bad-1-lzma2-9.xz bad-1-stream_flags-1.xz\n\t                            bad-1-stream_flags-2.xz\n\t                            bad-1-stream_flags-3.xz\n\t                            bad-1-v0-uncomp-size.lz bad-1-v1-crc32.lz\n\t                            bad-1-v1-dict-1.lz bad-1-v1-dict-2.lz\n\t                            bad-1-v1-magic-1.lz bad-1-v1-magic-2.lz\n\t                            bad-1-v1-member-size.lz\n\t                            bad-1-v1-trailing-magic.lz\n\t                            bad-1-v1-uncomp-size.lz bad-1-vli-2.xz\n\t                            bad-2-compressed_data_padding.xz\n\t                            bad-2-index-1.xz bad-2-index-2.xz\n\t                            bad-2-index-3.xz good-0-empty.xz\n\t                            bad-2-index-4.xz bad-2-index-5.xz\n\t                            bad-3-corrupt_lzma2.xz\n\t                            bad-3-index-uncomp-overflow.xz\n\t                            bad-dict_size.lzma\n\t                            bad-too_big_size-with_eopm.lzma\n\t                            bad-too_small_size-without_eopm-1.lzma\n\t                            bad-too_small_size-without_eopm-2.lzma\n\t                            bad-too_small_size-without_eopm-3.lzma\n\t                            bad-unknown_size-without_eopm.lzma\n\t                            good-0cat-empty.xz good-0catpad-empty.xz\n\t                            good-0pad-empty.xz good-1-3delta-lzma2.xz\n\t                            good-1-arm64-lzma2-1.xz\n\t                            good-1-arm64-lzma2-2.xz\n\t                            good-1-block_header-1.xz\n\t                            good-1-block_header-2.xz\n\t                            good-1-block_header-3.xz\n\t                            good-1-check-crc32.xz good-1-check-crc64.xz\n\t                            good-1-check-none.xz good-1-check-sha256.xz\n\t                            good-1-delta-lzma2.tiff.xz\n\t                            good-1-empty-bcj-lzma2.xz good-1-lzma2-1.xz\n\t                            good-1-lzma2-2.xz good-1-lzma2-3.xz\n\t                            good-1-lzma2-4.xz good-1-lzma2-5.xz\n\t                            good-1-riscv-lzma2-1.xz\n\t                            good-1-riscv-lzma2-2.xz\n\t                            good-1-sparc-lzma2.xz\n\t                            good-1-v0-trailing-1.lz good-1-v0.lz\n\t                            good-1-v1-trailing-1.lz\n\t                            good-1-v1-trailing-2.lz good-1-v1.lz\n\t                            good-1-x86-lzma2.xz good-2-lzma2.xz\n\t                            good-2-v0-v1.lz good-2-v1-v0.lz\n\t                            good-2-v1-v1.lz good-2cat.xz\n\t                            good-known_size-with_eopm.lzma\n\t                            good-known_size-without_eopm.lzma\n\t                            good-large_compressed.lzma\n\t                            good-small_compressed.lzma\n\t                            good-unknown_size-with_eopm.lzma\n\t                            unsupported-1-v234.lz\n\t                            unsupported-block_header.xz\n\t                            unsupported-check.xz\n\t                            unsupported-filter_flags-1.xz\n\t                            unsupported-filter_flags-2.xz\n\t                            unsupported-filter_flags-3.xz\n\tgnu/usr.bin/xz/tests/ossfuzz: Makefile fuzz_common.h fuzz_decode_alone.c\n\t                              fuzz_decode_stream.c fuzz_encode_stream.c\n\tgnu/usr.bin/xz/tests/ossfuzz/config: fuzz_decode_alone.options\n\t                                     fuzz_decode_stream.options\n\t                                     fuzz_encode_stream.options\n\t                                     fuzz_lzma.dict fuzz_xz.dict\n\tgnu/usr.bin/xz/windows: INSTALL-MSVC.txt\n\t                        INSTALL-MinGW-w64_with_Autotools.txt\n\t                        INSTALL-MinGW-w64_with_CMake.txt\n\t                        README-Windows.txt build-with-cmake.bat\n\t                        build.bash liblzma-crt-mixing.txt\n\nLog message:\ngnu/usr.bin: import xz-utils 5.6.1\n\nIf we want to continue distributing ISO 9660 images sized for CD-ROM\nwe need to take a more aggressive approach to build artifact\ncompression.  650MB just ain't what it used to be.  gzip(1) is fine\nand all, but the DEFLATE compression algorithm pales in comparison to\nthe state of the art.\n\nEnter xz, a modern compression utility for modern binaries.  If\ngzip(1) is a Subaru Forester that \"gets you where you need to go\",\nxz is a lifted Ford F-250 that \"just ran a stop and killed a cyclist\".\n\nWe're in good company.  Several notable projects have adopted xz for\ndistribution, including kernel.org, FreeBSD, and Debian.  I think it's\npretty safe to say that xz is thoroughly battle-tested in production.\n\nThis commit imports the v5.6.1 release of xz-utils, replete with\nbinary inputs in tests/files/ for regress testing.  /usr/bin will\nexpand to include xz(1) and a smattering of wrapper scripts for\nsearching and paging through LZMA2 containers.\n\nIt will take a little bit of elbow grease to wire this thing up to our\nbuild, but not too much.  I have full confidence that OpenBSD 7.6 will\nbe compressed -- and decompressed! -- with xz(1).\n\nJoint effort with millert@.\n\nok tedu@\n\n[[prev in list](?l=openbsd-cvs&m=171199962910212&w=2)] [[next in list](?l=openbsd-cvs&m=171200380712333&w=2)] [[prev in thread](?l=openbsd-cvs&m=171199962910212&w=2)] [[next in thread](?l=openbsd-cvs&m=171200380712333&w=2)] \n\n```"]
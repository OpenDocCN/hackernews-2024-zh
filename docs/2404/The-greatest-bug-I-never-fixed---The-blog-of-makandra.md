<!--yml

category: 未分类

date: 2024-05-27 13:05:30

-->

# 我从未解决过的最大的bug - makandra的博客

> 来源：[https://blog.makandra.com/2010/04/the-greatest-bug-i-never-fixed/](https://blog.makandra.com/2010/04/the-greatest-bug-i-never-fixed/)

Bugs [没意思](http://use.perl.org/use.perl.org/_schwern/journal/40260.html)。除非它们真的有趣。这是我从未解决过的最大的bug的故事。

在我早期的生活中，我为[《魔兽世界》](http://www.wow-europe.com)编写了插件。除了当时沉迷于这个游戏外，对于一个痴迷于插件架构和公共API演变的人来说，这是一次令人震撼的体验。对我来说，也是一个学习 [Lua](http://en.wikipedia.org/wiki/Lua_%28programming_language%29) 的好借口。

在那段时间里，我和一个朋友开发的*FriendNet*插件算是比较好的一个。FriendNet帮助解决了游戏中的一个最大挑战：找到不是混蛋的人一起玩。该插件会将你的游戏好友列表与所有好友分享。作为回报，他们也会与你分享他们的朋友。因此，你可以信任的人数增加了。

因为插件API禁止任何形式的网络通信，所以我们不得不想办法来分发这些朋友列表。我们所做的是将这些列表序列化为游戏内聊天消息，并将其私聊发送给接收玩家的角色。

是的，在你妈妈发现Facebook之前的几年里，我们通过虚拟世界的聊天频道隧道传输社交图谱。我们应该得到资金支持。

无论如何，FriendNet确实存在一些质量问题。P2P应用程序很难做到完美，并且你不能每次发布bug修复版本都要求用户升级。因此，我们有各种不同版本之间的通信，导致了许多新出现的行为和难以复现的bug。

其中一个bug特别难以解决：每隔几天，FriendNet就会遇到一个损坏的消息，导致插件界面的某些部分混乱不堪。我们收到了足够多的bug报告，以至于相信问题是真实存在的，但无论我们多么努力，都无法复现这个bug。这简直就是地狱级的bug。最终，我们放弃了，归咎于一个有问题的API，然后继续前行。

解决方案是在我停止玩游戏多年后浮现在我脑海中的。当我意识到出了什么问题时，光线几乎让我眼前一黑。

你知道，在《魔兽世界》（[World of Warcraft](http://www.wowwiki.com/Drunk)）中，你的角色可以喝醉。喝了足够多的虚拟酒后，你的屏幕会开始模糊，你的角色也不再直线移动。另外，当你在聊天中输入一些东西时，

```
Penelope says: I'm so wasted 
```

结果将是这样的：

```
Penelope says: I'm sho washted ...hic! 
```

因为FriendNet将其所有通信序列化为聊天消息，所以当广播玩家喝醉时，它会发送损坏的数据。

FriendNet早已从曾经可以下载它的插件网站上消失了。我怀疑它甚至无法在当前版本的游戏中启动。但即使我从未修复过那个错误，我仍然怀念它，乐此不疲。

<!--yml

category: æœªåˆ†ç±»

date: 2024-05-27 12:53:16

-->

# Python ä¸­çš„æ¯ä¸ª dunder æ–¹æ³• - Python Morsels

> æ¥æºï¼š[https://www.pythonmorsels.com/every-dunder-method/](https://www.pythonmorsels.com/every-dunder-method/)

æ‚¨åˆšåˆšåˆ›å»ºäº†ä¸€ä¸ªç±»ã€‚æ‚¨ç¼–å†™äº†ä¸€ä¸ª `__init__` æ–¹æ³•ã€‚æ¥ä¸‹æ¥è¯¥åšä»€ä¹ˆï¼Ÿ

Python åŒ…æ‹¬*å¤§é‡*[dunder methods](https://www.pythonmorsels.com/what-are-dunder-methods/)ï¼ˆåŒä¸‹åˆ’çº¿æ–¹æ³•ï¼‰ï¼Œè¿™äº›æ–¹æ³•å…è®¸æˆ‘ä»¬æ·±åº¦å®šåˆ¶æˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»ä¸ Python çš„è®¸å¤šåŠŸèƒ½äº¤äº’çš„æ–¹å¼ã€‚æ‚¨å¯ä»¥æ·»åŠ å“ªäº› dunder æ–¹æ³•åˆ°æ‚¨çš„ç±»ä¸­ï¼Œä»¥ä½¿å…¶å¯¹å…¶ä»–ä½¿ç”¨å®ƒçš„ Python ç¨‹åºå‘˜æ›´å‹å¥½ï¼Ÿ

è®©æˆ‘ä»¬è¯¦ç»†äº†è§£ **Python ä¸­çš„æ¯ä¸ª dunder æ–¹æ³•**ï¼Œé‡ç‚¹ä»‹ç»æ¯ç§æ–¹æ³•ä½•æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚

è¯·æ³¨æ„ï¼ŒPython æ–‡æ¡£å°†è¿™äº›æ–¹æ³•ç§°ä¸º[special methods](https://docs.python.org/3/glossary.html#term-special-method)ï¼Œå¹¶æŒ‡å‡ºäº†â€œmagic methodâ€çš„åŒä¹‰è¯ï¼Œä½†*å¾ˆå°‘*ä½¿ç”¨â€œdunder methodâ€ä¸€è¯ã€‚ç„¶è€Œï¼Œâ€œdunder methodâ€æ˜¯ Python ä¸­ç›¸å½“å¸¸è§çš„å£å¤´ç”¨è¯­ï¼Œå¦‚æˆ‘åœ¨[éå®˜æ–¹ Python æœ¯è¯­è¡¨](https://www.pythonmorsels.com/terms/)ä¸­æ‰€è¿°ã€‚

æ‚¨å¯ä»¥ä½¿ç”¨æœ¬é¡µé¢ä¸Šæ•£å¸ƒçš„é“¾æ¥è·å–æœ‰å…³ä»»ä½•ç‰¹å®š dunder æ–¹æ³•çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚è¦æŸ¥çœ‹æ‰€æœ‰æ–¹æ³•çš„åˆ—è¡¨ï¼Œè¯·å‚è§æœ€åä¸€èŠ‚çš„é€ŸæŸ¥è¡¨ã€‚

## 3 ä¸ªå¿…è¦çš„ dunder æ–¹æ³• ğŸ”‘

å¤§å¤šæ•°ç±»åº”å…·æœ‰ 3 ä¸ª dunder æ–¹æ³•ï¼š[`__init__`](https://www.pythonmorsels.com/what-is-init/)ã€[`__repr__`](https://www.pythonmorsels.com/customizing-string-representation-your-objects/) å’Œ [`__eq__`](https://www.pythonmorsels.com/overloading-equality-in-python/)ã€‚

| Operation | Dunder Method Call | Returns |
| --- | --- | --- |
| `T(a, b=3)` | `T.__init__(x, a, b=3)` | `None` |
| `repr(x)` | `x.__repr__()` | `str` |
| `x == y` | `x.__eq__(y)` | é€šå¸¸ä¸º `bool` |

[`__init__`](https://www.pythonmorsels.com/what-is-init/) æ–¹æ³•æ˜¯**åˆå§‹åŒ–å™¨**ï¼ˆä¸è¦ä¸[æ„é€ å‡½æ•°](#construction-and-finalizing)æ··æ·†ï¼‰ï¼Œ[`__repr__`](https://www.pythonmorsels.com/customizing-string-representation-your-objects/) æ–¹æ³•è‡ªå®šä¹‰äº†å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ï¼Œ[`__eq__`](https://www.pythonmorsels.com/overloading-equality-in-python/) æ–¹æ³•è‡ªå®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„*ç›¸ç­‰*å…³ç³»ã€‚

`__repr__` æ–¹æ³•åœ¨[Python REPL](https://www.pythonmorsels.com/using-the-python-repl/)å’Œè°ƒè¯•æ—¶ç‰¹åˆ«æœ‰å¸®åŠ©ã€‚

## ç›¸ç­‰æ€§å’Œå¯å“ˆå¸Œæ€§ ğŸŸ°

é™¤äº† `__eq__` æ–¹æ³•å¤–ï¼ŒPython è¿˜æœ‰å…¶ä»– 2 ä¸ª dunder æ–¹æ³•ï¼Œç”¨äºç¡®å®šå¯¹è±¡åœ¨ä¸å…¶ä»–å¯¹è±¡çš„å…³ç³»ä¸­çš„â€œå€¼â€ã€‚

| Operation | Dunder Method Call | Returns |
| --- | --- | --- |
| `x == y` | `x.__eq__(y)` | é€šå¸¸ä¸º `bool` |
| `x != y` | `x.__ne__(y)` | é€šå¸¸ä¸º `bool` |
| `hash(x)` | `x.__hash__()` | `int` |

Python çš„ `__eq__` æ–¹æ³•é€šå¸¸è¿”å› `True`ã€`False` æˆ– [`NotImplemented`](https://www.pythonmorsels.com/when-to-use-notimplemented/)ï¼ˆå¦‚æœå¯¹è±¡æ— æ³•æ¯”è¾ƒï¼‰ã€‚ é»˜è®¤çš„ `__eq__` å®ç°ä¾èµ–äº `is` æ“ä½œç¬¦ï¼Œç”¨äºæ£€æŸ¥**[èº«ä»½](https://www.pythonmorsels.com/equality-vs-identity/)**ã€‚

é»˜è®¤çš„ `__ne__` å®ç°è°ƒç”¨ `__eq__` å¹¶å¯¹ç»™å®šçš„å¸ƒå°”è¿”å›å€¼å–åï¼ˆæˆ–è€…å¦‚æœ `__eq__` è¿”å› `NotImplemented` åˆ™è¿”å› `NotImplemented`ï¼‰ã€‚ è¿™ç§é»˜è®¤è¡Œä¸ºé€šå¸¸æ˜¯â€œè¶³å¤Ÿå¥½çš„â€ï¼Œå› æ­¤**ä½ å‡ ä¹æ°¸è¿œä¸ä¼šçœ‹åˆ°å®ç° `__ne__`**ã€‚

å¯å“ˆå¸Œå¯¹è±¡å¯ä»¥ç”¨ä½œå­—å…¸çš„é”®æˆ–é›†åˆä¸­çš„å€¼ã€‚Python ä¸­çš„æ‰€æœ‰å¯¹è±¡é»˜è®¤éƒ½æ˜¯[å¯å“ˆå¸Œçš„](https://www.pythonmorsels.com/what-are-hashable-objects/)ï¼Œä½†å¦‚æœä½ ç¼–å†™äº†è‡ªå®šä¹‰çš„ `__eq__` æ–¹æ³•ï¼Œåˆ™ä½ çš„å¯¹è±¡åœ¨æ²¡æœ‰è‡ªå®šä¹‰çš„ `__hash__` æ–¹æ³•æ—¶æ˜¯*ä¸å¯å“ˆå¸Œçš„*ã€‚ä½†æ˜¯ï¼Œ**å¯¹è±¡çš„å“ˆå¸Œå€¼ç»å¯¹ä¸èƒ½æ”¹å˜**ï¼Œå¦åˆ™å°†ä¼šå‘ç”Ÿ[ä¸å¥½çš„äº‹æƒ…](https://pym.dev/p/2ysgz/)ï¼Œå› æ­¤**é€šå¸¸åªæœ‰*ä¸å¯å˜*å¯¹è±¡å®ç° `__hash__`**ã€‚

è‹¥è¦å®ç°ç›¸ç­‰æ€§æ£€æŸ¥ï¼Œè¯·å‚é˜…[Python ä¸­çš„ `__eq__`](https://www.pythonmorsels.com/overloading-equality-in-python/)ã€‚ è‹¥è¦å®ç°å¯å“ˆå¸Œæ€§ï¼Œè¯·å‚é˜…[åœ¨ Python ä¸­åˆ›å»ºå¯å“ˆå¸Œå¯¹è±¡](https://www.pythonmorsels.com/making-hashable-objects/)ã€‚

## å¯æ’åºæ€§ âš–ï¸

Python çš„æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ`<`ã€`>`ã€`<=`ã€`>=`ï¼‰ä¹Ÿå¯ä»¥é€šè¿‡é­”æœ¯æ–¹æ³•è¿›è¡Œé‡è½½ã€‚ æ¯”è¾ƒè¿ç®—ç¬¦è¿˜ä¸ºä¾èµ–å¯¹è±¡ç›¸å¯¹é¡ºåºçš„å‡½æ•°æä¾›æ”¯æŒï¼Œå¦‚ `sorted`ã€`min` å’Œ `max`ã€‚

| æ“ä½œ | é­”æœ¯æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- |
| `<` | `__lt__` | é€šå¸¸æ˜¯ `bool` |
| `>` | `__gt__` | é€šå¸¸æ˜¯ `bool` |
| `<=` | `__le__` | é€šå¸¸æ˜¯ `bool` |
| `>=` | `__ge__` | é€šå¸¸æ˜¯ `bool` |

å¦‚æœä½ è®¡åˆ’æŒ‰ç…§*å…¸å‹*æ–¹å¼å®ç°æ‰€æœ‰è¿™äº›è¿ç®—ç¬¦ï¼ˆå…¶ä¸­ `x < y` ç­‰åŒäºè¯¢é—® `y > x`ï¼‰ï¼Œé‚£ä¹ˆ Python çš„ `functools` æ¨¡å—ä¸­çš„ [`total_ordering` è£…é¥°å™¨](https://docs.python.org/3/library/functools.html#functools.total_ordering) ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚

## ç±»å‹è½¬æ¢å’Œå­—ç¬¦ä¸²æ ¼å¼åŒ– âš—ï¸

Python æœ‰è®¸å¤šé­”æœ¯æ–¹æ³•ç”¨äºå°†å¯¹è±¡è½¬æ¢ä¸ºä¸åŒçš„ç±»å‹ã€‚

| å‡½æ•° | é­”æœ¯æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- |
| `str(x)` | `x.__str__()` | `str` |
| `bool(x)` | `x.__bool__()` | `bool` |
| `int(x)` | `x.__int__()` | `int` |
| `float(x)` | `x.__float__()` | `float` |
| `bytes(x)` | `x.__bytes__()` | [`å­—èŠ‚`](https://pym.dev/p/2ysgz/) |
| `complex(x)` | `x.__complex__()` | [`å¤æ•°`](https://docs.python.org/3/glossary.html#term-complex-number) |
| `f"{x:s}"` | `x.__format__(s)` | `str` |
| `repr(x)` | `x.__repr__()` | `str` |

`__bool__` å‡½æ•°ç”¨äºè¿›è¡Œ[çœŸå€¼æ£€æŸ¥](https://www.pythonmorsels.com/truthiness/)ï¼Œå°½ç®¡ `__len__` ä½œä¸ºåå¤‡ã€‚

å¦‚æœæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªåƒ [`decimal.Decimal`](https://docs.python.org/3/library/decimal.html) æˆ– [`fractions.Fraction`](https://docs.python.org/3/library/fractions.html) è¿™æ ·çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡èƒ½åƒæ•°å€¼ä¸€æ ·ä½¿ç”¨ï¼Œæ‚¨éœ€è¦å®ç° `__int__`ã€`__float__` å’Œ `__complex__` æ–¹æ³•ï¼Œä»¥ä¾¿èƒ½å°†æ‚¨çš„å¯¹è±¡è½¬æ¢ä¸ºå…¶ä»–æ•°å€¼ã€‚å¦‚æœæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªå¯ä»¥åœ¨ `memoryview` ä¸­ä½¿ç”¨æˆ–èƒ½ä»¥å…¶ä»–æ–¹å¼è½¬æ¢ä¸º `bytes` çš„å¯¹è±¡ï¼Œæ‚¨éœ€è¦å®ç° `__bytes__` æ–¹æ³•ã€‚

`__format__` å’Œ `__repr__` æ–¹æ³•æ˜¯ä¸åŒçš„å­—ç¬¦ä¸²è½¬æ¢æ–¹å¼ã€‚å¤§å¤šæ•°å­—ç¬¦ä¸²è½¬æ¢ä¾èµ–äº `__str__` æ–¹æ³•ï¼Œä½†é»˜è®¤çš„ `__str__` å®ç°åªæ˜¯ç®€å•åœ°è°ƒç”¨ `__repr__`ã€‚

`__format__` æ–¹æ³•è¢«æ‰€æœ‰ [f-string è½¬æ¢](https://www.pythonmorsels.com/string-formatting/)ã€`str` ç±»çš„ `format` æ–¹æ³•ä»¥åŠï¼ˆå¾ˆå°‘ä½¿ç”¨çš„ï¼‰å†…ç½® `format` å‡½æ•°ä½¿ç”¨ã€‚è¯¥æ–¹æ³•å…è®¸ `datetime` å¯¹è±¡æ”¯æŒè‡ªå®šä¹‰çš„æ ¼å¼è¯´æ˜ç¬¦ï¼Œè¯¦æƒ…å‚è§ [æ”¯æŒè‡ªå®šä¹‰æ ¼å¼è¯´æ˜ç¬¦](https://www.pythonmorsels.com/string-formatting/#formatting-datetime-objects)ã€‚

## ä¸Šä¸‹æ–‡ç®¡ç†å™¨ ğŸšª

ä¸Šä¸‹æ–‡ç®¡ç†å™¨æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨ `with` å—ä¸­ä½¿ç”¨çš„å¯¹è±¡ã€‚

| ä½¿ç”¨ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- |
| `with` å—è¿›å…¥ | `x.__enter__()` | ä½œä¸ºç»™å®šçš„å€¼ |
| `with` å—é€€å‡º | `x.__exit__(exc_type, exc, traceback)` | çœŸå€¼/å‡å€¼ |

å…³äºä¸Šä¸‹æ–‡ç®¡ç†å™¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ï¼Œ[ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡ç®¡ç†å™¨](https://www.pythonmorsels.com/what-is-a-context-manager/)å’Œ[åˆ›å»ºä¸Šä¸‹æ–‡ç®¡ç†å™¨](https://www.pythonmorsels.com/creating-a-context-manager/)ã€‚

## å®¹å™¨å’Œé›†åˆ ğŸ—ƒï¸

é›†åˆï¼ˆå³å®¹å™¨ï¼‰æœ¬è´¨ä¸Šæ˜¯å……å½“æ•°æ®ç»“æ„æˆ–è€…åƒæ•°æ®ç»“æ„ä¸€æ ·çš„å¯¹è±¡ã€‚åˆ—è¡¨ã€å­—å…¸ã€é›†åˆã€å­—ç¬¦ä¸²å’Œå…ƒç»„éƒ½æ˜¯é›†åˆçš„ä¾‹å­ã€‚

| æ“ä½œ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›ç±»å‹ | å·²å®ç° |
| --- | --- | --- | --- |
| `len(x)` | `x.__len__()` | æ•´æ•° | éå¸¸å¸¸è§ |
| `iter(x)` | `x.__iter__()` | è¿­ä»£å™¨ | éå¸¸å¸¸è§ |
| `for item in x: ...` | `x.__iter__()` | è¿­ä»£å™¨ | éå¸¸å¸¸è§ |
| `x[a]` | `x.__getitem__(a)` | ä»»ä½•å¯¹è±¡ | å¸¸è§ |
| `x[a] = b` | `x.__setitem__(a, b)` | æ—  | å¸¸è§ |
| `del x[a]` | `x.__delitem__(a)` | æ—  | å¸¸è§ |
| `a in x` | `x.__contains__(a)` | å¸ƒå°”å€¼ | å¸¸è§ |
| `reversed(x)` | `x.__reversed__()` | è¿­ä»£å™¨ | å¸¸è§ |
| `next(x)` | `x.__next__()` | ä»»ä½•å¯¹è±¡ | ä¸å¸¸è§ |
| `x[a]` | `x.__missing__(a)` | ä»»ä½•å¯¹è±¡ | ä¸å¸¸è§ |
| `operator.length_hint(x)` | `x.__length_hint__()` | æ•´æ•° | ä¸å¸¸è§ |

`__iter__` æ–¹æ³•è¢« `iter` å‡½æ•°ä½¿ç”¨ *ä»¥åŠ* æ‰€æœ‰å½¢å¼çš„è¿­ä»£ï¼š[`for` å¾ªç¯](https://www.pythonmorsels.com/writing-a-for-loop/)ã€[æ¨å¯¼å¼](https://www.pythonmorsels.com/what-are-list-comprehensions/)ã€[å…ƒç»„è§£åŒ…](https://www.pythonmorsels.com/tuple-unpacking/) å’Œ [ä½¿ç”¨ `*` è¿›è¡Œå¯è¿­ä»£è§£åŒ…](https://www.pythonmorsels.com/unpacking-iterables-iterables/)ã€‚

è™½ç„¶`__iter__`æ–¹æ³•å¯¹äºåˆ›å»ºè‡ªå®šä¹‰å¯è¿­ä»£å¯¹è±¡æ˜¯å¿…éœ€çš„ï¼Œä½†`__next__`æ–¹æ³•å¯¹äºåˆ›å»ºè‡ªå®šä¹‰è¿­ä»£å™¨ï¼ˆè¿™ç§æƒ…å†µè¾ƒå°‘è§ï¼‰æ˜¯å¿…éœ€çš„ã€‚`__missing__`æ–¹æ³•ä»…åœ¨`dict`ç±»è‡ªèº«è°ƒç”¨æ—¶æ‰ä¼šè¢«è°ƒç”¨ï¼Œé™¤éå…¶ä»–ç±»å†³å®šå®ç°`__missing__`ã€‚`__length_hint__`æ–¹æ³•ä¸ºä¸æ”¯æŒ`__len__`çš„ç»“æ„æä¾›é•¿åº¦çŒœæµ‹ï¼Œä»¥ä¾¿æ›´é«˜æ•ˆåœ°é¢„åˆ†é…åˆ—è¡¨æˆ–å…¶ä»–ç»“æ„ã€‚

å¦è¯·å‚é˜…ï¼š[è¿­ä»£å™¨åè®®](https://www.pythonmorsels.com/iterator-protocol/)ï¼Œ[å®ç°`__len__`](https://www.pythonmorsels.com/making-the-len-function-work-on-your-python-objects/)ï¼Œä»¥åŠ[å®ç°`__getitem__`](https://www.pythonmorsels.com/supporting-index-and-key-lookups/)ã€‚

## å¯è°ƒç”¨æ€§ â˜ï¸

å‡½æ•°ã€ç±»ä»¥åŠæ‰€æœ‰å…¶ä»–[å¯è°ƒç”¨å¯¹è±¡](https://www.pythonmorsels.com/callables/)ä¾èµ–äº`__call__`æ–¹æ³•ã€‚

| æ“ä½œ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›ç±»å‹ |
| --- | --- | --- |
| `x(a, b=c)` | `x.__call__(a, b=c)` | ä»»ä½•å¯¹è±¡ |

å½“ä¸€ä¸ªç±»è¢«è°ƒç”¨æ—¶ï¼Œå®ƒçš„[å…ƒç±»](https://docs.python.org/3/glossary.html#term-metaclass)çš„`__call__`æ–¹æ³•ä¼šè¢«ä½¿ç”¨ã€‚å½“ä¸€ä¸ªç±»çš„*å®ä¾‹*è¢«è°ƒç”¨æ—¶ï¼Œåˆ™ä½¿ç”¨è¯¥ç±»çš„`__call__`æ–¹æ³•ã€‚

æ¬²äº†è§£æ›´å¤šå…³äºå¯è°ƒç”¨æ€§çš„å†…å®¹ï¼Œè¯·å‚è§[å¯è°ƒç”¨å¯¹è±¡ï¼šPythonçš„â€œå‡½æ•°â€æœ‰æ—¶æ˜¯ç±»](https://www.pythonmorsels.com/class-function-and-callable/)ã€‚

## ç®—æœ¯è¿ç®—ç¬¦ â—

Pythonçš„åŒä¸‹åˆ’çº¿æ–¹æ³•é€šå¸¸è¢«æè¿°ä¸º"è¿ç®—ç¬¦é‡è½½"çš„å·¥å…·ã€‚å¤§éƒ¨åˆ†è¿™ç§"è¿ç®—ç¬¦é‡è½½"æ˜¯é€šè¿‡Pythonçš„å„ç§ç®—æœ¯è¿ç®—ç¬¦æ¥å®ç°çš„ã€‚

æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åˆ†è§£ç®—æœ¯è¿ç®—ç¬¦ï¼š

+   æ•°å­¦è¿ç®—ç¬¦ï¼ˆå¦‚`+`ã€`-`ã€`*`ã€`/`ã€`%`ï¼‰ä¸ä½è¿ç®—ç¬¦ï¼ˆå¦‚`&`ã€`|`ã€`^`ã€`>>`ã€`~`ï¼‰ä¹‹é—´çš„åŒºåˆ«ã€‚

+   äºŒè¿›åˆ¶è¿ç®—ç¬¦ï¼ˆä½œç”¨äºä¸¤ä¸ªå€¼ï¼Œå¦‚`x + y`ï¼‰ä¸ä¸€å…ƒè¿ç®—ç¬¦ï¼ˆä½œç”¨äºä¸€ä¸ªå€¼ä¹‹å‰ï¼Œå¦‚`+x`ï¼‰ã€‚

æ•°å­¦è¿ç®—ç¬¦æ¯”ä½è¿ç®—ç¬¦æ›´å¸¸è§ï¼Œè€ŒäºŒè¿›åˆ¶è¿ç®—ç¬¦æ¯”ä¸€å…ƒè¿ç®—ç¬¦ç¨å¸¸è§ä¸€äº›ã€‚

è¿™äº›æ˜¯äºŒè¿›åˆ¶æ•°å­¦ç®—æœ¯è¿ç®—ç¬¦ï¼š

| æ“ä½œ | å·¦æ“ä½œæ•°æ–¹æ³• | å³æ“ä½œæ•°æ–¹æ³• | æè¿° |
| --- | --- | --- | --- |
| `x + y` | `__add__` | `__radd__` | åŠ æ³• / è¿æ¥ |
| `x - y` | `__sub__` | `__rsub__` | å‡æ³• |
| `x * y` | `__mul__` | `__rmul__` | ä¹˜æ³• |
| `x / y` | `__truediv__` | `__rtruediv__` | é™¤æ³• |
| `%` | `__mod__` | `__rmod__` | å–æ¨¡ |
| `x // y` | `__floordiv__` | `__rfloordiv__` | [æ•´æ•°é™¤æ³•](https://www.pythonmorsels.com/integer-division/) |
| `**` | `__pow__` | `__rpow__` | æŒ‡æ•°è¿ç®— |
| `x @ y` | `__matmul__` | `__rmatmul__` | çŸ©é˜µä¹˜æ³• |

æ¯ä¸ªè¿™äº›è¿ç®—ç¬¦éƒ½åŒ…æ‹¬å·¦æ“ä½œæ•°å’Œå³æ“ä½œæ•°æ–¹æ³•ã€‚å¦‚æœ`x.__add__(y)`è¿”å›[`NotImplemented`](https://www.pythonmorsels.com/when-to-use-notimplemented/)ï¼Œåˆ™å°†å°è¯•`y.__radd__(x)`ã€‚æ›´å¤šå†…å®¹è¯·å‚è§[ç®—æœ¯åŒä¸‹åˆ’çº¿æ–¹æ³•](https://www.pythonmorsels.com/arithmetic-dunder-methods/)ã€‚

è¿™äº›æ˜¯äºŒè¿›åˆ¶ä½è¿ç®—çš„ç®—æœ¯è¿ç®—ç¬¦ï¼š

| æ“ä½œ | å·¦æ“ä½œæ•°æ–¹æ³• | å³æ“ä½œæ•°æ–¹æ³• | æè¿° |
| --- | --- | --- | --- |
| `x & y` | `__and__` | `__rand__` | ä¸ |
| `x &#124; y` | `__or__` | `__ror__` | æˆ– |
| `x ^ y` | `__xor__` | `__rxor__` | å¼‚æˆ– |
| `x >> y` | `__rshift__` | `__rrshift__` | å³ç§» |
| `x << y` | `__lshift__` | `__rlshift__` | å·¦ç§» |

è¿™äº›æ˜¯ Python çš„ä¸€å…ƒç®—æœ¯è¿ç®—ç¬¦ï¼š

| æ“ä½œ | Dunder æ–¹æ³• | ç§ç±» | æè¿° |
| --- | --- | --- | --- |
| `-x` | `__neg__` | æ•°å­¦ | å–å |
| `+x` | `__pos__` | ä½è¿ç®— | è‚¯å®š |
| `~x` | `__invert__` | ä½è¿ç®— | å–å |

ä¸€å…ƒ `+` è¿ç®—ç¬¦é€šå¸¸[æ²¡æœ‰æ•ˆæœ](https://stackoverflow.com/questions/16819023/whats-the-purpose-of-the-pos-unary-operator-in-python)ï¼Œå°½ç®¡æŸäº›å¯¹è±¡ä½¿ç”¨å®ƒè¿›è¡Œç‰¹å®šæ“ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨[collections.Counter å¯¹è±¡ä¸Šä½¿ç”¨ `+`](https://www.pythonmorsels.com/using-counter/#removing-negative-counts)ä¼šç§»é™¤éæ­£å€¼ã€‚

Python çš„ç®—æœ¯è¿ç®—ç¬¦ç»å¸¸ç”¨äºéç®—æœ¯çš„ç›®çš„ï¼š[åºåˆ—](https://www.pythonmorsels.com/sequence/)ä½¿ç”¨ `+` è¿›è¡Œè¿æ¥å’Œ `*` è¿›è¡Œè‡ªè¿æ¥ï¼Œè€Œ[é›†åˆ](https://www.pythonmorsels.com/practical-uses-of-sets/)ä½¿ç”¨ `&` è¿›è¡Œäº¤é›†ï¼Œ`|` è¿›è¡Œå¹¶é›†ï¼Œ`-` è¿›è¡Œéå¯¹ç§°å·®å¼‚ï¼Œ`^` è¿›è¡Œå¯¹ç§°å·®å¼‚ã€‚ç®—æœ¯è¿ç®—ç¬¦æœ‰æ—¶ä¹Ÿè¢«é‡è½½ä»¥å®ç°æ›´æœ‰åˆ›æ„çš„ç”¨é€”ã€‚ä¾‹å¦‚ï¼Œ`pathlib.Path` å¯¹è±¡ä½¿ç”¨ `/` æ¥åˆ›å»ºå­è·¯å¾„ã€‚

## åŸåœ°ç®—æœ¯è¿ç®— â™»ï¸

Python åŒ…å«è®¸å¤šç”¨äº**åŸåœ°**æ“ä½œçš„åŒä¸‹åˆ’çº¿æ–¹æ³•ã€‚å¦‚æœä½ æ­£åœ¨åˆ›å»ºä¸€ä¸ªæ”¯æŒä»»ä½•ç®—æœ¯æ“ä½œçš„[å¯å˜å¯¹è±¡](https://www.pythonmorsels.com/terms/#mutable)ï¼Œä½ å°†éœ€è¦å®ç°ç›¸å…³çš„åŸåœ°åŒä¸‹åˆ’çº¿æ–¹æ³•ã€‚

| æ“ä½œ | Dunder æ–¹æ³•è°ƒç”¨ | è¿”å› |
| --- | --- | --- |
| `x += y` | `x.__iadd__(y)` | é€šå¸¸æ˜¯ `self` |
| `x -= y` | `x.__isub__(y)` | é€šå¸¸æ˜¯ `self` |
| `x *= y` | `x.__imul__(y)` | é€šå¸¸æ˜¯ `self` |
| `x /= y` | `x.__itruediv__(y)` | é€šå¸¸æ˜¯ `self` |
| `x %= y` | `x.__imod__(y)` | é€šå¸¸æ˜¯ `self` |
| `x //= y` | `x.__ifloordiv__(y)` | é€šå¸¸æ˜¯ `self` |
| `x **= y` | `x.__ipow__(y)` | é€šå¸¸æ˜¯ `self` |
| `x @= y` | `x.__imatmul__(y)` | é€šå¸¸æ˜¯ `self` |
| `x &= y` | `x.__iand__(y)` | é€šå¸¸æ˜¯ `self` |
| `x &#124;= y` | `x.__ior__(y)` | é€šå¸¸æ˜¯ `self` |
| `x ^= y` | `x.__ixor__(y)` | é€šå¸¸æ˜¯ `self` |
| `x >>= y` | `x.__irshift__(y)` | é€šå¸¸æ˜¯ `self` |
| `x <<= y` | `x.__ilshift__(y)` | é€šå¸¸æ˜¯ `self` |

æ‰€æœ‰çš„ Python äºŒè¿›åˆ¶ç®—æœ¯è¿ç®—ç¬¦éƒ½é€‚ç”¨äº**å¢å¼ºèµ‹å€¼è¯­å¥**ï¼Œè¿™æ¶‰åŠä½¿ç”¨æ“ä½œç¬¦åè·Ÿ `=` ç¬¦å·æ¥å¯¹å¯¹è±¡èµ‹å€¼åŒæ—¶è¿›è¡Œæ“ä½œã€‚

å¯å˜å¯¹è±¡ä¸Šçš„**å¢å¼ºèµ‹å€¼**é¢„æœŸä¼š[æ”¹å˜åŸå§‹å¯¹è±¡](https://www.pythonmorsels.com/augmented-assignments-mutate/)ï¼Œè¿™è¦å½’åŠŸäºå¯å˜å¯¹è±¡å®ç°äº†é€‚å½“çš„åŸåœ°ç®—æœ¯åŒä¸‹åˆ’çº¿æ–¹æ³•ã€‚

å½“æ‰¾ä¸åˆ°å°±åœ°æ“ä½œçš„åŒä¸‹åˆ’çº¿æ–¹æ³•æ—¶ï¼ŒPython æ‰§è¡Œæ“ä½œï¼Œç„¶åè¿›è¡Œèµ‹å€¼ã€‚**ä¸å¯å˜å¯¹è±¡é€šå¸¸ä¸å®ç°å°±åœ°æ“ä½œçš„åŒä¸‹åˆ’çº¿æ–¹æ³•**ï¼Œå› ä¸ºå®ƒä»¬åº”è¯¥è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡è€Œä¸æ˜¯ä¿®æ”¹åŸå§‹å¯¹è±¡ã€‚

## å†…ç½®æ•°å­¦å‡½æ•° ğŸ§®

Python è¿˜åŒ…æ‹¬äº†è®¸å¤šä¸æ•°å­¦ç›¸å…³çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼ŒåŒ…æ‹¬[å†…ç½®å‡½æ•°](https://www.pythonmorsels.com/built-in-functions-in-python/#type)å’Œ `math` åº“ä¸­çš„ä¸€äº›å‡½æ•°ã€‚

| æ“ä½œ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- |
| `divmod(x, y)` | `x.__divmod__(y)` | 2-é¡¹å…ƒç»„ |
| `divmod(x, y)` | `y.__rdivmod__(x)` | 2-é¡¹å…ƒç»„ |
| `abs(x)` | `x.__abs__()` | `float` |
| `sequence[x]` | `x.__index__()` | `int` |
| `round(x)` | `x.__round__()` | æ•°å­— |
| `math.trunc(x)` | `x.__trunc__()` | æ•°å­— |
| `math.floor(x)` | `x.__floor__()` | æ•°å­— |
| `math.ceil(x)` | `x.__ceil__()` | æ•°å­— |

Python çš„ `divmod` å‡½æ•°åŒæ—¶æ‰§è¡Œ[æ•´æ•°é™¤æ³•](https://www.pythonmorsels.com/integer-division/)ï¼ˆ`//`ï¼‰å’Œå–æ¨¡è¿ç®—ï¼ˆ`%`ï¼‰ã€‚è¯·æ³¨æ„ï¼Œä¸è®¸å¤šäºŒå…ƒç®—æœ¯è¿ç®—ç¬¦ä¸€æ ·ï¼Œ`divmod` å¦‚æœéœ€è¦è¯·æ±‚ç¬¬äºŒä¸ªå‚æ•°å¤„ç†æ“ä½œï¼Œåˆ™ä¹Ÿä¼šæ£€æŸ¥ `__rvidmod__` æ–¹æ³•ã€‚

`__index__` æ–¹æ³•ç”¨äºåˆ›å»ºç±»ä¼¼æ•´æ•°çš„å¯¹è±¡ã€‚è¯¥æ–¹æ³•å°†å¯¹è±¡æ— æŸè½¬æ¢ä¸ºæ•´æ•°ï¼Œä¸ `__int__` æ–¹æ³•ä¸åŒï¼Œåè€…å¯èƒ½ä¼šæ‰§è¡Œâ€œæœ‰æŸâ€çš„æ•´æ•°è½¬æ¢ï¼ˆä¾‹å¦‚ä» `float` åˆ° `int`ï¼‰ã€‚å®ƒè¢«è¦æ±‚éœ€è¦*çœŸæ­£*æ•´æ•°çš„æ“ä½œä½¿ç”¨ï¼Œä¾‹å¦‚[åˆ‡ç‰‡](https://www.pythonmorsels.com/slicing/)ã€ç´¢å¼•å’Œ `bin`ã€`hex`ã€`oct` å‡½æ•°ï¼ˆ[ç¤ºä¾‹](https://pym.dev/p/2k9zt/)ï¼‰ã€‚

## å±æ€§è®¿é—® ğŸ“œ

Python ç”šè‡³åŒ…æ‹¬äº†åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œç”¨äºæ§åˆ¶è®¿é—®ã€åˆ é™¤æˆ–èµ‹å€¼å¯¹è±¡çš„ä»»ä½•å±æ€§ï¼

| æ“ä½œ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- |
| `x.missing` | `x.__getattr__("missing")` | å±æ€§å€¼ |
| `x.anything` | `x.__getattribute__("anything")` | å±æ€§å€¼ |
| `x.thing = value` | `x.__setattr__("thing", value)` | `None` |
| `del x.thing` | `x.__delattr__("thing")` | `None` |
| `dir(x)` | `x.__dir__()` | å­—ç¬¦ä¸²åˆ—è¡¨ |

`__getattribute__` æ–¹æ³•åœ¨*æ¯æ¬¡*å±æ€§è®¿é—®æ—¶è¢«è°ƒç”¨ï¼Œè€Œ `__getattr__` æ–¹æ³•ä»…åœ¨ Python æœªèƒ½æ‰¾åˆ°ç‰¹å®šå±æ€§æ—¶æ‰è¢«è°ƒç”¨ã€‚æ‰€æœ‰æ–¹æ³•è°ƒç”¨å’Œå±æ€§è®¿é—®éƒ½è°ƒç”¨ `__getattribute__`ï¼Œå› æ­¤æ­£ç¡®å®ç°å®ƒå…·æœ‰æŒ‘æˆ˜æ€§ï¼ˆç”±äºæ„å¤–çš„[é€’å½’](https://www.pythonmorsels.com/what-is-recursion/)ï¼‰ã€‚æŸ¥çœ‹[`__getattr__` versus `__getattribute__`](https://www.pythonmorsels.com/getattr-vs-getattribute/)ï¼Œäº†è§£æ¼”ç¤ºè¿™ä¸¤ç§æ–¹æ³•ä¹‹é—´å·®å¼‚çš„ç¤ºä¾‹ã€‚

`__dir__` æ–¹æ³•åº”è¿”å›ä¸€ä¸ªå±æ€§åç§°çš„å¯è¿­ä»£å­—ç¬¦ä¸²é›†åˆã€‚å½“[ `dir` å‡½æ•°](https://www.pythonmorsels.com/built-in-functions-in-python/#dir)è°ƒç”¨ `__dir__` æ—¶ï¼Œå®ƒå°†è¿”å›çš„å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºæ’åºåˆ—è¡¨ï¼ˆç±»ä¼¼äº[`sorted`](https://www.pythonmorsels.com/sorting-in-python/) çš„æ“ä½œï¼‰ã€‚

å†…ç½®çš„ `getattr`ã€[`setattr`](https://www.pythonmorsels.com/python-setattr/) å’Œ `delattr` å‡½æ•°å¯¹åº”äºåŒåçš„ Dunder æ–¹æ³•ï¼Œä½†å®ƒä»¬ä»…ç”¨äºåŠ¨æ€å±æ€§è®¿é—®ï¼ˆä¸æ˜¯ *æ‰€æœ‰* å±æ€§è®¿é—®ï¼‰ã€‚

ç°åœ¨æˆ‘ä»¬è¿›å…¥äº†çœŸæ­£ä¸å¯»å¸¸çš„ Dunder æ–¹æ³•ã€‚Python åŒ…å«è®¸å¤šç”¨äºå…ƒç¼–ç¨‹ç›¸å…³åŠŸèƒ½çš„ Dunder æ–¹æ³•ã€‚

| å®ç°äº | æ“ä½œ | Dunder æ–¹æ³•è°ƒç”¨ | è¿”å› |
| --- | --- | --- | --- |
| å…ƒç±» | `class T: ...` | `type(base).__prepare__()` | æ˜ å°„ |
| å…ƒç±» | `isinstance(x, T)` | `T.__instancecheck__(x)` | `bool` |
| å…ƒç±» | `issubclass(U, T)` | `T.__subclasscheck__(U)` | `bool` |
| ä»»æ„ç±» | `class U(T): ...` | `T.__init_subclass__(U)` | `None` |
| ä»»æ„ç±» | ï¼ˆæ‰‹åŠ¨è°ƒç”¨ï¼‰ | `T.__subclasses__()` | `list` |
| ä»»æ„ç±» | `class U(x): ...` | `x.__mro_entries__([x])` | `tuple` |
| ä»»æ„ç±» | `T[y]` | `T.__class_getitem__(y)` | ä¸€ä¸ªé¡¹ç›® |

`__prepare__` æ–¹æ³•è‡ªå®šä¹‰äº†ç”¨äºç±»åˆå§‹å‘½åç©ºé—´çš„å­—å…¸ã€‚å®ƒç”¨äºé¢„å…ˆå¡«å……å­—å…¸å€¼æˆ–è‡ªå®šä¹‰å­—å…¸ç±»å‹ï¼ˆ[æ„šè ¢çš„ä¾‹å­](https://pym.dev/p/23wfv/)ï¼‰ã€‚

`__instancecheck__` å’Œ `__subclasscheck__` æ–¹æ³•è¦†ç›–äº† `isinstance` å’Œ `issubclass` çš„åŠŸèƒ½ã€‚Python çš„ ABCs ä½¿ç”¨è¿™äº›æ–¹æ³•æ¥å®ç°[é¹…ç±»å‹](https://www.pythonmorsels.com/goose-typing/)ï¼ˆ[é¸­å­ç±»å‹](https://www.pythonmorsels.com/duck-typing/)åœ¨ç±»å‹æ£€æŸ¥æ—¶çš„åº”ç”¨ï¼‰ã€‚

`__init_subclass__` æ–¹æ³•å…è®¸ç±»æŒ‚é’©å­ç±»åˆå§‹åŒ–ï¼ˆ[ç¤ºä¾‹](https://pym.dev/p/246z6/)ï¼‰ã€‚ç±»è¿˜æœ‰ä¸€ä¸ª `__subclasses__` æ–¹æ³•ï¼ˆåœ¨å®ƒä»¬çš„[å…ƒç±»](https://docs.python.org/3/glossary.html#term-metaclass)ä¸Šï¼‰ï¼Œä½†é€šå¸¸ä¸ä¼šè¢«è¦†ç›–ã€‚

Python åœ¨[ç±»ç»§æ‰¿](https://www.pythonmorsels.com/inheriting-one-class-another/)æœŸé—´è°ƒç”¨ `__mro_entries__` å¤„ç†ä»»ä½•å®é™…ä¸Šä¸æ˜¯ç±»çš„åŸºç±»ã€‚[`typing.NamedTuple`](https://docs.python.org/3/library/typing.html#typing.NamedTuple) å‡½æ•°ä½¿ç”¨æ­¤åŠŸèƒ½æ¥å‡è£…å®ƒæ˜¯ä¸€ä¸ªç±»ï¼ˆ[è¯·è§æ­¤å¤„](https://pym.dev/p/2qgzd/)ï¼‰ã€‚

`__class_getitem__` æ–¹æ³•å…è®¸ç±»æˆä¸ºå¯ç´¢å¼•çš„ï¼ˆ*æ— éœ€*å…¶å…ƒç±»éœ€è¦ä¸€ä¸ª `__getitem__` æ–¹æ³•ï¼‰ã€‚è¿™é€šå¸¸ç”¨äºå¯ç”¨èŠ±å¼ç±»å‹æ³¨é‡Šï¼ˆä¾‹å¦‚ `list[int]`ï¼‰ã€‚

## æè¿°ç¬¦ ğŸ·ï¸

[æè¿°ç¬¦](https://docs.python.org/3/glossary.html#term-descriptor)æ˜¯é™„åŠ åˆ°ç±»æ—¶å¯ä»¥æŒ‚é’©åˆ°è¯¥ç±»ä¸Šçš„å±æ€§åç§°è®¿é—®çš„å¯¹è±¡ã€‚

| æ“ä½œ | Dunder æ–¹æ³•è°ƒç”¨ | è¿”å› |
| --- | --- | --- |
| `class T: x = U()` | `T.x.__set_name__(T, 'x')` | `None` |
| `t.x` | `T.x.__get__(t, T)` | è¯¥å€¼ |
| `t.x = y` | `T.x.__set__(t, y)` | `None` |
| `del t.x` | `T.x.__delete__(t)` | `None` |

æè¿°ç¬¦åè®®ä¸»è¦ç”¨äºä½¿ Python çš„ `property` è£…é¥°å™¨å·¥ä½œï¼Œè™½ç„¶ä¹Ÿè¢«è®¸å¤šç¬¬ä¸‰æ–¹åº“ä½¿ç”¨ã€‚

## ç¼“å†²åŒº ğŸ’¾

å®ç°ä½çº§å†…å­˜æ•°ç»„ï¼Ÿä½ éœ€è¦ Python çš„ [ç¼“å†²åŒºåè®®](https://docs.python.org/3/reference/datamodel.html#emulating-buffer-types)ã€‚

| æ“ä½œ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- |
| `memoryview(x)` | `x.__buffer__(flags)` | `memoryview` |
| `del memoryview(x)` | `x.__release_buffer__(m)` | `None` |

å½“ä» `__buffer__` è¿”å›çš„ç¼“å†²åŒºè¢«åˆ é™¤æ—¶ï¼Œä¼šè°ƒç”¨ `__release_buffer__` æ–¹æ³•ã€‚

Python çš„ç¼“å†²åŒºåè®®é€šå¸¸ç”± C å®ç°ï¼Œå› ä¸ºå®ƒé€‚ç”¨äºä½çº§å¯¹è±¡ã€‚

## å¼‚æ­¥æ“ä½œ ğŸ¤¹

æƒ³è¦å®ç°å¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Ÿä½ éœ€è¦è¿™äº›åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼š

+   `__aenter__`: å°±åƒ `__enter__` ä¸€æ ·ï¼Œä½†å®ƒè¿”å›ä¸€ä¸ªå¯ç­‰å¾…å¯¹è±¡

+   `__aexit__`: å°±åƒ`__exit__`ä¸€æ ·ï¼Œä½†å®ƒè¿”å›ä¸€ä¸ªå¯ç­‰å¾…å¯¹è±¡ã€‚

éœ€è¦æ”¯æŒå¼‚æ­¥è¿­ä»£ï¼Ÿä½ éœ€è¦è¿™äº›åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼š

+   `__aiter__`: å¿…é¡»è¿”å›ä¸€ä¸ªå¼‚æ­¥è¿­ä»£å™¨

+   `__anext__`: åƒ`__next__`æˆ–éå¼‚æ­¥è¿­ä»£å™¨ä¸€æ ·ï¼Œä½†å®ƒå¿…é¡»è¿”å›ä¸€ä¸ªå¯ç­‰å¾…å¯¹è±¡ï¼Œä¸”åº”è¯¥å¼•å‘`StopAsyncIteration`è€Œä¸æ˜¯`StopIteration`ã€‚

éœ€è¦åˆ¶ä½œè‡ªå·±çš„å¯ç­‰å¾…å¯¹è±¡ï¼Ÿä½ éœ€è¦è¿™ä¸ªåŒä¸‹åˆ’çº¿æ–¹æ³•ï¼š

+   `__await__`: è¿”å›ä¸€ä¸ªè¿­ä»£å™¨

æˆ‘åœ¨è‡ªå®šä¹‰å¼‚æ­¥å¯¹è±¡æ–¹é¢ç»éªŒæœ‰é™ï¼Œè¯·æŸ¥æ‰¾å…¶ä»–åœ°æ–¹è·å–æ›´å¤šè¯¦æƒ…ã€‚

## æ„é€ å’Œç»“æŸ ğŸ­

æœ€åå‡ ä¸ªåŒä¸‹åˆ’çº¿æ–¹æ³•ä¸å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯æœ‰å…³ã€‚

| æ“ä½œ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- |
| `T(a, b=3)` | `T.__new__(T, a, b=3)` | æ–°å®ä¾‹ (`x`) |
| `T(a, b=3)` | `T.__init__(x, a, b=3)` | `None` |
| `del x` | `x.__del__()` | `None` |

è°ƒç”¨ç±»è¿”å›ä¸€ä¸ªæ–°çš„ç±»å®ä¾‹ï¼Œè¿™è¦å½’åŠŸäº `__new__` æ–¹æ³•ã€‚`__new__` æ–¹æ³•æ˜¯ Python çš„ **æ„é€ æ–¹æ³•**ï¼Œå°½ç®¡ä¸è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­çš„æ„é€ æ–¹æ³•ä¸åŒï¼Œä½ å‡ ä¹*æ°¸è¿œä¸åº”è¯¥*å®šä¹‰è‡ªå·±çš„ `__new__` æ–¹æ³•ã€‚è¦æ§åˆ¶å¯¹è±¡åˆ›å»ºï¼Œè¯·ä¼˜å…ˆä½¿ç”¨åˆå§‹åŒ–æ–¹æ³• (`__init__`)ï¼Œè€Œä¸æ˜¯æ„é€ æ–¹æ³• (`__new__`)ã€‚[è¿™é‡Œæœ‰ä¸€ä¸ªå¥‡æ€ªçš„ `__new__` ç¤ºä¾‹](https://pym.dev/p/28r9m/)ã€‚

ä½ å¯ä»¥æŠŠ `__del__` è§†ä¸ºä¸€ä¸ª "ææ„" æ–¹æ³•ï¼Œå°½ç®¡å®ƒå®é™…ä¸Šè¢«ç§°ä¸º **ç»ˆç»“å™¨æ–¹æ³•**ã€‚åœ¨å¯¹è±¡è¢«åˆ é™¤ä¹‹å‰ï¼Œå…¶ `__del__` æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼ˆ[ç¤ºä¾‹](https://pym.dev/p/2hexg/)ï¼‰ã€‚æ–‡ä»¶å®ç°äº†ä¸€ä¸ª `__del__` æ–¹æ³•ï¼Œç”¨äºå…³é—­æ–‡ä»¶åŠå…¶å¯èƒ½é“¾æ¥åˆ°çš„ä»»ä½•äºŒè¿›åˆ¶æ–‡ä»¶ç¼“å†²åŒºã€‚

## ç‰¹å®šäºåº“çš„åŒä¸‹åˆ’çº¿æ–¹æ³• ğŸ§°

ä¸€äº›æ ‡å‡†åº“æ¨¡å—å®šä¹‰äº†ä¸åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨çš„è‡ªå®šä¹‰åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼š

+   [dataclasses](https://www.pythonmorsels.com/dataclasses/) æ”¯æŒ `__post_init__` æ–¹æ³•

+   `abc.ABC` ç±»å…·æœ‰ `__subclasshook__` æ–¹æ³•ï¼Œ`abc.ABCMeta` åœ¨å…¶ `__subclasscheck__` æ–¹æ³•ä¸­è°ƒç”¨å®ƒï¼ˆæ›´å¤šå†…å®¹è¯·å‚è§ [goose typing](https://www.pythonmorsels.com/goose-typing/)ï¼‰

+   ç±»ä¼¼è·¯å¾„çš„å¯¹è±¡å…·æœ‰ `__fspath__` æ–¹æ³•ï¼Œè¿”å›æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²

+   Python çš„ `copy` æ¨¡å—å°†ä½¿ç”¨ `__copy__` å’Œ `__deepcopy__` æ–¹æ³•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

+   Pickling ä¾èµ– `__getnewargs_ex__` æˆ– `__getargs__`ï¼Œå°½ç®¡ `__getstate__` å’Œ `__setstate__` å¯è¿›ä¸€æ­¥è‡ªå®šä¹‰ï¼Œè€Œ `__reduce__` æˆ– `__reduce_ex__` åˆ™æ›´ä½çº§

+   `sys.getsizeof` ä¾èµ–äº `__sizeof__` æ–¹æ³•æ¥è·å–å¯¹è±¡çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰

## é­”æœ¯å±æ€§ ğŸ“‡

é™¤äº†é­”æœ¯æ–¹æ³•ä¹‹å¤–ï¼ŒPython è¿˜æœ‰è®¸å¤šéæ–¹æ³•çš„ **é­”æœ¯å±æ€§**ã€‚

è¿™é‡Œæ˜¯ä¸€äº›å¸¸è§çš„é­”æœ¯å±æ€§ï¼š

+   `__name__`: å‡½æ•°ã€ç±»æˆ–æ¨¡å—çš„åç§°

+   `__module__`: å‡½æ•°æˆ–ç±»æ‰€åœ¨çš„æ¨¡å—å

+   `__doc__`: å‡½æ•°ã€ç±»æˆ–æ¨¡å—çš„ [æ–‡æ¡£å­—ç¬¦ä¸²](https://www.pythonmorsels.com/docstrings/)

+   `__class__`: å¯¹è±¡çš„ç±»ï¼ˆä½¿ç”¨ [Python çš„ `type` å‡½æ•°](https://www.pythonmorsels.com/built-in-functions-in-python/#type) ä»£æ›¿ï¼‰

+   `__dict__`: å¤§å¤šæ•°å¯¹è±¡å°†å…¶å±æ€§å­˜å‚¨åœ¨æ­¤å¤„ï¼ˆå‚è§ [å±æ€§å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ](https://www.pythonmorsels.com/where-are-attributes-stored/)ï¼‰

+   `__slots__`: ä½¿ç”¨æ­¤ç‰¹æ€§çš„ç±»æ¯”ä½¿ç”¨`__dict__`çš„ç±»æ›´èŠ‚çœå†…å­˜

+   `__match_args__`: ç±»å¯ä»¥å®šä¹‰ä¸€ä¸ªå…ƒç»„ï¼Œè®°å½•ç±»åœ¨ç»“æ„åŒ–æ¨¡å¼åŒ¹é… (`match-case`) ä¸­ä½¿ç”¨æ—¶ä½ç½®å±æ€§çš„é‡è¦æ€§

+   `__mro__`: ç±»çš„æ–¹æ³•è§£æé¡ºåºï¼Œç”¨äºå±æ€§æŸ¥æ‰¾å’Œ `super()` è°ƒç”¨

+   `__bases__`: ç±»çš„ç›´æ¥çˆ¶ç±»

+   `__file__`: å®šä¹‰æ¨¡å—å¯¹è±¡çš„æ–‡ä»¶ï¼ˆå°½ç®¡å¹¶éæ€»æ˜¯å­˜åœ¨ï¼ï¼‰

+   `__wrapped__`: ä½¿ç”¨ [`functools.wraps`](https://docs.python.org/3/library/functools.html#functools.wraps) è£…é¥°çš„å‡½æ•°ä½¿ç”¨æ­¤ç‰¹æ€§æŒ‡å‘åŸå§‹å‡½æ•°

+   `__version__`: å¸¸ç”¨äºæŒ‡å®šåŒ…çš„ç‰ˆæœ¬

+   `__all__`: æ¨¡å—å¯ä»¥ä½¿ç”¨æ­¤ç‰¹æ€§è‡ªå®šä¹‰`from my_module import *`çš„è¡Œä¸º

+   `__debug__`: ä½¿ç”¨ `-O` è¿è¡Œ Python å°†å…¶è®¾ç½®ä¸º `False`ï¼Œå¹¶ç¦ç”¨ Python çš„ `assert` è¯­å¥

è¿™äº›ä»…æ˜¯æ›´å¸¸è§çš„é­”æœ¯æ–¹æ³•ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ›´å¤šçš„ä¾‹å­ï¼š

+   å‡½æ•°å…·æœ‰ `__defaults__`ã€`__kwdefaults__`ã€`__code__`ã€`__globals__` å’Œ `__closure__`

+   å‡½æ•°å’Œç±»å‡å…·æœ‰ `__qualname__`ã€`__annotations__` å’Œ `__type_params__`

+   å®ä¾‹æ–¹æ³•å…·æœ‰ `__func__` å’Œ `__self__`

+   æ¨¡å—è¿˜å¯ä»¥å…·æœ‰ `__loader__`ã€`__package__`ã€`__spec__` å’Œ `__cached__` å±æ€§

+   åŒ…å…·æœ‰ `__path__` å±æ€§

+   å¼‚å¸¸å…·æœ‰ `__traceback__`ã€`__notes__`ã€`__context__`ã€`__cause__` å’Œ `__suppress_context__`

+   æè¿°ç¬¦ä½¿ç”¨ `__objclass__`

+   å…ƒç±»ä½¿ç”¨ `__classcell__`

+   Python çš„ `weakref` æ¨¡å—ä½¿ç”¨ `__weakref__`

+   [é€šç”¨åˆ«å](https://docs.python.org/3/library/stdtypes.html#type-annotation-types-generic-alias-union)å…·æœ‰ `__origin__`ã€`__args__`ã€`__parameters__` å’Œ `__unpacked__`

+   `sys` æ¨¡å—å…·æœ‰æŒ‡å‘åŸå§‹ `stdout` å’Œ `stderr` ç‰ˆæœ¬çš„ `__stdout__` å’Œ `__stderr__`

æ­¤å¤–ï¼Œå„ç§æ ‡å‡†åº“æ¨¡å—ä½¿ç”¨è¿™äº›åŒä¸‹åˆ’çº¿å±æ€§ï¼š`__covariant__`ã€`__contravariant__`ã€`__infer_variance__`ã€`__bound__`ã€`__constraints__`ã€‚Python è¿˜åŒ…å«ä¸€ä¸ªå†…ç½®çš„ `__import__` å‡½æ•°ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼ˆæ¨èä½¿ç”¨ `importlib.import_module`ï¼‰ï¼Œè€Œ CPython æœ‰ä¸€ä¸ª `__builtins__` å˜é‡æŒ‡å‘ `builtins` æ¨¡å—ï¼ˆä½†è¿™æ˜¯ä¸€ä¸ªå®ç°ç»†èŠ‚ï¼Œåº”åœ¨éœ€è¦æ—¶æ˜¾å¼å¯¼å…¥ `builtins`ï¼‰ã€‚æ­¤å¤–ï¼Œä» `__future__` æ¨¡å—å¯¼å…¥å¯ä»¥å¯ç”¨ç‰¹å®šçš„ Python åŠŸèƒ½æ ‡å¿—ï¼ŒPython è¿˜ä¼šåœ¨åŒ…ä¸­å¯»æ‰¾ `__main__` æ¨¡å—ä»¥ä½¿å…¶ä½œä¸º CLI è„šæœ¬è¿è¡Œã€‚

è¿™åªæ˜¯ Python ä¸­ *å¤§å¤šæ•°* åŒä¸‹åˆ’çº¿å±æ€§åç§°çš„é€ŸæŸ¥è¡¨ã€‚ ğŸ˜µ

## æ¯ä¸ªåŒä¸‹åˆ’çº¿æ–¹æ³•ï¼šé€ŸæŸ¥è¡¨ â­

è¿™æ˜¯æŒ‰ç±»åˆ«ç»„ç»‡çš„æ¯ä¸ª Python åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œå¹¶ä¸”éå¸¸ç²—ç•¥åœ°æŒ‰ç…§ **æœ€å¸¸è§** æ–¹æ³•æ’åºã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æ³¨æ„äº‹é¡¹ã€‚

| ç±»åˆ« | æ“ä½œ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- | --- |
| å¯¹è±¡åˆ›å»º | `x = T(a, b)` | `x.__init__(a, b)` | `None` |
| å¯¹è±¡åˆ›å»º | `x = T(a, b)` | `T.__new__(T, a, b)` | æ–°å®ä¾‹ (`x`) |
| ç»ˆç»“å™¨ | `del x`ï¼ˆç±»ä¼¼ï¼‰ | `x.__del__()` | `None` |
| æ¯”è¾ƒ | `x == y` | `x.__eq__(y)` | é€šå¸¸æ˜¯ `bool` |
| æ¯”è¾ƒ | `x != y` | `x.__ne__(y)` | é€šå¸¸æ˜¯ `bool` |
| æ¯”è¾ƒ | `x < y` | `x.__lt__(y)` | é€šå¸¸æ˜¯ `bool` |
| æ¯”è¾ƒ | `x > y` | `x.__rt__(y)` | é€šå¸¸æ˜¯ `bool` |
| æ¯”è¾ƒ | `x <= y` | `x.__le__(y)` | é€šå¸¸æ˜¯ `bool` |
| æ¯”è¾ƒ | `x >= y` | `x.__ge__(y)` | é€šå¸¸æ˜¯ `bool` |
| å¯å“ˆå¸Œæ€§ | `hash(x)` | `x.__hash__()` | `int` |
| è½¬æ¢ | `repr(x)` | `x.__repr__()` | æ€»æ˜¯ `str` |
| è½¬æ¢ | `str(x)` | `x.__str__()` | æ€»æ˜¯ `str` |
| è½¬æ¢ | `bool(x)` | `x.__bool__()` | æ€»æ˜¯ `bool` |
| è½¬æ¢ | `int(x)` | `x.__int__()` | æ€»æ˜¯ `int` |
| è½¬æ¢ | `float(x)` | `x.__float__()` | æ€»æ˜¯ `float` |
| è½¬æ¢ | `bytes(x)` | `x.__bytes__()` | æ€»æ˜¯ `bytes` |
| è½¬æ¢ | `complex(x)` | `x.__complex__()` | æ€»æ˜¯ `complex` |
| è½¬æ¢ | `format(x, s)` | `x.__format__(s)` | æ€»æ˜¯ `str` |
| ä¸Šä¸‹æ–‡ç®¡ç†å™¨ | `with x as c:` | `x.__enter__()` | å¯¹è±¡ `c` |
| ä¸Šä¸‹æ–‡ç®¡ç†å™¨ | `with x as c:` | `x.__exit__()` | çœŸå€¼/å‡å€¼ |
| é›†åˆ | `len(x)` | `x.__len__()` | `int` |
| é›†åˆ | `iter(x)` | `x.__iter__()` | ä¸€ä¸ªè¿­ä»£å™¨ |
| é›†åˆ | `x[a]` | `x.__getitem__(a)` |  |
| é›†åˆ | `x[a] = b` | `x.__setitem__(a, b)` | `None` |
| é›†åˆ | `del x[a]` | `x.__delitem__(a)` | `None` |
| é›†åˆ | `a in x` | `x.__contains__(a)` | `bool` |
| é›†åˆ | `reversed(x)` | `x.__reversed__()` | ä¸€ä¸ªè¿­ä»£å™¨ |
| é›†åˆ | `next(x)` | `x.__next__()` | ä¸‹ä¸€ä¸ªè¿­ä»£å™¨é¡¹ |
| é›†åˆ | `x[a]` | `x.__missing__(a)` |  |
| é›†åˆ |  | `x.__length_hint__()` | `int` |
| ç®—æœ¯è¿ç®— | `x + y` | `x.__add__(y)` |  |
| ç®—æœ¯è¿ç®— | `x + y` | `y.__radd__(x)` |  |
| Arithmetic | `x - y` | `x.__sub__(y)` |  |
| Arithmetic | `x - y` | `y.__rsub__(x)` |  |
| Arithmetic | `x * y` | `x.__mul__(y)` |  |
| Arithmetic | `x * y` | `y.__rmul__(x)` |  |
| Arithmetic | `x / y` | `x.__truediv__(y)` |  |
| Arithmetic | `x / y` | `y.__rtruediv__(x)` |  |
| Arithmetic | `x % y` | `x.__mod__(y)` |  |
| Arithmetic | `x % y` | `y.__rmod__(x)` |  |
| Arithmetic | `x // y` | `x.__floordiv__(y)` |  |
| Arithmetic | `x // y` | `y.__rfloordiv__(x)` |  |
| Arithmetic | `x ** y` | `x.__pow__(y)` |  |
| Arithmetic | `x ** y` | `y.__rpow__(x)` |  |
| Arithmetic | `x @ y` | `x.__matmul__(y)` |  |
| Arithmetic | `x @ y` | `y.__rmatmul__(x)` |  |
| Arithmetic | `x & y` | `x.__and__(y)` |  |
| Arithmetic | `x & y` | `y.__rand__(x)` |  |
| Arithmetic | `x &#124; y` | `x.__or__(y)` |  |
| Arithmetic | `x &#124; y` | `y.__ror__(x)` |  |
| Arithmetic | `x ^ y` | `x.__xor__(y)` |  |
| Arithmetic | `x ^ y` | `y.__rxor__(x)` |  |
| Arithmetic | `x >> y` | `x.__rshift__(y)` |  |
| Arithmetic | `x >> y` | `y.__rrshift__(x)` |  |
| Arithmetic | `x << y` | `x.__lshift__(y)` |  |
| Arithmetic | `x << y` | `y.__rlshift__(x)` |  |
| Arithmetic | `-x` | `x.__neg__()` |  |
| Arithmetic | `+x` | `x.__pos__()` |  |
| Arithmetic | `~x` | `x.__invert__()` |  |
| Math functions | `divmod(x, y)` | `x.__divmod__(y)` | äºŒå…ƒç»„ |
| Math functions | `abs(x)` | `x.__abs__()` | `æµ®ç‚¹æ•°` |
| Math functions |  | `x.__index__()` | æ•´æ•° |
| Math functions | `round(x)` | `x.__round__()` | æ•°å­— |
| Math functions | `math.trunc(x)` | `x.__trunc__()` | æ•°å­— |
| Math functions | `math.floor(x)` | `x.__floor__()` | æ•°å­— |
| Math functions | `math.ceil(x)` | `x.__ceil__()` | æ•°å­— |
| Assignment | `x += y` | `x.__iadd__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x -= y` | `x.__isub__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x *= y` | `x.__imul__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x /= y` | `x.__itruediv__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x %= y` | `x.__imod__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x //= y` | `x.__ifloordiv__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x **= y` | `x.__ipow__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x @= y` | `x.__imatmul__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x &= y` | `x.__iand__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x &#124;= y` | `x.__ior__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x ^= y` | `x.__ixor__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x >>= y` | `x.__irshift__(y)` | é€šå¸¸ä¸º`self` |
| Assignment | `x <<= y` | `x.__ilshift__(y)` | é€šå¸¸ä¸º`self` |
| Attributes | `x.y` | `x.__getattribute__('y')` |  |
| Attributes | `x.y` | `x.__getattr__('y')` |  |
| Attributes | `x.y = z` | `x.__setattr__('y', z)` | `None` |
| Attributes | `del x.y` | `x.__delattr__('y')` | `None` |
| Attributes | `dir(x)` | `x.__dir__()` | å¯è¿­ä»£å¯¹è±¡ |
| Descriptors | `class T: x = U()` | `T.x.__set_name__(T, 'x')` | `None` |
| Descriptors | `t.x` | `T.x.__get__(t, T)` |  |
| Descriptors | `t.x = y` | `T.x.__set__(t, y)` | `None` |
| æè¿°ç¬¦ | `del t.x` | `T.x.__delete__(t)` | `None` |
| ç±»çš„ç›¸å…³å†…å®¹ | `class U(T): ...` | `T.__init_subclass__(U)` | `None` |
| ç±»çš„ç›¸å…³å†…å®¹ | `class U(x): ...` | `x.__mro_entries__([x])` | `tuple` |
| ç±»çš„ç›¸å…³å†…å®¹ | `T[y]` | `T.__class_getitem__(y)` |  |
| å…ƒç±» | `class T: ...` | `type(base).__prepare__()` | `dict`/æ˜ å°„ |
| å…ƒç±» | `isinstance(x, T)` | `T.__instancecheck__(x)` | `bool` |
| å…ƒç±» | `issubclass(U, T)` | `T.__subclasscheck__(U)` | `bool` |
| å¼‚æ­¥ | `await x`ï¼ˆè¿‘ä¼¼ï¼‰ | `x.__await__()` | ä¸€ä¸ªè¿­ä»£å™¨ |
| å¼‚æ­¥ | `async with x:` | `x.__aenter__()` | ä¸€ä¸ªå¯ç­‰å¾…å¯¹è±¡ |
| å¼‚æ­¥ | `async with x:` | `x.__aexit__()` | ä¸€ä¸ªå¯ç­‰å¾…å¯¹è±¡ |
| å¼‚æ­¥ | `async for a in x:` | `x.__aiter__()` | ä¸€ä¸ªå¯ç­‰å¾…å¯¹è±¡ |
| å¼‚æ­¥ | `async for a in x:` | `x.__anext__()` | ä¸€ä¸ªå¯ç­‰å¾…å¯¹è±¡ |
| ç¼“å†²åŒº | `memoryview(x)` | `x.__buffer__(flags)` | `memoryview` |
| ç¼“å†²åŒº | `del memoryview(x)` | `x.__release_buffer__(m)` | `None` |

ä¸Šè¿°è¡¨æ ¼ç•¥å¾®ä½†æ˜¯ä¸€è‡´åœ°*ä¸çœŸå®*ã€‚ è¿™äº›åŒä¸‹åˆ’çº¿æ–¹æ³•å¤§å¤šæ•°æƒ…å†µä¸‹ä¸æ˜¯ç›´æ¥åœ¨å¯¹è±¡ä¸Šè°ƒç”¨ï¼Œè€Œæ˜¯åœ¨è¯¥å¯¹è±¡çš„*ç±»å‹*ä¸Šè°ƒç”¨ï¼š`type(x).__add__(x, y)`è€Œä¸æ˜¯`x.__add__(y)`ã€‚ è¿™ç§åŒºåˆ«åœ¨å…ƒç±»æ–¹æ³•ä¸­éå¸¸é‡è¦ã€‚

æˆ‘è¿˜ç‰¹æ„æ’é™¤äº†ç‰¹å®šäºåº“çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼ˆå¦‚`__post_init__`ï¼‰å’Œæ‚¨ä¸å¤ªå¯èƒ½å®šä¹‰çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼ˆå¦‚`__subclasses__`ï¼‰ã€‚ è¯·å‚é˜…ä¸‹æ–‡ã€‚

| åˆ†ç±» | æ“ä½œ | åŒä¸‹åˆ’çº¿æ–¹æ³•è°ƒç”¨ | è¿”å›å€¼ |
| --- | --- | --- | --- |
| æ•°æ®ç±» | `x = T(a, b)` | `T.__post_init__(a, b)` | `None` |
| å¤åˆ¶ | `copy.copy(x)` | `x.__copy__()` | æ–°å¯¹è±¡ |
| å¤åˆ¶ | `copy.deepcopy(x)` | `x.__deepcopy__(memo)` | æ–°å¯¹è±¡ |
| [Pickling](https://docs.python.org/3/library/pickle.html#pickling-class-instances) | `pickle.dumps(x)` | `x.__getnewargs__()` | ä¸€ä¸ª2é¡¹å…ƒç»„ |
| Pickling | `pickle.dumps(x)` | `x.__getnewargs_ex__()` | ä¸€ä¸ª2é¡¹å…ƒç»„ |
| Pickling | `pickle.dumps(x)` | `x.__getstate__()` | ä¸€ä¸ªæœ‰æ„ä¹‰çš„çŠ¶æ€ |
| Pickling | `pickle.dumps(x)` | `x.__reduce__()` | ä¸€ä¸ª2-6é¡¹å…ƒç»„ |
| Pickling | `pickle.dumps(x)` | `x.__reduce_ex__(4)` | ä¸€ä¸ª2-6é¡¹å…ƒç»„ |
| Pickling | `pickle.loads(b)` | `x.__setstate__(state)` | `None` |
| pathlib | [`os.fspath(x)`](https://docs.python.org/3/library/os.html#os.fspath) | `p.__fspath__()` | `str`æˆ–`bytes` |
| sys | `sys.getsizeof(x)` | `x.__sizeof__()` | `int`ï¼ˆå­—èŠ‚å¤§å°ï¼‰ |
| ç±»çš„ç›¸å…³å†…å®¹ | Noneï¼Ÿ | `x.__subclasses__()` | å­ç±»çš„å¯è¿­ä»£å¯¹è±¡ |
| ABCs | `issubclass(U, T)` | `T.__subclasshook__(U)` | `bool` |

å› æ­¤ï¼ŒPythonåŒ…æ‹¬äº†103ä¸ªâ€œæ™®é€šâ€çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œ12ä¸ªç‰¹å®šäºåº“çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œä»¥åŠè‡³å°‘52ä¸ªå…¶ä»–å„ç§ç±»å‹çš„åŒä¸‹åˆ’çº¿å±æ€§ã€‚ è¿™è¶…è¿‡äº†150ä¸ªç‹¬ç‰¹çš„`__dunder__`åç§°ï¼æˆ‘**ä¸å»ºè®®**è®°å¿†è¿™äº›ï¼šè®©Pythonå®Œæˆå…¶å·¥ä½œï¼Œå¹¶åœ¨éœ€è¦å®ç°/æŸ¥æ‰¾çš„åŒä¸‹åˆ’çº¿æ–¹æ³•æˆ–å±æ€§æ—¶æŸ¥é˜…å®ƒã€‚

è®°ä½ï¼Œ**ä¸è¦è‡ªå·±å‘æ˜åŒä¸‹åˆ’çº¿æ–¹æ³•**ã€‚æœ‰æ—¶ä½ ä¼šçœ‹åˆ°ä¸€äº›ç¬¬ä¸‰æ–¹åº“ç¡®å®å‘æ˜äº†ä»–ä»¬è‡ªå·±çš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œä½†è¿™å¹¶ä¸è¢«é¼“åŠ±ï¼Œè€Œä¸”å¯¹é‚£äº›å¶ç„¶é‡åˆ°è¿™äº›æ–¹æ³•å¹¶è®¤ä¸ºå®ƒä»¬æ˜¯â€œ*çœŸæ­£*â€åŒä¸‹åˆ’çº¿æ–¹æ³•çš„ç”¨æˆ·æ¥è¯´ï¼Œå¯èƒ½ä¼šç›¸å½“å›°æƒ‘ã€‚

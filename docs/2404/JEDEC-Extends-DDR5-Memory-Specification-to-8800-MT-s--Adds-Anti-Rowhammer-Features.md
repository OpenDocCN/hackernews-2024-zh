<!--yml

category: 未分类

date: 2024-05-27 13:25:31

-->

# JEDEC将DDR5内存规范扩展至8800 MT/s，并增加了抗行锤功能

> 来源：[https://www.anandtech.com/show/21363/jedec-extends-ddr5-specification-to-8800-mts-adds-anti-rowhammer-features](https://www.anandtech.com/show/21363/jedec-extends-ddr5-specification-to-8800-mts-adds-anti-rowhammer-features)

当JEDEC于2020年发布其DDR5规范（JESD79）时，这个标准制定组织[定义了高达6400 MT/s速度桶的模块的精确规格](https://www.anandtech.com/show/16143/insights-into-ddr5-subtimings-and-latencies)，同时随着技术的进步，留下了进一步扩展规范以适应更快内存的空间。现在，三年半多一点时间过去了，标准机构及其成员正在准备发布更新的DDR5内存更快一代，这一代在新的更新的JESD79-JC5规范中得到了详细说明。DDR5规范的最新版本定义了官方的DDR时序规范，速度高达8800 MT/s，并在安全性方面增加了一些新功能。

深入研究后，新规范概述了支持高达8800 MT/s数据传输速率（即DDR5-8800）的内存芯片设置（适用于所有类型的内存模块）。这表明，JESD79委员会的所有成员（包括内存芯片制造商和内存控制器设计者）认为DDR5-8800不仅在性能上而且在成本上都是可行的扩展DDR5规范。与此同时，更高速度桶的添加可能是由这一最新规范引入的另一个JEDEC功能实现的，该功能是用于I/O训练优化的自刷新退出时钟同步。

| JEDEC DDR5-A 规格 |
| --- |
| *AnandTech* | 数据速率 MT/s | CAS延迟 (周期) | 绝对延迟 (ns) | 峰值带宽 GB/s |
| DDR5-3200 | A | 3200 | 22 | 22 | 22 | 13.75 | 25.6 |
| DDR5-3600 | A | 3600 | 26 | 26 | 26 | 14.44 | 28.8 |
| DDR5-4000 | A | 4000 | 28 | 28 | 28 | 14 | 32 |
| DDR5-4400 | A | 4400 | 32 | 32 | 32 | 14.55 | 35.2 |
| DDR5-4800 | A | 4800 | 34 | 34 | 34 | 14.17 | 38.4 |
| DDR5-5200 | A | 5200 | 38 | 38 | 38 | 14.62 | 41.6 |
| DDR5-5600 | A | 5600 | 40 | 40 | 40 | 14.29 | 44.8 |
| DDR5-6000 | A | 6000 | 42 | 42 | 42 | 14 | 48 |
| DDR5-6400 | A | 6400 | 46 | 46 | 46 | 14.38 | 51.2 |
| DDR5-6800 | A | 6800 | 48 | 48 | 48 | 14.12 | 54.4 |
| DDR5-7200 | A | 7200 | 52 | 52 | 52 | 14.44 | 57.6 |
| DDR5-7600 | A | 7600 | 54 | 54 | 54 | 14.21 | 60.8 |
| DDR5-8000 | A | 8000 | 56 | 56 | 56 | 14 | 64.0 |
| DDR5-8400 | A | 8400 | 60 | 60 | 60 | 14.29 | 67.2 |
| DDR5-8800 | A | 8800 | 62 | 62 | 62 | 14.09 | 70.4 |

就DDR5-8800的JEDEC标准而言，它为A级设备设置了相对宽松的时序，CL62 62-62，而对于低端C级ICs则是CL78 77-77。不幸的是，驱动DRAM单元的物理定律在过去几年（或者几十年）内并没有得到太大改善，因此内存芯片仍然必须以类似的绝对延迟操作，从而增加了相对的CAS延迟。在这种情况下，14ns仍然是黄金标准，新速度下的CAS延迟设置以保持绝对延迟大约在这个标记上。但是，作为系统为了等待结果而愿意等待更长时间（以周期为单位）的交换，新规范提高了37.5%的标准内存带宽。

当然，这仅仅是JEDEC规范中设置的时间，主要关注于服务器供应商。因此，我们将看到消费者内存制造商在其XMP/EXPO配置的内存中能够推动多大的速度。极限超频者已经使用当前一代DRAM芯片和CPU达到了[11,240 MT/s](https://www.tomshardware.com/news/ddr5-hits11240-mts)，因此在下一代中可能还有更多的空间可以利用。

与此同时，在安全方面，更新的规范做出了几项变更，看起来是为了应对[rowhammer风格的漏洞](https://en.wikipedia.org/wiki/Row_hammer)。这里的重要内容是每行激活计数（PRAC），正如其名，使DDR5能够记录一行被激活的次数。利用这些信息，内存控制器可以确定一行内存是否被过度激活，并可能导致相邻行的位翻转，此时它们可以减少激活以允许相邻行适当刷新和数据重新稳定。

在这里值得注意的是，JEDEC的新闻稿在任何地方都没有使用rowhammer这个名字（不幸的是，我们还没有看到规范本身）。但仅根据描述，显然旨在阻止rowhammer攻击，因为这些攻击通常通过大量激活在刷新之间强制位翻转来操作。

深入挖掘一些，PRAC似乎基于最近Intel的专利，*使用多次计数增量进行完美的行锤追踪* ([US20220121398A1](https://patents.google.com/patent/US20220121398A1/en))，描述了一个非常类似的机制，以“完美行锤追踪”（PRHT）命名。值得注意的是，Intel的论文指出，这种技术会增加总体行周期时间，因此会带来性能成本。最终，由于rowhammer底层的漏洞是物理学问题（单元密度），而不是逻辑问题，看到对其任何缓解措施都伴随着成本并不令人意外。

更新后的DDR5规范还取消了对标准内部的部分阵列自刷新（PASR）的支持，原因是安全顾虑。PASR主要面向移动内存的功耗效率，作为一种与刷新相关的技术，可能与行锤效应有些重叠——无论是作为攻击内存的手段，还是作为防御行锤效应的障碍。不管怎样，随着移动设备越来越多地采用低功耗优化的LPDDR技术，PASR的取消对消费设备来说并不立即看起来是一个主要关切。

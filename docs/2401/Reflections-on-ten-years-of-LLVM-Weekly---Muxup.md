<!--yml

分类：未分类

日期：2024 年 05 月 27 日 14:27:58

-->

# 对十年 LLVM 周刊的反思 - Muxup

> 来源：[`muxup.com/2024q1/reflections-on-ten-years-of-llvm-weekly`](https://muxup.com/2024q1/reflections-on-ten-years-of-llvm-weekly)

# 对十年 LLVM 周刊的反思

2024Q1.

今天，通过[第 522 期](https://llvmweekly.org/issue/522)，我标志着十年来撰写[LLVM 周刊](https://llvmweekly.org/)的里程碑，这是一个总结 LLVM 项目（LLVM、Clang、MLIR、Flang、libcxx、compiler-rt、lld、LLDB 等）进展的新闻简报。不知怎么地，我设法保持了连续发布，自从[2014 年 1 月 6 日](https://llvmweekly.org/issue/1)的第一期以来，每个星期一都有发布（2014 年的第一个星期一——你也可以看到格式几乎没有变化！）。有了这样一个里程碑，现在是记录一些关于这份简报的反思和对未来的思考的完美时刻。

## 动机和目的

当我开始[LLVM 周刊](https://llvmweekly.org/)时，我已经和 LLVM 一起工作了几年，作为开发和支持一个新型研究架构的下游编译器的一部分。这是一个非常有教育意义但有些孤独的经历，我希望更密切地跟踪上游的 LLVM 开发，以更好地了解可能影响或帮助我的工作的变化，以了解我没有积极使用的编译器的其他部分，并且还为了感觉与更广泛的 LLVM 社区有更多联系，考虑到我的编译器工作是一个独自的努力。开始 LLVM 开发简报的计算很简单：我发现无论如何都要追踪开发的价值，写作和与他人分享的增量工作并不是太大，而且我相当确定其他人也会受益。

回顾我的笔记（我有一个巨大的 Markdown 文件，其中包含自 2011 年以来的每日笔记——这样的大小和格式的文件对文本编辑器也是一个很好的[压力](https://github.com/mawww/kakoune/issues/4685#issuecomment-1208129806) [测试](https://github.com/helix-editor/helix/issues/3072#issuecomment-1208133990)！），看起来我在 2013 年 12 月初认真考虑过开始某种新事物的想法。我构思了格式，看了看其他我可能想要效仿的新闻简报，然后在新的一年开始了。事情确实如此简单。我想最好试一试，如果没有任何反响就停止，而不是浪费大量时间了解兴趣和格式的水平。作为一个附带说明，我很高兴看到当时我研究的许多新闻简报仍然在继续：[This Week in Rust](https://this-week-in-rust.org/) [Perl Weekly](https://perlweekly.com/) （我承认这让我吃惊！），[Ubuntu Weekly News](https://discourse.ubuntu.com/c/uwn/124) ，[OCaml Weekly News](https://alan.petitepomme.net/cwn/index.html)，以及[Haskell Weekly News](https://wiki.haskell.org/Haskell_Weekly_News)。

## 读者群和内容

LLVM Weekly 的基本格式非常简单 - 突出相关新闻文章和博客文章，挑选一些论坛/邮件讨论（有时试图总结复杂的辩论 - 但这非常具有挑战性和耗时），并突出显示项目中的一些值得注意的提交。最近，我开始宣传本周的[在线同步会议](https://llvm.org/docs/GettingInvolved.html#online-sync-ups)和[办公时间](https://llvm.org/docs/GettingInvolved.html#office-hours)。明显缺失的是任何形式的广告或付费内容。我尊重其他人在这种领域取得成功的事业，但虽然我一直在自己的个人时间内撰写 LLVM Weekly，但我从未感到舒服尝试通过这种方式来赚取其他人的注意力或与社区的关系。

目标受众实际上是任何对跟踪 LLVM 开发感兴趣的人，尽管我不倾向于扩展每个首字母缩略词或为每个术语提供基础解释，因此如果您想理解每一行，就假定您对项目有一定的了解。该通讯发布在 LLVM 的 Discourse 上，[llvmweekly.org](https://llvmweekly.org/)，并直接发送到人们的收件箱。我还会在[Twitter](https://twitter.com/llvmweekly)和[Mastodon](https://fosstodon.org/@llvmweekly)上发布每期的链接。我并没有尝试跟踪开放率或拥有功能性分析，因此只有对读者数量有一个大概的了解。直接订阅邮件列表的活跃订户约为 3.5k，Twitter 粉丝约为 7.5k，Mastodon 粉丝约为 180（最近才引入），以及通过 llvmweekly.org 或 RSS 阅读的人数未知。我相当确信我至少不是在虚空中大声呼喊。

这门课程肯定有一些空白或盲点。我没有试图链接到正在审查中的补丁，尽管许多人可能有有趣的审查讨论，因为整理这些讨论会是一项太过繁琐的工作，而且如果讨论特别有争议性或需要 LLVM 社区更广泛的参与，你可以预期会发布一个 RFC。虽然我尽力突出 MLIR 的主题或提交，但由于目前不是我正在工作的 LLVM 领域，我可能会错过一些东西。幸运的是，贾维德·阿巴萨尔（Javed Absar）已经开始撰写[MLIR 新闻通讯](https://discourse.llvm.org/c/mlir/mlir-news-mlir-newsletter/37)，帮助填补这些空白。我目前也没有浏览 LLVM GitHub 组织下的存储库，除了主要的 llvm-project monorepo，尽管也许我应该…

我避免重新发布工作岗位，因为开销太大了。我发现处理重新发布广告的请求（以及考虑这对社区是否有用）或确定广告是否足够与 LLVM 相关只会浪费时间，而有更好的选择。人们可以在 LLVM 论坛 的 [工作职位分类](https://discourse.llvm.org/c/community/job-postings/) 上检查工作岗位，或者在他们喜爱的招聘网站上搜索 LLVM。

## 它是如何运作的

这里实际上有两个问题要回答：我每周如何写作，以及使用了哪些工具和服务。在写作方面：

+   我有一个清单，只是为了确保没有漏掉任何事情，并帮助在将工作分散在多个日子后迅速回到工作状态。

+   `tig --since=$LAST_WEEK_DATE $DIR` 以步进方式查看过去一周内单体库中每个子项目的提交。[Tig](https://jonas.github.io/tig/) 是一个出色的 git 文本界面，我当然有一个丑陋的脚本绑定到一个键上，生成我为每个选择的提交插入的 `shorthash` 样式链接。

+   我会判断一个提交是否可能对其他人有兴趣。这肯定会有一些缺陷，但希望比随机选择好！如果你认为我漏掉了重要内容，或者有关下周应该包含的内容的建议，我总是非常感激反馈。

    +   有一个窍门几乎可以确保在没有给我留言的情况下就能被 LLVM 每周简报提及——编写文档！我很少看到添加更多文档的提交而没有加以突出显示。

+   同样，我浏览了过去一周的 [LLVM Discourse](https://discourse.llvm.org/) 帖子，并挑选出我认为读者可能感兴趣的讨论。大多数 RFC 都会被作为其中的一部分选中。在某些情况下，如果有长时间的讨论，我可能会尝试总结或指出关键信息，但老实说这比我想象的要少，因为这可能会非常耗时。我非常努力保持中立的态度，不会在技术讨论中插入个人观点。

+   许多人问写文档需要多长时间，答案当然是因人而异。花费大量时间试图弄清楚我不太擅长的编译器某些部分的提交或讨论的重要性，或者更好地总结内容，都很容易。活动量也可能在每周变化很大（尤其是在 Discourse 上）。写作、编辑和发送的时间大多在 2.5-3.5 小时范围内（很少超过 4 小时）。

关于工具的介绍不多，除了我可能需要更新我的辅助脚本之外。邮件发送由[Mailgun](https://www.mailgun.com/)处理，自我开始以来已经更换了三次所有者。我通过服务器端的一个简单的 Python 脚本处理双重确认，邮件发送费用每月为$3-5。除此之外，我用一些脚本生成静态 HTML，这些脚本可能需要更多的关注和改进。其他运行成本只包括域名费用和一个还托管了其他一些东西的 VPS，与时间投入相比，这些成本微不足道。

## 您可以如何帮助

我无法强调我并不是 LLVM 所有部分的专家，而且我也只是一个普通人，很容易会忽略一些东西。如果您做了什么您认为人们可能感兴趣的事情，而我没有涵盖，那么我几乎肯定没有明确地审查过它并认为它不值得。请继续通过发送链接和建议来帮助我。编写提交消息，明确说明更改是否具有更广泛的影响，这也有助于增加我发现它的机会。

我在上面指出，在冗长的 RFC 线程中进行摘要是非常耗时的。有时人们会站出来做这个，当这种情况发生时，我总是尽力链接到它。发起线程或提案的人最适合撰写这样的摘要，这也是一种有用的工具，可以检查您是否正确地解释了人们的建议/反馈，但如果其他人提供类似的服务，这也可能会有所帮助。

许多人反馈说他们发现 LLVM Weekly 对了解 LLVM 的发展很有帮助。这是令人满意的，但也是一项相当巨大的责任。如果您对我可以以不大的时间投入做出不同的事情有想法，我总是乐于听取想法和建议。

## 杂项想法

显而易见，十年是一个相当长的时间。在这段时间里，发生了很多事情——我结婚了，我们有了一个儿子，我共同创立并帮助发展了一家公司，然后离开了那家公司，启动了上游的 RISC-V LLVM 后端，还有更多。我喜欢与编译器一起工作的一件事是，总是有新的东西可以学习，而编写 LLVM Weekly 每周至少让我在我目前工作领域之外学到一点点。LLVM 也发生了很多变化。我想想看，从 SVN 到 Git 的转变，将 Git 仓库转移到 GitHub，从 Phabricator 到 GitHub PRs 的转变，从 Bugzilla 到 GitHub 问题，从邮件列表到 Discourse，重新授权为带有 LLVM 例外的 Apache 2.0，更广泛地采用办公时间和区域特定的同步电话等等。我认为，即使是 LLVM 基金会也是在 LLVM Weekly 开始后不久成立的。看到[llvm.org 的网站设计保持不变！](https://web.archive.org/web/20140102034931/http://llvm.org/)真让人欣慰！

这也是一个我越来越多地参与 LLVM 的时间段。上游工作 - 最值得注意的是启动了 RISC-V LLVM 后端，组织了 LLVM 大会，做了很多演讲，为 LLVM 大会的各种程序委员会服务等等。当我开始时，我感觉自己很像一个从外部看进来并记录所见的人。鉴于我的大部分工作是下游的，这也可能是准确的。虽然我不觉得自己是 LLVM 的“内部人”（如果这样的存在的话？！），但我肯定比以前更加融入了社区。

一个明显的问题是是否有其他值得追求的组合新闻通讯的方法。到目前为止，我对大型语言模型的经验是，它们并没有在减少制作 LLVM 每周一的耗时方面提供很大帮助，但也许将来会有所改变。如果我可以被自动化，那就太好了 - 也许我误判了我的编辑输入有多少信号而不只是噪音，但我认为我们现在还没有达到 AI 的这一步。更多的协作方法可能是探索内容的另一条途径。对于当前的格式，风险在于沟通开销和在预定发布日期之前看看各种贡献是否实际发生的压力非常大。如果我确实想要分摊负担或转交，那么轮值编辑可能对我最有趣。即使多个人参与贡献，每周也会有一个人充当后备，以确保有东西发出去。

LLVM 每周一发布的不间断连载已经成为一种象征。固定的承诺并不总是方便的，但这也可以为一周带来一种节奏感。即使是糟糕的一周，至少也有一些人似乎欣赏的东西。陷入不良习惯，频繁错过周刊对任何人都不好，但我怀疑一个允许偶尔休息的时间表也会很好。无论如何，我感到十年不间断的连载给我带来一种解脱感。我不打算开始跳过周刊，但如果生活阻碍了，并且连载中断了，我会因为达到了那个任意的里程碑而感到更加轻松。

## 展望未来，感谢

那么接下来呢？LLVM 每周一会继续，就像以前一样。我不知道再过 10 年我是否还会继续写下去，但我计划不会很快停下来。如果它不再是我时间的好利用，不再为他人提供价值，或者我发现有更好的方法来产生类似的影响，那么离开就是唯一合乎逻辑的选择。但目前，向前迈进。

许多感谢之情应该表达。感谢那些使 LLVM 成为现在这个样子的人们 - 无论是在技术上还是从我学到很多东西的社区方面。感谢[我在的 Igalia](https://www.igalia.com/)为我提供了一个特权环境，在这里我有幸被付费为 LLVM 做出贡献（如果您有 LLVM 需求，请[联系我们](https://www.igalia.com/contact/)！）。感谢我的家人一直以来的支持，当然还要感谢他们忍受我有时 LLVM 周报的承诺是不方便的时候。感谢每一位一直在阅读 LLVM 周报的人，特别是那些给出反馈、提示或对未来问题提出建议的人。

最后，如果您已经看到这一点，请确保您已经[订阅了](https://llvmweekly.org/)LLVM 周报，并且在[Mastodon 上关注](https://fosstodon.org/@llvmweekly)或在[Twitter 上关注](https://twitter.com/llvmweekly)。

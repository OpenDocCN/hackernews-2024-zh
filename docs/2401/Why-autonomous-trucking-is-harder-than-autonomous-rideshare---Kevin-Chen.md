<!--yml

分类：未分类

日期：2024-05-27 14:46:27

-->

# 为什么自动驾驶卡车比自动乘车更困难 — Kevin Chen

> 来源：[`kevinchen.co/blog/autonomous-trucking-harder-than-rideshare/`](https://kevinchen.co/blog/autonomous-trucking-harder-than-rideshare/)

最近，The Verge 发问，[“机器人卡车都去哪了？”](https://www.theverge.com/23981006/autonomous-truck-semi-driverless-aurora-kodiak-infrastructure)

这是一个好问题。

卡车驾驶本应是自动驾驶的理想首选应用。高速公路包含可预测、高度结构化的驾驶场景。无人驾驶卡车不必处理交叉路口和双向交通的复杂情况。它可以轻松行驶数百英里而不会遇到行人。

[](/assets/blog/av-truck-difficulty/truck-watercolor-hero-1792w.jpg)

DALL-E 3 提示：“生成一幅艺术性的，景观长宽比的水彩画，画面上是一辆带有鲜艳红色驾驶室、拉着白色拖车的卡车。卡车在冬季时驶上空旷的乡村公路，两侧种满常青树，道路旁有一片雪堆，在多云雾的天气中行驶。”

这些卡车也可以只具有高速公路驾驶能力，或者高速公路加上一小段表面道路，以到达[中转站](https://web.archive.org/web/20180201192005/https://medium.com/@UberATG/the-future-of-trucking-b3d2ea0d2db9)所需。自动驾驶公司只需要处理一组有限的企业作为客户，绕过支持大量消费者的混乱局面，这是 B2C 模式固有的。

无人驾驶卡车不受休息要求的限制。正如[*The Verge*](https://www.theverge.com/23981006/autonomous-truck-semi-driverless-aurora-kodiak-infrastructure)所指出的，“卡车司机每天最多可以驾驶 11 个小时，并且在连续驾驶 8 小时后必须休息 30 分钟。无人驾驶卡车不会面临这样的限制”，这使得它们可以提供一项服务，从字面上讲是无人驾驶者无法匹敌的。

* * *

如果你在 2018 年问我，当时我刚开始在自动驾驶行业工作，我会打赌无人驾驶卡车会成为首个实现百万英里无人驾驶部署的车辆类型。甚至，Aurora 在 2020 年[改变了方向](https://techcrunch.com/2020/07/20/aurora-expands-to-texas-in-bid-to-ramp-up-self-driving-truck-efforts/)，将整个公司转向卡车领域，认为这比城市驾驶更容易。

然而，现在 2024 年，我们知道 Waymo 和 Cruise 在城市街道上已经行驶了数百万英里 — 其中大部分在旧金山的密集城区 — 并且没有无人驾驶卡车部署。发生了什么？

我认为问题在于*无人驾驶*的自动驾驶卡车比无人驾驶乘车简单得多。

最初看起来，卡车问题似乎更容易，事实上，许多自动驾驶开发者很快就达到了他们的初始里程碑，这让他们产生了错误的信心。但当开发者开始着手最后一丝抛光时，难度会急剧上升。他们会遇到与高速公路上的高速和卡车尺寸相关的棘手问题，这些问题必须在将人类从驾驶座位上移除之前解决。

## 什么是无驾驶员的标准？

这是一个简单的框架：

+   车辆中没有驾驶员。

+   无法保证远程操作员或后端服务的及时响应。

+   因此，所有关乎安全的决定必须由机载计算机独自完成。

+   在这些约束下，系统仍然满足或超过了人类的安全水平。

这是一个非常非常高的标准。例如，在市区道路上，这意味着系统*自身*能够至少行驶 100k 英里而不会造成财产损失，行驶 4000 万英里而不会造成死亡。

系统仍然可能存在缺陷，但几乎所有这些问题都必须导致进展的停滞，而不是碰撞或受伤。简而言之，尽管系统可能不知道在每种情况下做出*正确*的事情，但它绝不能做出*错误*的事情。

（对于那些对严格定义感兴趣的人来说，有几个高质量的安全框架。^(^(这超出了本文的范围。)))

现在，让我们逐个方面来看一下卡车业务，看看它是如何加剧这些挑战的。

## 卡车业务的特定挑战

### 制动距离 vs. 感知范围

自动驾驶汽车所需的传感器能力由车辆需要处理的最具挑战性的情景决定。卡车业务的一个主要挑战是在行车道上停在一辆停顿的车辆或大型碎片后面。为了避免碰撞，自动驾驶汽车需要的感知范围必须大于或等于其制动距离。

我们将作出一个简化的假设，即制动距离定义了最小检测范围的要求。一个无驾驶员的质量感知系统需要对车辆在车辆的最坏制动距离内进行完美的[召回](https://en.wikipedia.org/wiki/Precision_and_recall)。

乘用车可以减速达到-8 m/s²。卡车只能达到约-4 m/s²，这增加了制动距离，并将感知范围要求推到了今天传感器能够提供的极限边缘。

这是在干燥道路上空车情况下的视觉停车距离：

视距制动距离被定义为在没有制动的情况下假定 2.5 秒的反应时间，随后进行最大制动所需的距离。该距离是根据在不同坡度的道路上空车情况下计算的。在潮湿天气或带载下坡行驶时，制动距离会增加（未显示）。

现在让我们将这些距离与各种传感器的能力进行比较：

**激光雷达**传感器根据物理原理进行直接测量，因此提供可靠的 3D 数据。它们的可用范围约为 200-250 米，对于城市驾驶来说足够了，但对于每个卡车使用案例来说不够。激光雷达检测模型可能还需要随时间累积多次扫描/帧以可靠地检测远处的物体，特别是对于像碎片这样的较小物体，进一步减少了可用检测范围。

请注意，一些固态激光雷达声称的范围明显超过 250 米。这些数字是在理想条件下收集的；对于计算最低感知能力，我们感兴趣的是能够提供完美回忆和非常好的精度的范围。例如，激光雷达可能无法在整个视场内达到最大范围，或者可能需要不良的折衷措施，比如减少点密度和视野以获得更大的范围的扫描模式。

**雷达**可以看得比激光雷达远。例如，[这款高端 ZF 雷达](https://www.zf.com/products/en/cars/products_64255.html)声称可以在 350 米之外检测到车辆。雷达非常适合跟踪移动车辆，但很难区分静止车辆和其他背景物体。特斯拉自动驾驶系统已经[显示](https://slate.com/technology/2021/08/teslas-allegedly-hitting-emergency-vehicles-why-it-could-be-happening.html)了这个问题，通过制动以避免穿越高架桥并撞上停滞的车辆。像 ZF 设备这样的“成像”雷达将比生产车辆上的雷达表现更好。它们仍然没有方位角分辨率以区分 200 米之外的物体，这是雷达输入最需要的地方。

**摄像头**可以检测远处的物体，只要物体上有足够的像素，这就导致了选择具有高分辨率和狭窄视野（长焦镜头）的摄像头。车辆将携带多个狭窄摄像头以在转弯时获得全面覆盖。然而，摄像头不能直接测量距离或速度。

使用机器学习的组合摄像头+雷达系统在这里可能有最好的机会，尤其是在基于最近进展的基于 ML 的早期融合。但是，它需要表现足够好，以便作为 200 米以外的主要检测源。训练这样的模型更接近于一个开放性问题，而不仅仅是从激光雷达接收数据。

总的来说，我们似乎没有任何感知解决方案能够满足卡车实现无人驾驶的要求。

### 控制

控制乘用车——确定需要多少转向和油门输入以使车辆沿着轨迹行驶——比控制卡车要简单。例如，乘用车通常被建模为单个刚体，而卡车及其拖车可以分开移动。在进行急转弯时，规划者和控制器需要考虑到这一点，并且在极低摩擦条件下，避免[折叠](https://en.wikipedia.org/wiki/Jackknifing)。

这些特性除了适用于乘用车辆的所有常规控制挑战外，还需要额外的开发和验证时间。

## 高速公路特有的挑战

好吧，卡车的情况很难解决，但高速公路的情况呢？现在对于乘用车辆来说，构建 L4 级高速公路自动驾驶可能听起来吸引人。然而，与城市街道相比，高速公路驾驶还带来了额外的挑战。

### 在高速公路上实现最小风险条件

自动驾驶车辆应该在检测到内部故障或无法处理的驾驶情况时停止。这被称为[最小风险条件（MRC）](https://cyberlaw.stanford.edu/blog/2022/01/deep-weeds-levels-driving-automation-lurks-ambiguous-minimal-risk-condition)。例如，检测到高清地图中的错误或传感器故障的自动乘客车辆可能会被编程执行靠边停车或在车道上停止，具体取决于问题的严重程度。

尽管 MRC 行为对其他道路使用者来说可能很[烦人](https://twitter.com/friscolive415/status/1690281516935589888)，也让自动驾驶车辆的开发者感到尴尬，但考虑到低速和城市驾驶已经混乱的本质，它们不会在表面街道上增加不合理的风险。这给了自动驾驶车辆的开发者更多的呼吸空间（在合理范围内），以部署一个系统，该系统并不完全知道如何完美处理每一种驾驶场景，但知道如何避免麻烦。

在高速公路上情况就不同了。在车道上停车会变得更加危险，可能会以高速发生追尾碰撞。所有的停车都应该提前计划，最好在下一个匝道出口退出，或者至少开到离停车足够的路肩。

这极大地增加了需要在高速公路上以自动方式处理的边缘情况的范围和速度。例如：

**场景理解：** 如果车辆遇到意外的施工区、事故现场或其他非正常驾驶情况，仅仅检测到并停止是不够的。在表面街道上重新规划路线是一个可行的选择，但通常在高速公路上不是一个选项，因为车辆可能在看到施工区之前就很难或非法掉头。正在施工中的高速公路也更有可能是通往目的地的唯一路径，特别是如果所讨论的自动驾驶车辆并非设计用于在城市街道上行驶。

操作解决方案对于规模化部署来说也是不够的。自动驾驶车辆的开发者通常禁止它们经过已知的问题区域，这些问题区域是通过手动驾驶的侦察车辆收集的，或者是当局发布的公告。然而，对于规模化部署来说，始终了解每英里道路的状况是不合理的。

因此，系统需要在非结构化场景中找到正确的路径，可能会遵循警察的指示来引导交通，即使这涉及到交通违规，比如逆行。我们知道，当前最先进的自动驾驶车辆仍然偶尔会驶入[湿混凝土](https://www.sfgate.com/tech/article/cruise-stuck-wet-concrete-sf-18297946.php)和[沟渠](https://twitter.com/duckduckgeese/status/1715334636103168200)，这表明做出正确决策并不是一件简单的事情。

**地图:** 如果车道线已经重新涂漆，而系统通常使用高清地图，它需要忽略地图并根据感知系统的输出即时构建新地图。它需要区分地图和感知错误。

**正常运行时间:** 通过冗余和/或工程手段，传感器、计算机和软件故障需要几乎被消除。系统需要几乎完美的正常运行时间。例如，在丢失传感器或重新启动软件模块时，在表面街道上进行最大制动 MRC 是可以接受的，前提是这些故障很少发生。在高速公路上，同样的操作会很危险，所以必须消除故障，或者开发备用/冗余措施。

这些问题并不是不可能克服的。每辆自动客车都在某种程度上解决了它们，剩下的边缘情况则被推迟到一些 MRC 和远程操作员的组合中。不同之处在于，在高速公路上，它们需要以非常高的可靠性水平来解决问题，以满足无人驾驶的标准。

### 高速公路很无聊

使高速公路更简单的特点——受控通行、没有交叉口、单向行驶——也使[“有趣”事件](https://medium.com/cruise/why-testing-self-driving-cars-in-sf-is-challenging-but-necessary-77dbe8345927)变得更加罕见。这是一把双刃剑。尽管简化的环境减少了需要开发的软件功能数量，但也增加了迭代时间和成本。

在开发过程中，“有趣”的事件是训练数据饥饿型 ML 模型所必需的。对于验证，每个新的软件版本在被资格认定为无人驾驶操作之前需要遇到一定数量的“有趣”事件，以便与人类安全水平的比较具有统计学意义。总的来说，当收集每个事件的车辆小时数更多时，迭代变得更加昂贵。

自动驾驶开发人员只能通过增加其运营团队的规模或接受软件发布之间的更多时间来做出回应。（请注意，模拟也不是完美的解决方案。事件的罕见性增加了在模拟中的车辆小时数，到目前为止，没有人展示出在无人驾驶软件验证的情况下用实际里程的替代品。）

## 它会发生吗？

卡车运输需要更长的范围感知和更复杂的控制，增加了系统复杂性，并将问题推到了当前感知能力的极限。同时，在高速公路上行驶带来了额外的可靠性要求，提高了从制图到场景理解的每个软件组件的质量标准。

如果卡车的外形因素和高速公路领域都增加了难度水平，那么无人驾驶卡车可能是自动驾驶的最难应用：

现在，随着城市中规模化的拼车服务大多数都在运行，我预计接下来会看到规模化的[高速公路拼车服务](https://waymo.com/blog/2024/01/from-surface-streets-to-freeways-safely.html)。

这是否意味着无人驾驶卡车永远不会实现？不，我仍然相信自动驾驶开发人员最终会克服这些挑战。[奥罗拉](https://blog.aurora.tech/products/the-aurora-driver-is-feature-complete)，[科迪亚克](https://kodiak.ai/news/kodiak-unveils-industry-first-semi-truck-designed-for-scaled-driverless-deployment)和[Gatik](https://archive.ph/2023.12.15-162144/https://www.forbes.com/sites/richardbishop1/2023/12/14/krogergatik-partnership-provides--counterpoint-to-gm-cruise-debacle/)都承诺到今年年底以某种形式进行无人驾驶部署。但在 2024 年，我们可能不会看到接近百万英里的部署。要实现这一点，需要在感知、机器学习方面取得进展，以及大量的辛勤工作。

* * *

*感谢 Steven W.和其他人的讨论和反馈。*

* * *

谢谢阅读！如果你喜欢我的文章，我愿意通过我的[通讯](https://buttondown.email/kevinchen)给你发送偶尔的新文章通知。你将收到每篇文章的完整文本，以及偶尔的额外内容。

你也可以在 Twitter 上关注我（[@kevinchen](https://twitter.com/kevinchen)）或通过 RSS 订阅。

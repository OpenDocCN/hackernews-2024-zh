<!--yml

类别：未分类

日期：2024年05月27日14:58:48

--> 

# Adrian接下来做了什么-第二部分-太阳微系统|由Adrian Cockcroft|Medium

> 来源：[https://adrianco.medium.com/what-adrian-did-next-part-2-sun-microsystems-c1a512c8284](https://adrianco.medium.com/what-adrian-did-next-part-2-sun-microsystems-c1a512c8284)

# Adrian接下来做了什么-第二部分-太阳微系统

Adrian Cockcroft、Richard McDougall、Allan Packer 和 Brian Wong。Los Altos CA，20世纪90年代中期 - Adrian 拍摄。

我在剑桥顾问公司工作了六年，构建了一些有趣的系统，管理我们的太阳工作站，学到了很多东西，但那时太阳公司在街对面开了一家销售办事处，我想要比其他人先找出他们接下来要发布什么产品。所以我于1988年加入了太阳公司的销售团队，并成为了系统工程师（现在我们会说解决方案架构师）。这是一个很大的飞跃，我每天都得穿西装上班，并且整天都得和销售代表一起拜访客户。我真的很享受每天与不同客户合作，解决不同的问题，并成为一个极具创新和快速成长的公司的一部分。我还学到了如何直接与客户合作，何时闭嘴，让销售人员主导谈话，以及技术销售工作的一般知识。太阳剑桥的早期日子是特别的，我从我的同事系统工程师Martin Baines那里吸收了很多关于网络和角色的技术方面的知识，我们一起开着酷炫的公司车在整个地区奔波（我有一辆雪铁龙BX 16V）销售一个非常热门的产品。公司和团队随着时间的推移变得越来越大，但最初的销售团队由Paul Martin（福特Sierra Cosworth - 英格兰东部最快的销售人员）、Martin Harris（路虎发现-招募了一个充气骷髅作为额外的销售人员）、David Morley（沃克斯豪尔卡尔顿-总是在Newmarket的赛马上打赌）和Gary Littlefair（宝马320 - 多年来都完成了超过目标的200%，因为我们把英国电信拉到了Sun英国最大的客户）,我们就像是“踢屁股，玩得开心”，就像Scott McNealy喜欢说的那样。我还定期去加利福尼亚的太阳总部参加培训课程，并在那里遇到了一些有趣的人，特别是来自纽约的Reynold Jabbour，他对人和技术都非常有洞察力，为东海岸的系统工程师团队工作，后来去了各种华尔街银行工作，到现在仍是我最亲密的朋友之一。

我成为了 Sun UK 地区性能和硬件方面的专家，随着 Sun 从桌面工作站公司转变为销售高端多处理器服务器，我帮助客户找到并解决了可伸缩性问题。1991 年，我撰写了一篇广受欢迎的关于性能的白皮书，1993 年（在 Brian Wong 的帮助下），这让我在美国找到了一份工作，与 Brian 一起在技术产品营销部门为 Mike Briggs 工作。又一个重大飞跃，但现在我的工作是在实验室里运行基准测试，并编写白皮书，介绍新产品，因为它们推出。我也学会了市场营销是如何运作的，并开始建立我的演示和培训技能，因为 Sun 派我到世界各地教授研讨会并在活动中演讲。我主要使用 C 进行编码，调整 FORTRAN，当我需要对基准测试结果进行大量数据分析时，我使用了 S-PLUS 统计语言，这是 R 的前身。[我仍然在使用 R…](https://github.com/adrianco/rs-tesla-telemetry)

我多年来担任的一个角色是为全球专业系统工程师主持技术培训活动，我们称之为大使计划。当我在英国工作时，我曾参加过这些活动，但后来成为了组织者之一。我必须安排所有相关产品团队的一周讲座，受众是来自世界各地的约一百名最有经验的系统工程师。我们在硬件、操作系统、数据库、图形等方面有专业知识。在某个时候，我们有两个来自不同团队的冲突的高可用性产品，他们之间没有合作。我特意在一个活动中安排他们相继上台，这样他们都在同一个房间里，观众猛烈批评了他们 — 结果导致产品和消息发生了变化。有时我们设法请到 Sun 创始人 Andy Bechtolsheim 来给我们讲话，他会告诉我们远比产品经理希望我们知道的更多，关于他正在从事的所有酷炫的事情，而这些事情尚未发生。[他并没有改变](https://www.youtube.com/watch?v=9v0SzfzIZCo)。我们建立了许多至今仍持续的全球友谊。上次我在布达佩斯时见到了 Erik Fisher，Constantin Gonzalez 后来也成为了德国首批 AWS 解决方案架构师之一，还有太多名字了…

我记得组织了我的第一个为期一周的活动，成功地进行了下去，并回到办公室告诉我的经理 Mike Briggs。他很高兴，但也告诉我，他当天要离开，成为 NetApp 的第一批员工之一，当时我感到震惊！我们最终聘请了 Phil Parkman 接管我们的小组管理工作，那时也包括我的朋友 Dave Fisk，我仍然经常和他在一起。后来，在一些重组之后，我们最终向当时的服务器组织 CTO Greg Papadopoulos 汇报工作。

自 1984 年左右我就开始使用互联网，用于电子邮件和新闻组，通过 ftp 站点分享文件，比如我的白皮书，但在 1990 年代初，万维网出现了，Sun 是其中一个非常早期的采用者。企业 IT 部门完全不知道发生了什么，但有人安装了一个 T1 线路，我们将一台空余的台式机连接上并设置了 [www.sun.com](https://web.archive.org/web/19961020014601/http://www.sun.com:80/)（链接指向 1996 年的存档）。大约在 1995-1996 年间，我获得了 root 权限，帮助 Shane Sigler 运行这个站点，当时它是最早期的企业网站之一。我学会了为这种新的网络连接密集型工作负载调整系统，帮助 Solaris 工程团队调整网络堆栈，并帮助客户运行一些早期的网络属性。Mike Briggs 建议我和 Brian Wong 写书，因为那样我们会对工程团队产生更大的影响，事实证明这是一个很好的建议。Brian 写了 [*《Sun 服务器配置和容量规划》*](https://www.amazon.com/Configuration-Capacity-Planning-Solaris-Servers/dp/0133499529/)，而我将我的白皮书集合成了一本书 [*《Sun 性能与调优》*](https://www.amazon.com/Sun-Performance-Tuning-Java-Internet/dp/0130952494)，这本书广受欢迎，并在 SunWorld Online 上发表了每月一期的问答栏目。随后，Rich Pettit 附加了一些额外的章节，对这本书进行了大幅扩展。

Brian Wong 启动了一个“轮换计划”，他和我运行了很多年，得到了 Barb Hill 的行政帮助和资金支持，我们会向全球某个地方借调一名系统工程师一个月，并让他们与我们一起进行一些基准测试或撰写一篇论文。通过这种方式，我们交到了很多好朋友，发现了一些惊人的人才，很多人最终被聘用到了永久的职位上，以至于有些 SE 经理称之为工作捐赠计划，他们失去了一些优秀的员工加入了中央团队，但大多数情况下，他们很高兴看到他们取得成功。

Rich Pettit 是我见过的最优秀的程序员之一。1993 年的一个星期一，他在一个月的轮换期内出现了，看了一下 Brian 写的一个复杂的 Perl 脚本，试图捕获一些调优思路，然后决定使用 lex 和 yacc 来编写一个专用语言，以使其更容易。到了星期三，他就做好了。我采用了这种语言，称为 [SE Toolkit](https://sourceforge.net/projects/setoolkit/)，它是一个基于 C 的解释器，可以直接读取内核中的所有性能数据，并在多年中编写了许多脚本，包括一个叫做 virtual_adrian.se 的脚本，许多人都在使用。SE 工具包运行速度快，没有内存泄漏（监视脚本可以运行多年），并让我实现了许多很酷的性能监控想法。Rich 成为了《Sun 性能调优》第二版的合著者，描述了它的工作原理。

Phil Harman 是我在 Sun UK 的朋友，当我离开去美国时，我们两个是英国最资深的系统工程师。他多次来美国轮换。他成为了 Solaris 多线程方面的顶尖专家。Jim Mauro 和 Allan Packer 分别从新泽西和澳大利亚阿德莱德轮换过来，共同研究如何为 Oracle Financials 制作数据库大小指南，我把它写出并发表了。这是 Sun 第一本制作的数据库大小指南。Allan 搬到美国几年，专注于数据库性能，并写了书 [*Configuring and Tuning Databases on the Solaris Platform*](https://www.amazon.com/Configuring-Tuning-Databases-Solaris-Platform/dp/0130834173/)。他还与 IBM 密切合作，将 DB2 移植到 Solaris 上运行。Jim 也加入了数据库性能团队。

Allan 还介绍给我认识了 Richard McDougall，他曾与 Allan 在 Sun Australia 合作，Richard 曾来访并建立了一些监控工具。一个月内他完成了大量工作，包括一个能够以前所未见的方式布局整台机器内存使用情况的工具。稍后我们的经理询问了 Brian 和我下一个应该雇佣谁，我们俩都提名了 Richard。他希望雇佣一个比国际迁移更容易的人，但最终我们还是成功了。后来 Richard 与 Jim Mauro 合作撰写了 [*Solaris Internals*](https://www.amazon.com/Solaris%C2%BF-Internals-Vol-Jim-Mauro/dp/0130224960/) 系列书籍，在撰写第一本书时，试图弄清楚某些功能的工作原理时，竟然发现并修复了内核代码中的一个重大 bug，这是 Solaris 8 中最大的性能优化。

Paul Reithmuller 是另一位出色的澳大利亚工程师。有一天我们在团队会议中聊天时，他说他正在处理一个 TPC-C 基准测试，但在 SCSI 磁盘驱动程序上花费了太多时间，于是他写了一个 10 行的 awk 脚本，针对内核内存执行 SPARC 机器代码路径分析，找出预测错误的分支，然后又写了另一个 awk 脚本来翻转内存中的分支预测位，结果显示出显著的加速效果。对于一个房间里的人们来说，那是一个令人难忘的下巴掉地时刻，你竟然做到了！之后我们开了个玩笑，每个看似不可能的难题都可以用一个十行 awk 脚本解决。

1998 年，我在保罗·斯特朗（Paul Strong）在轮换工作时认识了他，我们成为了亲密的朋友，因为我们都喜欢鹰风乐队（Hawkwind）、弗兰克·扎帕（Frank Zappa）和国王深红乐队（King Crimson）的音乐。后来他搬到美国去工作，我们在一起工作和玩了很多年，特别是当我帮助他组建 [渐进摇滚乐队分形（Fractal）](https://vincefont.wordpress.com/2009/04/20/fractals-sequitur-when-mind-and-music-meet-youre-gonna-tap-your-fee/) 时。他是一位出色的鼓手，而我不是一个足够好的贝斯手，但我录制了他们许多的排练和演出，并为一些他们早期的器乐曲命名（大多带有糟糕的双关语）。

在我和布赖恩写的书取得成功之后，我们得到了一部分版税，我们的管理层决定我们应该把写书作为我们的工作，并且我们组建了一个专家团队来编写最佳实践指南，作为太阳蓝图系列书籍出版。我对两本太阳蓝图系列书籍做出了重大贡献，分别是 [*Resource Management*](https://www.amazon.com/Resource-Management-Bluprints-Richard-Dougall/dp/0130258555/)（1999）与 Richard McDougall、Evert Hoogendoorn、Enrique Vargas 和 Jim Bialaski 合著，以及 [*Capacity Planning for Internet Services*](https://www.amazon.com/Capacity-Planning-Internet-Services-Cockcroft/dp/0130894028/)（2001）与 Bill Walker 合著。我们的团队还出版了存储专家 Jeannie Johnstone Kobert 的 [*The Guide to High Availability*](https://www.amazon.com/Guide-High-Availability-Configuring-boot/dp/0130163066/)，Enrique Vargas 的 [Sun Cluster Environment](https://www.amazon.com/Sun-Cluster-Environment-2-2/dp/0130418706/)，Don Devitt 的 [Solaris PC Netlink](https://www.amazon.com/Solaris-PC-Netlink-Performance-Deployment/dp/0130266868/)（我们曾在波士顿附近的他的帆船上度过了一个愉快的团队活动），以及其他几本书。最终，我们在业余时间写的书更具主观见解，我认为更加有用，并且销售情况也比那些更加“正确”且经过许多人审查的官方书籍要好。我还提出了 [Cockcroft 的写书定律](/how-to-finish-writing-a-book-by-adrian-cockcroft-originally-posted-15th-march-2006-5b5fc629993b)，即书籍在写作过程中会变得越来越大，比你写作速度更快，所以你需要修剪它们以完成它们。

最终，在成为 Sun 公司容量规划和性能领域的专家之后，我和 Brian Wong 一起成为了 [杰出工程师](https://medium.com/@adrianco/whats-a-distinguished-engineer-6b3e4d320ce6)，并于 1999 年加入了中央性能工程团队。我带领着一个小团队，在如今成为 Facebook 总部的门洛帕克校园与 Elizabeth Purcell、法国的 Roch Bourbonnais 以及弗吉尼亚州的 Bob Sneed 合作过，我们进行了一个我们的数据中心设计师 Rob Snevely (他著有一本包含 Elizabeth Purcell 撰写的章节的 [Blueprint 书籍](https://www.amazon.com/Enterprise-Data-Center-Design-Methodology/dp/0130473936/)）称之为“万花筒项目”的工程，我们在这个项目中会安装和运行大型服务器配置的性能测试，这些配置比工程团队通常运行的测试或基准环境更接近客户端且更复杂。我们发现了许多无法正确配合的事情，提交了很多 Bug，并解决了许多客户问题。我们将这称为“融化防范”，并且不得不努力让人们意识到近乎失灾也是值得追踪的。

早在 2000 年代初，Sun 公司正在设计其下一代高端服务器，为了避免之前系统中出现的可靠性问题，采用了 Six Sigma 方法来创建最佳质量实践。我当时正在寻找新的挑战，所以加入了这个项目，并最终获得了“黑带”认证。这就像是一个非常紧张和技术含量极高的 MBA，重新学习了我在学士学位中忘记的很多统计知识，以及关于变更管理、需求分析、故障建模等课程，这些知识至今仍然对我很有用。我曾与负责设计背板连接器的工程团队一起工作，但当 Sun 公司资金告罄时，该项目最终被取消了。我还将 [Six Sigma 方法应用于容量规划](https://www.slideshare.net/adrianco/capacity-planning-for-virtualized-datacenters-sun-network-2003-presentation)，并在 2003 年的一次会议上做了演讲。

我参与的一个有趣的附加项目是，Sun 公司为 2002 年 Salt Lake City 冬季奥运会提供了后端服务器系统，我加入了这个项目作为容量规划顾问，以确保活动进行时一切都不会出错。我使用了多年来作为 Rich Pettit 的 SE Toolkit 的一部分构建的一些自定义监控工具，其中包括一个名为 virtual-adrian 的工具，它实现了我想到的所有想法。一切都进行得很顺利，我看到了一些比赛，有时感觉非常寒冷。我还在 2004 年雅典奥运会前的准备工作中提供了帮助。

我在Sun的最后一个角色是作为由Shahin Khan领导的高性能技术计算团队的首席架构师，我们很开心，他是我遇到过的最好的经理之一，让我在很多不同的方向上发展。在某个时候，我们的产品负责人离开了，我接替了这个角色，所以我花了一两年的时间学习如何成为我们的高性能计算和高端图形产品线的产品经理。我还与一位非常有经验的业务发展经理Susanna Kass一起工作，与许多内部和外部合作伙伴建立关系，并深入了解了BD的运作方式。该团队与Sun的标准主管Carl Cargill合作，因为Sun和Oracle创建了一个新的标准组织，即企业网格联盟。我担任Sun的主要代表，并在我们与IBM主导的全球网格论坛的竞争关系上工作。在我离开Sun之前，我让Paul Strong参与了EGA，这两个竞争团体最终合并，网格和Web服务演变成了云计算。当AWS推出云计算时，我们正在思考最终成为云计算的趋势，但Sun没有正确的商业模式直接面向开发人员销售信用卡上的容量，这就是AWS如何绕过我们在Sun看到的企业CIO的抵制的。这份工作在很多不同的方面对我进行了拉伸，我们过得很愉快，但那时Sun正在缩减规模，其中一次裁员包括我们整个团队。

我们刚刚在上海的一次活动上推出了我们的主要HPC产品，使用了一排Intel Linux基础的计算节点，使用SPARC Solaris服务器进行配置和提供存储，配备Infiniband或以太网连接，Sun Grid Engine等。当我在那里时，我们听说即将有裁员，但每个人都认为我们的团队仍然是必需的。在回程路上，我去了檀香山参加了全球网格论坛的会议，代表EGA，遇到了Vikas Deolaliker，他说似乎没有人能找到足够的人手来拯救HPC团队。我记得和Savas Parastatidis和Jim Webber（现任Neo4j的CTO）坐在酒吧里告诉他们发生了什么事情，然后在那个晚上与eBay的COO Maynard Webb开始了一封邮件线索，假装eBay应该开始一个新的业务线，即按需拍卖计算能力，但实际上是在找工作...

所以在2004年中期，我被裁员了，寻求改变，并决定不再向大公司销售计算机，而是在eBay探索面向消费者的技术。我曾在1999年帮助eBay从容量相关的故障中恢复过来，并建立了他们的容量规划流程。那时我也曾拒绝过一份工作机会，但这次他们把我作为杰出工程师加入到他们的运维架构团队中。

Vikas 离开后共同创立了 Sonoa 系统，后来成为 Apigee，现在是 Google Cloud 的一部分。Shahin Khan 曾一段时间负责 Azul 系统的营销工作，并且仍然活跃在 HPC 社区。Susanna Kass 现在致力于数据中心的可再生能源工作，我们最近又重新联系上了。

这里有太多的故事和人物要提及，所以抱歉我可能遗漏了一些人，这些是我的记忆，可能有错误。Sun 公司对我的职业生涯起到了重要作用，这是一个非常棒的工作场所，并且多年来汇聚了大量的人才。

<!--yml

category: 未分类

date: 2024-05-27 15:10:38

-->

# 关于“拥有”软件 - avdi.codes

> 来源：[https://avdi.codes/on-owning-software/](https://avdi.codes/on-owning-software/)

曾经，我拥有一个坐落在田纳西州东部山区的漂亮大房子。现在我不再拥有它了。如今我租住在圣路易斯郊区的一座简朴的牧场。但每个月，我仍然要还一笔房屋维修贷款。因为为了卖掉那间田纳西的房子，我不得不花费$22,000来更换老化的暖通空调系统。

家庭所有权到此为止。让我们谈谈拥有软件。

# 服务需要支持

大约25年前，我成为了团队的CVS代码库的本地维护者。这是我们摆脱微软SourceSafe的方式。从那时起，我一直参与决策和支持支持团队工作的软件服务。自那时以来，团队服务发生了很大变化，商业模式也在变化。然而，有一件事没有变，那就是所有服务都需要维护和支持。支持是什么意思？嗯，一些例子可能是：

+   团队成员可能需要学习如何充分利用这项服务。

+   服务器操作系统必须升级到当前的LTS版本，这会更新库或更改守护程序管理子系统，并对服务产生影响。

+   或者，由于类似原因，底层数据库被升级。

+   由于这些服务的更新，像Github或Front或Trello等的链接停止工作，需要有人负责处理。

+   服务器空间不足，需要有人管理平稳迁移到更大的服务器或存储容量。

+   影响服务所依赖的堆栈的 CVE。必须有责任的人负责：

    1.  注意;

    1.  对可能受影响的服务进行审计; 以及

    1.  解决问题 - 如有必要，通过更改代码。

+   必须有人维护备份。最好定期测试它们。

+   我们需要与我们选择的其他服务进行定制集成。我们要么需要其他人编写它们，要么需要关于编写此类扩展的最佳实践的示例和建议。

+   我们可能希望为我们自己的工作流程定制软件。再次强调，这可以意味着供应商按照我们的规范编写定制内容，或者我们在他们的帮助和文档指导下编写定制内容。

+   服务意外宕机（所有软件总会在某个时候宕机，即使这并不是“bug”本身），需要有人停止其他的运维或开发工作，弄清楚出了什么问题。

+   当某些操作因为从未测试过具有那么多历史数据的情况而变得不够迅速时，这必须是*某人*的问题。必须有人研究是归档旧数据还是修复查询之间的差异，然后实施解决方案。

+   下达命令，要求对所有软件进行审计。出于新的法规原因，上市原因等。必须有人负责对服务进行审计。

+   我们突然意识到我们需要立即清理客户的PII信息。有人必须对其进行审核并执行清理，而软件可能没有默认支持此功能。

+   我们发现软件的部分部分不符合ADA标准，这使得残疾团队成员无法使用。这必须成为某人的问题。

+   我们已经被收购，现在服务必须要么使用企业SSO登录，要么被放弃，没有例外。

+   世界在变化，大多数团队正在从使用Fleeble转向使用SnipSnarb作为其CI服务。我们现在需要服务与SnipSnarb进行接口。

+   根据现代标准，UI界面感觉越来越过时和笨重，团队越来越不喜欢使用它，特别是新员工。它需要进行UI刷新。

这些只是一些零星例子，说明服务可能需要维护和支持的原因。没有服务会需要所有这些原因；所有服务都至少需要一些。我甚至没有提到需要支持的最常见原因，那就是*软件存在影响我们团队的错误*。

# 所有权曾经困扰着许多组织。

支持团队的服务是活体系统，而活体系统总是需要持续的维护和支持。没有例外。已经发展和蔓延的是团队如何支付支持的模式，以及这种支持在内部员工、供应商员工、商品托管员工和更广泛社区之间如何划分。

从前，您可能会购买某些软件的许可证（如SourceSafe），然后将其托管在团队服务器房间的计算机上。这就是我们所说的“本地”软件。通常情况下，除了购买的软件版本的许可证外，您还会为您的团队购买某种年度支持许可证。根据许可证的级别，您可能会获得优先电话支持，您可能会定期获得来自现场的人员访问，甚至您可能会获得访问软件源代码（受到保密协议的保护），以便您更好地理解它，并更好地编写本地定制或与之集成。

这种形式的服务“所有权”往往会按照一个相当可预测的轨迹发展。如果这是一个有用的、受欢迎的服务，组织会随着时间逐渐地自然地定制它，扩展它，围绕它构建流程，并与之集成。渐渐地，组织的IT预算会花费在支持这些定制和集成上。经过多年的发展，就像船体上的帆船一样，对服务的持续支持将对组织整体预算和开发速度产生重大影响；所有这些都是为了一个甚至不是公司实际产品的服务。在最糟糕的情况下，一个整个部门可能会发展成为服务的服务。

与此同时，供应商通常会继续淘汰产品，甚至倒闭。组织将被留下他们长期紧密绑定的“僵尸”服务。他们不仅要花费人时支持他们的定制；他们还必须在支持过时的软件堆栈甚至硬件方面投入越来越多的投资，以使旧服务继续运行。就像我的第一份软件工作中基于主机的时间/预算跟踪系统，必须通过[VT100](https://en.wikipedia.org/wiki/VT100 "VT100 ")模拟器访问。

# 开源革命已经发生了。

在我软件职业生涯的头十年左右，发生了一场海洋变革。越来越多的这些服务被开源软件替代。通常起初是作为内部静默的反抗行为，但越来越多地得到公司的支持。

有时，开源服务只是更好。有时它们显着更简洁，但它们提供的总拥有成本方面的诱人优势使得它们值得权衡：

+   最重要的是，查看代码不是一个可能可用的许可证附加功能需要更多的$。这是一个事实。这对扩展、定制和回答我们自己关于“它应该如何工作”的问题是一个巨大的恩惠。

+   代码通常质量更高，更容易遵循，这是由于开源开发的不同激励。并不总是，但通常是这样。

+   我们受益于广泛开放的社区共享知识论坛。没有一个供应商有兴趣成为唯一的专家。

+   我们有助于的选项。我们可以试着自己内部解决问题，与项目维护者签订合同以寻求帮助，或者与独立专家签订合同。

+   迁移到和从开源系统迁移通常更容易。

+   开源软件项目可能会被抛弃，但从来没有以只在特定版本的 Solaris 上运行的不透明二进制文件的方式。我们所剩的都是那种情况。

+   当然，我们得益于每家投资于该服务的其他公司所做的改进。

渐进式内部定制泛滥的最坏情况可能仍然会导致我们负责的项目的内部分支。但至少，在这种情况下，我们可以*完全*拥有它。无论是好是坏。

有一件事保持不变，甚至增加了：支持和维护的成本，以内部工作量衡量。

# 量化内部支持

让我们花一分钟更具体地量化这个成本。

例如，我们可以从一个基于我以前的 CVS 仓库管理职责的情景开始。作为这个现成的开源服务的唯一支持/维护者，我的角色包括诸如：

+   初始安装和弄清用户身份验证。

+   根据需要从其他系统（如 SourceSafe、RCS 和 PVCS）导入较旧的仓库。

+   帮助开发人员入门并解决他们的身份验证问题。

+   维护一些捕捉我们工作流程的小脚本。

+   偶尔解开文件权限的怪异问题。

细节会因服务而异，但这对于一个开发者或运维人员可能负责的低维护本地服务来说是相当典型的。

让我们保守一点，假设这需要这个开发者每周平均一小时的时间。有些周没有，有些周更多，但平均一小时。

让我们看看，根据Glassdoor，截至2024年1月，美国高级软件工程师的平均总薪酬（包括福利）为$194k。这相当于每小时$97。97乘以50周是$4,850/年。

所以，每年的总支持和维护成本约为$5k/年。以及……那个开发者本来可能会把时间投入到其他项目上的损失。

有了这个数字，让我们继续我们的故事……

# 软件即服务改变了数学。

时间流逝，世界变得更加普遍地联网，Web浏览器成熟了，成为托管服务的薄客户端前端。这产生了团队软件的下一个重大进化：软件即服务（SaaS）。

一些SaaS是在其他人的机器上托管的开源软件，进行了硬件和软件升级、备份等操作。其他则建立在专有代码之上。

有些承诺只负责基础设施——硬件、操作系统升级、网络存储、备份——脱离你的手中。其他则包括对服务本身的大量支持，包括入职、迁移、回答新用户的问题、故障排除和解决错误等。

它们共同拥有的特点是一个定价模型，将本应是内部支持和维护的部分转变为固定的“租金”。这可能会比内部资源低得多，这是由于规模经济和他们的人员可能只是专家，*仅仅*专注于那项服务，而他们的专业知识是在许多托管帐户之间共享的。此外，成本是*可预测的:*对于给定年份和用户数量，您确切地知道您将为该支持级别花费多少。没有惊喜。没有意外的几周，只是让一个开发者对团队必不可少的服务进行故障排除。

让我们把SaaS成本具体化。之前我们说过，一个现代化的相当于我曾经穿戴的本地版本控制托管服务，现在的年薪大约是$5k。相比之下，2024年，在Github上有12个开发者，你要么花费$541/年（对于入门级套餐），要么花费$2,880/年（对于企业级托管合同）。没有与我们的主流项目匹配的开发者工时损失。

SaaS 还有一个主要有益的副作用：与我们之前谈到的那些布满 barnacle 的内部服务不同，SaaS 施加了一种压力，*反对*组织对服务进行定制，使其成为一个独特而特殊的个体。相反，SaaS 倾向于引导团队将对产品的使用修改为更加常规的方向。这导致对专业支持的需求减少。

# 现在我们有很多选择了。

在当今，对于团队可能想要的任何类型的服务，我们有许多不同的选择，关于 ongoing support 和 maintenance labor 是如何在本地团队、供应商或更广泛的社区之间分配的：

+   手工自制服务：我们对一切负责，但至少我们了解代码库的每一个细节。

+   专有的本地软件，托管在我们运维人员维护的硬件上，并获得供应商的支持合同。

+   本地托管的开源代码，完全由我们自己的人员支持。

    +   一个极端情况是一个单个开发人员将服务视为自己的宝贝，可能会投入大量的“隐藏”时间，当他们离开时，我们就会面临问题。

+   本地托管的开源代码，但与维护代码的组织或第三方专家顾问签订了支持合同。

+   由其他人托管的开源软件，我们每年支付一笔费用。我们可能要为定制和集成负责，但我们付给他们来进行基础设施管理。

+   专有 SaaS

一些具体的例子：

**聊天/会议/聊天运维**：一个团队可能会托管他们自己的 [Mattermost](https://mattermost.com/) 服务器，并自行进行所有管理和支持。或者，他们可能会将其托管在本地，但与 Mattermost 公司签订支持计划。或者，他们可能选择使用云托管服务器。或者，他们可能会付费使用 Slack。

**版本控制托管**：一个团队可能托管他们自己的 [Gitlab](https://about.gitlab.com/ "Gitlab") 实例，或者付费使用 Gitlab 作为服务，或者从 Github 购买 Github on-prem 并得到 Github 的支持，或者付费使用 Github 的云托管 SaaS。

对于任何给定的服务，可能有很多因素会影响选择哪种方法对团队是合理的。例如，特殊的隐私或监管问题可能要求软件在现场托管，而不是在公共云中。但无论在任何情况下，都不是选择是否要为基础设施、维护、支持和管理的持续成本付费的问题。而是如何在公司人员、供应商成本和依赖开源社区交互之间分配这些成本的选择。

# 单次许可证是一个显著的例外。

你通常 *看不到* 的一个模型是为团队提供一次性永久许可证的软件服务。这个原因很简单：这是一个对供应商或客户都不起作用的模型。

在客户端，我们知道任何服务的真实成本在于支持，而不是初始投资。对于我们能想到的任何类型的服务，都已经有一个成熟的开源提供方，其“购买”价格是……免费的。支付某人甚至是“共享源码”许可证也没有自托管开源软件的优势，在缺乏社区支持和持续可行性方面存在许多缺点。

从供应商方面来看，如果他们从一次性许可证中赚钱，长期来看经济学就不成立了。他们的激励是将所有精力花在无休止地扩大市场份额，以便向新用户销售，和/或制造有偿升级和附件，以便向现有买家销售。对于代码质量、漏洞修复或其他可持续性考虑，并没有财务激励。

旁注：虽然我用来运行自己内容业务的大多数软件大致属于我上面列出的托管类别，但在过去的五年里，我确实让自己相信购买了一次性许可证的软件服务。而且它仍然是我在软件方面经历过的最糟糕的经历之一：

+   这只是一个质量很差的产品，存在大量的中断和已知错误。

+   这个行业支持能力最差，通常需要等待几周才能得到回复。

+   他们半公开用户论坛上的人知道，如果他们说任何批评性的事情，他们的帖子很可能会被供应商删除，因为供应商有利于给出愉快的顾客外观，以便进行新的一次性销售。

+   供应商的很多时间和金钱都花在为产品培养联盟销售上，通过资金回流的第三方“评论”在互联网上泛滥。

+   承诺的功能多年来一直未能实现，因为他们在为顾客开发新的附加产品，以便能够以更高的价格销售给顾客。

这些都是一次性销售模式的可预见结果。这种模式中的激励是不可避免的，也是不可回避的。

没有一家注重其产品长期可持续性的正规店铺会选择这种模式。但如果有人*决定*这样做，他们可能会通过利用人们对收缩包装消费软件的怀旧情感来推广它。他们可能会强调拥有“自己的”软件的好处，而忽略了总拥有成本。他们可能会依赖年轻的技术决策者的经验不足，这些人从未不得不面对实际投入长期内部支持服务的真实经济。他们可能会提供“共享源码”风格的专有许可证，但会小心不承诺任何更新甚至修复程序错误。他们可能会敞开大门，一旦赚了快钱就放弃整个计划。他们可能会将整个骗局以大胆而高尚的宣言方式框定，以激发兴奋并抵消明显的异议。

当然，这是一个假设。

# 拥有是昂贵的。

关于所有权的事情有几个含义。我“拥有”那座山上的房子，直到今天它仍然在花费我钱。

你可以纯粹地探讨“所有权”的形而上的概念。在那个意义上，也许NFT兄弟们有一点道理：你唯一能真正“拥有”的是完全无形的东西。尽管，他们仍然比我弄丢电视遥控器的次数多。

当涉及到软件服务时，“所有权”的唯一实际含义是：谁负责它的值班？当它不按需工作时，谁必须放下手头的工作？谁负责升级？谁负责数据的迁入和迁出？

一旦你在行业里打拼过几次，从VP Eng的角度看待事物，你唯一会确信的关于所有权的事情是：当涉及到为开发团队拥有服务时，拥有是*昂贵的*。它感觉很像租用，只是不那么可预测。

- en: <!--yml
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 14:34:21'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: -->
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: A concrete example of why Apple's documentation is terrible | A concrete example
    of why Apple's documentation is terrible
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://www.amimetic.co.uk/blog/a-concrete-example-of-why-apples-docs-are-terrible/](https://www.amimetic.co.uk/blog/a-concrete-example-of-why-apples-docs-are-terrible/)
  id: totrans-5
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Apple's documentations is famously dreadful. In particular it is often missing
    or incomplete. [No overview available](https://nooverviewavailable.com/) gives
    you some numbers on this but I think that actually understates the problem. Even
    when it is available it is often terrible. Here is a small concrete example I
    recently encountered while doing some MacOS development (an area I'm less familiar
    with).
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
- en: I want to prompt the user to open a directory. How do I do that? Obviously I
    Google it (throwing in `Swift` to avoid ancient `Obj-C` answers).
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: Seems like I want something called `NSOpenPanel`.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: I find [Apple's docs](https://developer.apple.com/documentation/appkit/nsopenpanel)
    and it seems to be fairly clear. I configure with some straightforward options.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: Okay how do I actually use it?
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: Hmmm. That is far from clear. There is literally nothing on the page that explains
    even the most basic use case. Sigh. Hit google again finding that I want to call
    `begin` and that that this accepts a callback which is given a result.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: The example is out of date (a perpertual issue with Swift) but eventually sort
    that out in the editor (we now have a nice enum with the result).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: Okay but how do I get the actual directory selected? The success value is `.OK`.
    Is there some kind of data with that? No. Just a result.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: Hmmm...
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: There is a [delegate](https://developer.apple.com/documentation/appkit/nsopensavepaneldelegate)
    that I can set. Maybe that gets the result.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
- en: Waste a few minutes on that, basically appears to be for configuration.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: Ah, it inherits from `NSSavePanel`! That was not at all obvious (and I'm sorry
    OOP devotees, that makes damn all sense in principle). Oh, look, loads of new
    functions and properties. Ah, so I'm meant to query the NSOpenPanel object for
    the directory.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: Not really clear how. Xcode offers a `url`, `urls`, `directoryUrl`, `representedUrl`
    among others (I'm not making any of those up and most didn't seem to be in documentation).
    Let's be optimistic and chose `url`. Success! It appears to work.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: 'Oh, also missing (before I continue): in recent versions of MacOS need to add
    a capability for reading (and writing) to user selected directories. Again completely
    missing from documentation and yet another frustration for someone not already
    very familiar with the ecosystem.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: This can be so much better. Apple developers sneer at Electron, but look at
    how [clear Electron's open dialog docs](https://electronjs.org/docs/api/dialog#dialogshowopendialogbrowserwindow-options)
    are.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: What goes wrong with Apple's docs?
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Missing and incomplete
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Outdated (Obj-C or older Swift versioned docs are common)
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Badly written (assumes a level of familiarity that would make reading the docs
    unnecessary). Lack of explanation.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 写得很糟糕（假设了一种熟悉程度，使得阅读文档变得不必要）。缺乏解释。
- en: Lack of examples of even basic usage.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 缺乏甚至基本用法的示例。
- en: 'Badly designed, legacy OOP APIs: Swift can sometimes get away without much
    documentation through good use of types. Sadly a lot of MacOS API''s are a blend
    of old fashioned OOP with surprisingly low level details.'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设计不良的、遗留的面向对象编程API：通过良好的类型使用，Swift 有时可以在不需要太多文档的情况下运行。不幸的是，许多 MacOS 的API是一种老式面向对象编程与令人惊讶的低级细节的混合体。
- en: What if you are doing Apple development?
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如果你在进行苹果开发呢？
- en: Avoid Apple's docs (even where they are top Google results). They will likely
    be pretty bad. Stack Overflow is sometime good (but often an old Swift version).
    Some third party docs and good (Paul Hudson, Ray Wenderlich).
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 避免使用苹果的文档（即使它们是谷歌搜索的前几个结果）。它们可能会很糟糕。有时候 Stack Overflow 还不错（但往往是旧版本的 Swift）。一些第三方文档比较好（Paul
    Hudson、Ray Wenderlich）。

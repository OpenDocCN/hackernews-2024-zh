<!--yml

类别：未分类

日期：2024-05-27 14:42:11

-->

# 去中心化的 Hacker News | Enindu Alahapperuma

> 来源：[`enindu.com/blog/decentralized-hacker-news`](https://enindu.com/blog/decentralized-hacker-news)

当浏览[Hacker News](https://news.ycombinator.com)时，我随机得到了这个想法！我不只是说 Hacker News，还有 Hacker News、[Mastodon](https://joinmastodon.org)和[Reddit](https://www.reddit.com)的结合。你需要吗？我不知道。也许这个想法只是废话。但是，我也有一个商业计划。所以让我们来谈谈这个想法。

此系统有三个主要组件：

1.  客户端

1.  API 服务器

1.  信使服务器

## 客户端

用户是客户端。对于这个系统，将有两种类型的客户端：

1.  网站

1.  移动应用程序

网站只是连接到 API 服务器的前端。我们可以从任何技术构建网站。我更喜欢像[Vue](https://vuejs.org)或[React](https://react.dev)这样的东西。无论如何，我不是前端开发人员，所以任何前端开发人员都可以建议技术。

移动应用程序也只是一个前端，就像网站一样。我们可以使用前端开发人员建议的任何技术来构建它。我还没有为网站和移动应用程序确定任何技术。这只是我所说的系统的高层解释。

从客户端来看，用户被允许注册到系统中，登录到他们的账户，并像在 Reddit 中一样发布任何内容。所以他们可以发布文章或链接。当说到文章时，我不是在说[微博](https://en.wikipedia.org/wiki/Microblogging)，而是真正的[博客](https://en.wikipedia.org/wiki/Blog)。这就是 Reddit 的特点。在 Hacker News 中，我们不能做博客。我有理由在这个系统中发布文章。我们稍后再谈。

客户端、网站或移动应用程序通过[REST API](https://en.wikipedia.org/wiki/REST)连接到 API 服务器。这是我的想法。如果您有其他替代方案，建议总是受欢迎的。无论我们在这里使用什么技术，任何人都应该有自由创建自己客户端的权利。因此，API 服务器应该是公开可访问的。这意味着，作为一个去中心化的系统，任何人都应该能够为任何实例创建自己的客户端。这应该是一个开放的网络。这就是我心中所想的。如果实例所有者需要使其实例变为私有，则应将其托管在私有网络中，外部人员无法访问。

## API 服务器

这是这个系统的引擎。在 API 服务器中，将有三个主要组件：

1.  API

1.  数据库

1.  缓存

同样，API 可以用任何技术编写。我心中有[Go](https://go.dev)，[Python](https://www.python.org)，[Node.js](https://nodejs.org/en)，[PHP](https://www.php.net)和[Ruby](https://www.ruby-lang.org)。由于这是系统的引擎，API 必须能够处理大量数据。因此，与前端不同，技术在这里将至关重要。我们应该使用可维护的、可靠的技术。

所有用户的数据将存储在数据库中。我们可以使用单独的存储，类似于[S3](https://aws.amazon.com/s3)存储桶，用于存储文件。我没有任何特定的技术用作数据库。我们可以使用[PostgreSQL](https://www.postgresql.org)，[MariaDB](https://mariadb.org)，甚至是像[MongoDB](https://www.mongodb.com)这样的无 SQL 数据库。这也可以接受建议。

我们需要一个缓存来优化用户体验以及跨实例的联邦。当外部实例向此系统发送请求时，缓存服务器将提供数据。内部数据库不向外部实例开放。也许我们可以使用类似于[Redis](https://redis.io)的东西。我不知道。

API 服务器通过类似于 REST API 的方式连接到快递服务器。同样，上述技术只是一个例子。我们可以使用任何我们喜欢的。

## 快递服务器

我们使用快递服务器在实例之间进行联邦。Mastodon 使用[ActivityPub](https://www.w3.org/TR/activitypub)协议来实现这一点。我们也可以使用那个，或者我们可以只是使用一个具有标准结构的 REST API。与往常一样，我对任何建议都持开放态度。

快递服务器是双向服务器，意味着它同时发送请求和接收请求。当外部实例从此实例请求数据时，请求是从外部实例的快递服务器发送的。该请求被此实例的快递服务器接收。之后，在内部快递服务器、内部 API 服务器、缓存和数据库内部进行内部请求。之后，响应将发送到外部快递服务器。只有快递服务器彼此之间进行通信。对于前端不可用的端点，将只对内部快递服务器开放。外部快递服务器不能直接与其他 API 服务器通信。

我们可能需要在内部 API 服务器和内部快递服务器之间使用某种身份验证系统。由于快递服务器可以从其他快递服务器外部访问，我们可能还需要为快递服务器添加一个身份验证层。快递服务器不应该对除其他快递服务器之外的任何人公开。我仍在考虑我们应该为此实施什么样的身份验证系统。欢迎任何建议。

## 商业理念

我这里不是在谈论商业系统，而是一个开源项目。所以当我说商业时，我不是在谈论钱。

有几种方法可以让某人使用这个系统：

+   我们可以用这个来写博客。我们已经了解[IndieWeb](https://indieweb.org)，[Webmention](https://www.w3.org/TR/webmention)，以及其他东西。我们可以在这个系统中做 Webmention 之类的事情。每个实例都将像一个独立的博客一样运作。就像 Mastodon 一样，但用于博客。

+   我们可以将其用作公司的内部系统。公司必须为每个组件设置实例。每个实例都有一定的员工，但由于分散的性质，所有员工都可以共同工作。

+   Hacker News 仅代表一个原因，那就是我们可以使用这个系统为各种类别创建数百个或数千个 Hacker News 站点。

我对这个系统有更多的用例。我只是太懒得一一提及它们。顺便说一句，你懂我的意思。但有三件事情一直在我脑海里说话。

1.  我只是在谈论 Mastodon 吗？嗯，也许。

1.  这个系统和 Mastodon 有什么区别？我不太确定。

1.  我们需要这个系统吗？我不知道。

然而，我们可以一起找到正确的答案。

## 免责声明

这是我自己的纯粹想法。我没有从任何地方抄袭。如果有人有类似的想法，我并不打算揭示，因为我不知道他们有这样的想法。

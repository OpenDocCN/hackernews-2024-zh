<!--yml

类别：未分类

日期：2024-05-27 14:41:47

-->

# Chris's Wiki :: blog/tech/MFAIsBothSimpleAndWork

> 来源：[`utcc.utoronto.ca/~cks/space/blog/tech/MFAIsBothSimpleAndWork`](https://utcc.utoronto.ca/~cks/space/blog/tech/MFAIsBothSimpleAndWork)

在 Fediverse 上[我之前说过一些话](https://mastodon.social/@cks/111564970574073609)：

> 我对“为什么我永远不会为 Github 启用 MFA”有些抱怨。简短版本是我在 GH 上发布代码是因为这是一个轻松且低成本的分享方式。到目前为止，管理 MFA 和 MFA 恢复都不是这样的；有很多麻烦，担忧，要做的工作，以及“我相信你永远不会滥用我的电话号码吗？”的问题（剧透，不会）。
> 
> 我会处理工作的 MFA。但我不会为我只是为了好玩而做的事情启用 MFA，因为 MFA 使得事情不好玩。

基本 MFA 现在在表面上看起来相当简单。你会得到一个值得信赖的智能手机应用程序（这已经是两个打击了），你在启用账户 MFA 时会得到一个二维码，然后之后你使用手机生成 MFA [TOTP](https://en.wikipedia.org/wiki/Time-based_one-time_password) 代码，在登录时和密码一起输入。这比纯密码略微麻烦，但想想安全性，对吧？

但是，如果你的手机丢失、损坏或无法使用，因为它的电池鼓包了，而且需要花费一两周时间才能让运营商为你换一个新的（这种情况曾经发生在我们的工作手机上），那该怎么办？通常你会得到一些一次性的特殊代码，但现在你需要存储和管理它们（显然不是在手机上）。如果你担心手机丢失，可能希望备份 TOTP 二维码和密钥本身。恢复代码和 TOTP 密钥都是有效的密码，现在你需要安全地处理它们；如果你使用密码管理器，它可能会或可能不会愿意为你安全地存储它们。也许你可以考虑[age](https://age-encryption.org/)。

（打印出您的恢复代码并将纸张存放在某个地方会使您面临像家庭火灾这样的问题，这是您可能会丢失手机的场合。）

广泛地说，多重身份验证(MFA)在没有一个网站有一个良好的账户恢复故事。弄清楚如何处理这个问题并不是微不足道的，这是你的问题，而不是他们的问题。虽然目前 TOTP 不是 MFA 中的东西，但物理硬件令牌的故事在很多方面更糟糕，因为你根本不能备份它们（与 TOTP 密钥不同）。一些环境将备份软件[通行证](https://en.wikipedia.org/wiki/WebAuthn)，但到目前为止，只在相同类型的环境之间备份，并且通常以同步所有浏览器状态等价格。

然而，所有这些在简单的 MFA 故事中基本上是看不见的。简单的 MFA 故事是一切都神奇地自然而然地运行，你可以毫无问题或严重风险地打开它。当然，网站有充分的理由推动这个故事；他们希望他们的用户打开 MFA，出于各种各样的原因。我相信，简单的 MFA 故事与以可靠方式维护对帐户的访问的实际 MFA 工作之间的差距是危险的，而且迟早这种危险会变得痛苦地显现出来。

(就像许多其他版本的数学安全性，简单的 MFA 故事在出现问题时会归咎于人们（无论何时这样做，总是称为“用户”）。当事情出了问题时，他们应该小心地保存他们的备用代码，不要把它们弄丢；他们应该将手机的 TOTP 存储同步到云端，或者在更换手机时执行特殊的导出和导入步骤，或者任何其他可能防止问题发生的事情。这与通常情况下一样错误。安全不是数学，是人。)

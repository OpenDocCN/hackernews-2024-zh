- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 14:56:12'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: Driver hack lets you run Linux after Windows BSODs, no reboot required — bug
    check fallback allows running programs after the OS crashes | Tom's Hardware
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://www.tomshardware.com/software/operating-systems/driver-hack-lets-you-run-linux-after-windows-bsods-no-reboot-required](https://www.tomshardware.com/software/operating-systems/driver-hack-lets-you-run-linux-after-windows-bsods-no-reboot-required)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: Normally, a blue screen of death crash (BSOD) in Windows would cause your PC
    to automatically restart, but [programmer NSG650](https://github.com/NSG650/BugCheck2Linux)
    (via [NTDEV](https://www.youtube.com/watch?v=XUsfSQPrqrM')) has created a driver
    that instead makes your PC boot up a Linux emulator. While this driver is more
    of a novelty than it is actually useful, it's an ingenious showcase of how to
    exploit features in software by simply using them in an unintended way.
  prefs: []
  type: TYPE_NORMAL
- en: The way this driver works is actually pretty simple — it just uses the built-in
    bug check callback feature in Windows. A bug check is just the technical name
    for a crash or BSOD, and when a bug check happens, Windows wants to know why.
    As part of the bug check callback routine, [drivers](https://www.tomshardware.com/tag/drivers)
    can "reset a device to a known state," per [Microsoft's Windows coding handbook](https://click.linksynergy.com/deeplink?id=kXQk6%2AivFEQ&mid=24542&u1=tomshardware-us-1222065713088901764&murl=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fwindows-hardware%2Fdrivers%2Fkernel%2Fwriting-a-bug-check-callback-routine).
    In other words, it can still run code after a crash.
  prefs: []
  type: TYPE_NORMAL
- en: While most drivers would use this opportunity to add diagnostic data to the
    crash dump file, NSG650's driver inserts a RISC-V Linux emulator, which might
    be a slight misuse of the bug check callback function in [Microsoft](https://www.tomshardware.com/tag/microsoft)'s
    eyes. To be clear, this is not to be confused with a PC with [dual booting](https://www.tomshardware.com/how-to/dual-boot-linux-and-windows-11),
    which means it has both Windows and Linux installed.
  prefs: []
  type: TYPE_NORMAL
- en: You won't be able to do much in this emulator because it's basically just DOS
    or a command line operating system rather than something fully fleshed out like
    Ubuntu or Arch Linux. You can't even backspace if you make a typo, and you have
    to use caps lock instead of shift to capitalize; that's how limited this emulator
    is.
  prefs: []
  type: TYPE_NORMAL
- en: However, this [RISC-V Linux emulator](https://github.com/cnlohr/mini-rv32ima)
    is incredibly tiny and only clocks in at 400 lines of code. By contrast, the full
    Linux kernel alone has millions of lines. It would seem that either it wasn't
    possible to run a full Linux distro, or it was simply too much of a hassle to
    get it to work, which would be a fair reason given that this isn't something anyone
    is likely to seriously use.
  prefs: []
  type: TYPE_NORMAL
- en: While this driver is more or less just a funny joke about Windows and Linux,
    it does bring up the possibility of doing more with the same bug check callback
    feature. It's not clear what you can and can't do, but if it's possible to run
    an emulator after crashing, then surely it's possible to do other things, too.
    That's all assuming Microsoft doesn't revisit this feature of Windows and concludes
    it's just a bit too easy to exploit.
  prefs: []
  type: TYPE_NORMAL
- en: Get Tom's Hardware's best news and in-depth reviews, straight to your inbox.
  prefs: []
  type: TYPE_NORMAL

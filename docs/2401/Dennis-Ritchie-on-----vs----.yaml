- en: <!--yml
  prefs: []
  type: TYPE_NORMAL
- en: 'category: 未分类'
  prefs: []
  type: TYPE_NORMAL
- en: 'date: 2024-05-27 14:30:54'
  prefs: []
  type: TYPE_NORMAL
- en: -->
  prefs: []
  type: TYPE_NORMAL
- en: Dennis Ritchie on & | vs. ==
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 来源：[https://www.lysator.liu.se/c/dmr-on-or.html](https://www.lysator.liu.se/c/dmr-on-or.html)
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
- en: From decvax!harpo!npoiv!alice!research!dmr Fri Oct 22 01:04:10 1982
  prefs: []
  type: TYPE_NORMAL
- en: 'Subject: Operator precedence'
  prefs: []
  type: TYPE_NORMAL
- en: 'Newsgroups: net.lang.c'
  prefs: []
  type: TYPE_NORMAL
- en: The priorities of `&& ||` vs. `==` etc. came about in the following way.
  prefs: []
  type: TYPE_NORMAL
- en: 'Early C had no separate operators for `&` and `&&` or `|` and `||`. (Got that?) Instead
    it used the notion (inherited from [B](msb-on-b.html#main) and [BCPL](alan-on-bcpl.html#bcpl-main))
    of "truth-value context": where a Boolean value was expected, after "if" and "while"
    and so forth, the & and | operators were interpreted as && and || are now; in
    ordinary expressions, the bitwise interpretations were used. It worked out pretty
    well, but was hard to explain. (There was the notion of "top-level operators"
    in a truth-value context.)'
  prefs: []
  type: TYPE_NORMAL
- en: The precedence of `&` and `|` were as they are now.
  prefs: []
  type: TYPE_NORMAL
- en: Primarily at the urging of Alan Snyder, the `&&` and `||` operators were added. This
    successfully separated the concepts of bitwise operations and short-circuit Boolean
    evaluation. However, I had cold feet about the precedence problems. For example,
    there were lots of programs with things like
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: In retrospect it would have been better to go ahead and change the precedence
    of `&` to higher than `==`, but it seemed safer just to split `&` and `&&` without
    moving `&` past an existing operator. (After all, we had several hundred kilobytes
    of source code, and maybe 3 installations....)
  prefs: []
  type: TYPE_NORMAL
- en: '[Dennis Ritchie](http://www.cs.bell-labs.com/who/dmr/index.html)'
  prefs: []
  type: TYPE_NORMAL
